{"version":3,"sources":["node_modules/browser-pack/_prelude.js","web/js/index.js","node_modules/leftpad/index.js","node_modules/markdown/lib/index.js","node_modules/lodash/lodash.js","node_modules/d3/build/d3.js","node_modules/markdown/lib/markdown.js","node_modules/util/util.js","node_modules/util/support/isBufferBrowser.js","node_modules/process/browser.js","node_modules/inherits/inherits_browser.js"],"names":["_lodash","require","_d2","d3","_markdown","_leftpad","md","_markdown2","default","markdown","container","controls","config_cache","data_cache","explanation_cache","x_scale","y_scale","container_id","width","height","margin","left","top","right","bottom","dispatch","init","on","c","i","selected_toggles","document","querySelector","draw","metrics","select","text","columns","img","html","append","attr","explanation_pic_prefix","_leftpad2","explanation_pic_postfix","general_intro_path","toHTML","project_name","svg","project_type","csv","data_path","prepare","data","create_controls","_render_axes","render_axes","_render_axes2","_slicedToArray","explanation_path","explanation","apply","undefined","row","_lodash2","mapValues","v","Number","x_label","toLowerCase","_extends","year","Date","selected","selected_column","concat","value","constant_limit","lines","selectAll","d","enter","line","x","y","exit","remove","areas","area","y0","y1","Math","max","limit","map","selected_data","above_the_line","filter","extra_birds","sum","extra_birds_per_year","length","round","toLocaleString","forEach","control","this","x_extent","extent","scaleTime","domain","range","nice","timeYear","x_axis","axisBottom","ticks","every","y_extent","scaleLinear","y_axis","axisLeft","x_grid","axisTop","tickSize","tickFormat","y_grid","axisRight","call","y_label","json","config","module","exports","str","char","toString","parse","addMapEntry","pair","set","addSetEntry","add","func","thisArg","args","arrayAggregator","array","setter","iteratee","accumulator","index","arrayEach","arrayEachRight","arrayEvery","predicate","arrayFilter","resIndex","result","arrayIncludes","baseIndexOf","arrayIncludesWith","comparator","arrayMap","Array","arrayPush","values","offset","arrayReduce","initAccum","arrayReduceRight","arraySome","asciiToArray","string","split","asciiWords","match","reAsciiWord","baseFindKey","collection","eachFunc","key","baseFindIndex","fromIndex","fromRight","baseIsNaN","baseIndexOfWith","baseMean","baseSum","NAN","baseProperty","object","basePropertyOf","baseReduce","baseSortBy","comparer","sort","current","baseTimes","n","baseToPairs","props","baseUnary","baseValues","cacheHas","cache","has","charsStartIndex","strSymbols","chrSymbols","charsEndIndex","countHolders","placeholder","escapeStringChar","chr","stringEscapes","getValue","hasUnicode","reHasUnicode","test","hasUnicodeWord","reHasUnicodeWord","isHostObject","e","iteratorToArray","iterator","next","done","push","mapToArray","size","overArg","transform","arg","replaceHolders","PLACEHOLDER","setToArray","setToPairs","stringSize","unicodeSize","asciiSize","stringToArray","unicodeToArray","reUnicode","lastIndex","unicodeWords","reUnicodeWord","runInContext","context","lodash","isObjectLike","isArray","LazyWrapper","LodashWrapper","hasOwnProperty","wrapperClone","baseLodash","chainAll","__wrapped__","__actions__","__chain__","__index__","__values__","__dir__","__filtered__","__iteratees__","__takeCount__","MAX_ARRAY_LENGTH","__views__","lazyClone","copyArray","lazyReverse","clone","lazyValue","dir","isArr","isRight","arrLength","view","getView","start","end","iteratees","iterLength","takeCount","nativeMin","LARGE_ARRAY_SIZE","baseWrapperValue","outer","iterIndex","type","computed","LAZY_MAP_FLAG","LAZY_FILTER_FLAG","Hash","entries","clear","entry","hashClear","__data__","nativeCreate","hashDelete","hashGet","HASH_UNDEFINED","hashHas","hashSet","ListCache","listCacheClear","listCacheDelete","assocIndexOf","pop","splice","listCacheGet","listCacheHas","listCacheSet","MapCache","mapCacheClear","hash","Map","mapCacheDelete","getMapData","mapCacheGet","get","mapCacheHas","mapCacheSet","SetCache","setCacheAdd","setCacheHas","Stack","stackClear","stackDelete","stackGet","stackHas","stackSet","pairs","arrayLikeKeys","inherited","isArguments","String","skipIndexes","isIndex","assignInDefaults","objValue","srcValue","eq","objectProto","assignMergeValue","assignValue","baseAggregator","baseEach","baseAssign","source","copyObject","keys","baseAt","paths","isNil","baseClamp","number","lower","upper","baseClone","isDeep","isFull","customizer","stack","isObject","initCloneArray","tag","getTag","isFunc","funcTag","genTag","isBuffer","cloneBuffer","objectTag","argsTag","initCloneObject","copySymbols","cloneableTags","initCloneByTag","stacked","getAllKeys","subValue","baseConforms","baseConformsTo","Object","baseCreate","proto","objectCreate","baseDelay","wait","TypeError","FUNC_ERROR_TEXT","setTimeout","baseDifference","includes","isCommon","valuesLength","valuesIndex","baseEvery","baseExtremum","isSymbol","baseFill","toInteger","toLength","baseFilter","baseFlatten","depth","isStrict","isFlattenable","baseForOwn","baseFor","baseForOwnRight","baseForRight","baseFunctions","isFunction","baseGet","path","isKey","castPath","toKey","baseGetAllKeys","keysFunc","symbolsFunc","baseGetTag","objectToString","baseGt","other","baseHas","baseHasIn","baseInRange","nativeMax","baseIntersection","arrays","othLength","othIndex","caches","maxLength","Infinity","seen","baseInverter","baseInvoke","parent","last","baseIsArrayBuffer","arrayBufferTag","baseIsDate","dateTag","baseIsEqual","bitmask","baseIsEqualDeep","equalFunc","objIsArr","othIsArr","objTag","arrayTag","othTag","objIsObj","othIsObj","isSameTag","isTypedArray","equalArrays","equalByTag","PARTIAL_COMPARE_FLAG","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","equalObjects","baseIsMap","mapTag","baseIsMatch","matchData","noCustomizer","UNORDERED_COMPARE_FLAG","baseIsNative","isMasked","pattern","reIsNative","reIsHostCtor","toSource","baseIsRegExp","regexpTag","baseIsSet","setTag","baseIsTypedArray","isLength","typedArrayTags","baseIteratee","identity","baseMatchesProperty","baseMatches","property","baseKeys","isPrototype","nativeKeys","baseKeysIn","nativeKeysIn","isProto","baseLt","baseMap","isArrayLike","getMatchData","matchesStrictComparable","isStrictComparable","hasIn","baseMerge","srcIndex","baseMergeDeep","newValue","mergeFunc","isArrayLikeObject","isPlainObject","toPlainObject","baseNth","baseOrderBy","orders","getIteratee","criteria","compareMultiple","basePick","basePickBy","basePropertyDeep","basePullAll","indexOf","basePullAt","indexes","previous","baseRandom","nativeFloor","nativeRandom","baseRange","step","nativeCeil","baseRepeat","MAX_SAFE_INTEGER","baseRest","arguments","otherArgs","baseSet","nested","baseSlice","baseSome","baseSortedIndex","retHighest","low","high","HALF_MAX_ARRAY_LENGTH","mid","baseSortedIndexBy","valIsNaN","valIsNull","valIsSymbol","valIsUndefined","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","setLow","MAX_ARRAY_INDEX","baseSortedUniq","baseToNumber","baseToString","symbolToString","INFINITY","baseUniq","createSet","seenIndex","baseUnset","baseUpdate","updater","baseWhile","isDrop","actions","action","baseXor","baseZipObject","assignFunc","valsLength","castArrayLikeObject","castFunction","stringToPath","castSlice","buffer","slice","constructor","copy","cloneArrayBuffer","arrayBuffer","byteLength","Uint8Array","cloneDataView","dataView","byteOffset","cloneMap","cloneFunc","cloneRegExp","regexp","reFlags","exec","cloneSet","cloneSymbol","symbol","symbolValueOf","cloneTypedArray","typedArray","compareAscending","valIsDefined","valIsReflexive","objCriteria","othCriteria","ordersLength","order","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","composeArgsRight","holdersIndex","rightIndex","rightLength","getSymbols","createAggregator","initializer","createAssigner","assigner","sources","guard","isIterateeCall","createBaseEach","iterable","createBaseFor","createBind","wrapper","fn","root","Ctor","isBind","BIND_FLAG","createCtor","createCaseFirst","methodName","charAt","trailing","join","createCompounder","callback","words","deburr","replace","reApos","thisBinding","prototype","createCurry","arity","getHolder","createRecurry","createHybrid","createFind","findIndexFunc","createFlow","funcs","prereq","thru","reverse","getFuncName","funcName","getData","isLaziable","ARY_FLAG","CURRY_FLAG","PARTIAL_FLAG","REARG_FLAG","plant","partialsRight","holdersRight","argPos","ary","holdersCount","newHolders","isBindKey","reorder","isFlip","isAry","BIND_KEY_FLAG","CURRY_RIGHT_FLAG","FLIP_FLAG","createInverter","toIteratee","createMathOperation","operator","defaultValue","createOver","arrayFunc","createPadding","chars","charsLength","createPartial","createRange","toFinite","createRelationalOperation","toNumber","wrapFunc","isCurry","newHoldersRight","newPartials","newPartialsRight","PARTIAL_RIGHT_FLAG","CURRY_BOUND_FLAG","newData","setData","setWrapToString","createRound","precision","createToPairs","createWrap","mergeData","baseSetData","isPartial","arrValue","othValue","compared","dataViewTag","boolTag","numberTag","errorTag","name","message","stringTag","convert","symbolTag","objProps","objLength","othProps","skipCtor","objCtor","othCtor","getAllKeysIn","keysIn","getSymbolsIn","realNames","otherFunc","isKeyable","getNative","transforms","getWrapDetails","reWrapDetails","reSplitDetails","hasPath","hasFunc","input","getPrototype","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","insertWrapDetails","details","reWrapComment","spreadableSymbol","reIsUint","reIsPlainProp","reIsDeepProp","maskSrcKey","srcBitmask","newBitmask","isCombo","mergeDefaults","oldArray","funcToString","updateWrapDetails","wrapFlags","chunk","compact","drop","dropRight","dropRightWhile","dropWhile","fill","findIndex","findLastIndex","flatten","flattenDeep","flattenDepth","fromPairs","head","initial","separator","nativeJoin","lastIndexOf","nth","pullAll","pullAllBy","pullAllWith","nativeReverse","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","sortedUniq","sortedUniqBy","tail","take","takeRight","takeRightWhile","takeWhile","uniq","uniqBy","uniqWith","unzip","group","unzipWith","zipObject","zipObjectDeep","chain","tap","interceptor","wrapperChain","wrapperCommit","wrapperNext","toArray","wrapperToIterator","wrapperPlant","wrapperReverse","wrapped","wrapperValue","flatMap","flatMapDeep","flatMapDepth","forEachRight","baseEachRight","isString","orderBy","reduce","reduceRight","reject","negate","sample","sampleSize","rand","shuffle","some","after","before","curry","curryRight","debounce","options","invokeFunc","time","lastArgs","lastThis","lastInvokeTime","leadingEdge","timerId","timerExpired","leading","remainingWait","timeSinceLastCall","lastCallTime","timeSinceLastInvoke","maxing","maxWait","shouldInvoke","now","trailingEdge","cancel","clearTimeout","flush","debounced","isInvoking","flip","memoize","resolver","memoized","Cache","once","rest","spread","throttle","unary","wrap","partial","castArray","cloneWith","cloneDeep","cloneDeepWith","conformsTo","propertyIsEnumerable","isBoolean","isElement","nodeType","isEmpty","nonEnumShadows","isEqual","isEqualWith","isError","isFinite","nativeIsFinite","isInteger","isMatch","isMatchWith","isNaN","isNumber","isNative","isMaskable","Error","isNull","objectCtorString","isSafeInteger","isUndefined","isWeakMap","weakMapTag","isWeakSet","weakSetTag","iteratorSymbol","sign","MAX_INTEGER","remainder","valueOf","reTrim","isBinary","reIsBinary","reIsOctal","freeParseInt","reIsBadHex","toSafeInteger","create","properties","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","functions","functionsIn","mapKeys","omitBy","pickBy","setWith","unset","update","updateWith","valuesIn","clamp","inRange","random","floating","temp","freeParseFloat","capitalize","upperFirst","reLatin","deburrLetter","reComboMark","endsWith","target","position","escape","reHasUnescapedHtml","reUnescapedHtml","escapeHtmlChar","escapeRegExp","reHasRegExpChar","reRegExpChar","pad","strLength","padEnd","padStart","parseInt","radix","nativeParseInt","reHasHexPrefix","repeat","isRegExp","startsWith","template","settings","templateSettings","assignInWith","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reNoMatch","reDelimiters","RegExp","reInterpolate","reEsTemplate","evaluate","sourceURL","templateCounter","escapeValue","interpolateValue","esTemplateValue","evaluateValue","reUnescapedString","variable","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","attempt","Function","toLower","toUpper","toUpperCase","trim","trimEnd","reTrimEnd","trimStart","reTrimStart","truncate","DEFAULT_TRUNC_LENGTH","omission","DEFAULT_TRUNC_OMISSION","search","substring","global","newEnd","unescape","reHasEscapedHtml","reEscapedHtml","unescapeHtmlChar","cond","conforms","constant","defaultTo","matches","matchesProperty","mixin","methodNames","noConflict","_","oldDash","noop","nthArg","propertyOf","stubArray","stubFalse","stubObject","stubString","stubTrue","times","toPath","uniqueId","prefix","id","idCounter","maxBy","mean","meanBy","min","minBy","sumBy","defaults","pick","contextProps","arrayProto","funcProto","coreJsData","uid","IE_PROTO","Buffer","moduleExports","Symbol","getPrototypeOf","isConcatSpreadable","ctxClearTimeout","ctxNow","ctxSetTimeout","ceil","floor","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","DataView","Promise","Set","WeakMap","defineProperty","metaMap","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","reEscape","reEvaluate","ArrayBuffer","resolve","promiseTag","ctorString","count","lastCalled","stamp","remaining","HOT_SPAN","HOT_COUNT","reference","configurable","enumerable","reLeadingDot","rePropName","quote","reEscapeChar","difference","differenceBy","differenceWith","intersection","mapped","intersectionBy","intersectionWith","pull","pullAt","union","unionBy","unionWith","without","xor","xorBy","xorWith","zip","zipWith","wrapperAt","countBy","find","findLast","groupBy","invokeMap","isProp","keyBy","partition","sortBy","bind","bindKey","defer","delay","overArgs","funcsLength","partialRight","rearg","gt","gte","isArrayBuffer","nodeIsArrayBuffer","isDate","nodeIsDate","isMap","nodeIsMap","nodeIsRegExp","isSet","nodeIsSet","nodeIsTypedArray","lt","lte","assign","assignIn","assignWith","at","defaultsDeep","mergeWith","invert","invertBy","invoke","merge","omit","toPairs","toPairsIn","camelCase","word","kebabCase","lowerCase","lowerFirst","snakeCase","startCase","upperCase","bindAll","flow","flowRight","method","methodOf","over","overEvery","overSome","rangeRight","augend","addend","divide","dividend","divisor","multiply","multiplier","multiplicand","subtract","minuend","subtrahend","entriesIn","extend","extendWith","each","eachRight","first","VERSION","filtered","isFilter","LAZY_WHILE_FLAG","takeName","dropName","checkIteratee","isTaker","lodashFunc","retUnwrapped","isLazy","useLazy","isHybrid","isUnwrapped","onlyLazy","chainName","names","commit","toJSON","rsAstralRange","rsComboMarksRange","rsComboSymbolsRange","rsDingbatRange","rsLowerRange","rsMathOpRange","rsNonCharRange","rsPunctuationRange","rsSpaceRange","rsUpperRange","rsVarRange","rsBreakRange","rsApos","rsAstral","rsBreak","rsCombo","rsDigits","rsDingbat","rsLower","rsMisc","rsFitz","rsModifier","rsNonAstral","rsRegional","rsSurrPair","rsUpper","rsZWJ","rsLowerMisc","rsUpperMisc","rsOptLowerContr","rsOptUpperContr","reOptMod","rsOptVar","rsOptJoin","rsSeq","rsEmoji","rsSymbol","deburredLetters","À","Á","Â","Ã","Ä","Å","à","á","â","ã","ä","å","Ç","ç","Ð","ð","È","É","Ê","Ë","è","é","ê","ë","Ì","Í","Î","Ï","ì","í","î","ï","Ñ","ñ","Ò","Ó","Ô","Õ","Ö","Ø","ò","ó","ô","õ","ö","ø","Ù","Ú","Û","Ü","ù","ú","û","ü","Ý","ý","ÿ","Æ","æ","Þ","þ","ß","Ā","Ă","Ą","ā","ă","ą","Ć","Ĉ","Ċ","Č","ć","ĉ","ċ","č","Ď","Đ","ď","đ","Ē","Ĕ","Ė","Ę","Ě","ē","ĕ","ė","ę","ě","Ĝ","Ğ","Ġ","Ģ","ĝ","ğ","ġ","ģ","Ĥ","Ħ","ĥ","ħ","Ĩ","Ī","Ĭ","Į","İ","ĩ","ī","ĭ","į","ı","Ĵ","ĵ","Ķ","ķ","ĸ","Ĺ","Ļ","Ľ","Ŀ","Ł","ĺ","ļ","ľ","ŀ","ł","Ń","Ņ","Ň","Ŋ","ń","ņ","ň","ŋ","Ō","Ŏ","Ő","ō","ŏ","ő","Ŕ","Ŗ","Ř","ŕ","ŗ","ř","Ś","Ŝ","Ş","Š","ś","ŝ","ş","š","Ţ","Ť","Ŧ","ţ","ť","ŧ","Ũ","Ū","Ŭ","Ů","Ű","Ų","ũ","ū","ŭ","ů","ű","ų","Ŵ","ŵ","Ŷ","ŷ","Ÿ","Ź","Ż","Ž","ź","ż","ž","Ĳ","ĳ","Œ","œ","ŉ","ſ","htmlEscapes","&","<",">","\"","'","`","htmlUnescapes","&amp;","&lt;","&gt;","&quot;","&#39;","&#96;","\\","\n","\r"," "," ","parseFloat","freeGlobal","freeSelf","self","freeExports","freeModule","freeProcess","process","nodeUtil","binding","define","amd","factory","ascending","a","b","NaN","bisector","compare","ascendingComparator","lo","hi","f","descending","variance","m","s","j","deviation","sqrt","stop","tickStep","step0","abs","step1","pow","log","LN10","error","e10","e5","e2","sturges","LN2","histogram","xz","x0","x1","tz","threshold","shift","bin","bins","bisectRight","thresholds","p","h","freedmanDiaconis","scott","median","numbers","merged","permute","permutes","scan","xi","xj","i0","i1","t","transpose","matrix","map$1","o","nest","createResult","setResult","rollup","sortValues","keyValue","valuesByKey","sortKey","sortKeys","k","createObject","setObject","createMap","setMap","uniform","normal","mu","sigma","r","logNormal","randomNormal","exp","irwinHall","bates","randomIrwinHall","exponential","lambda","linear","quadIn","quadOut","quadInOut","cubicIn","cubicOut","easeCubicInOut","sinIn","cos","halfPi","sinOut","sin","sinInOut","pi","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","bounceIn","bounceOut","b1","b0","b3","b2","b4","b6","b5","b7","b8","b9","bounceInOut","polygon","centroid","cross","lexicographicOrder","computeUpperHullIndexes","points","hull","sortedPoints","flippedPoints","upperIndexes","lowerIndexes","skipLeft","skipRight","contains","point","inside","length$1","xa","ya","xb","yb","perimeter","Path","_x0","_y0","_x1","_y1","tree_add","_x","_y","cover","tree","xm","ym","xp","yp","node","_root","leaf","addAll","yz","tree_cover","z","tree_data","visit","tree_extent","Quad","tree_find","radius","x2","y2","q","x3","y3","quads","dx","dy","d2","tree_remove","retainer","removeAll","tree_root","tree_size","tree_visit","child","tree_visitAfter","defaultX","tree_x","defaultY","tree_y","quadtree","nodes","Quadtree","leaf_copy","Queue","_size","_call","_error","_tasks","_data","_waiting","_active","_ended","_start","poke","abort","noabort","maybeNotify","queue","concurrency","constant$1","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","asin","halfPi$1","intersect","x10","y10","x32","y32","cornerTangents","r1","rc","cw","x01","y01","ox","oy","x11","y11","x00","y00","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","arc","r0","a0","a1","da","epsilon$1","tau$2","moveTo","t0","t1","a01","a11","a00","a10","da0","da1","ap","rp","padRadius","cornerRadius","rc0","rc1","p0","p1","pi$2","oc","ax","ay","bx","by","kc","acos","lc","atan2","lineTo","closePath","Linear","_context","curveLinear","defined0","output","curve","defined","lineStart","lineEnd","x$$","y$$","area$1","x0z","y0z","areaStart","areaEnd","arealine","lineX0","lineY0","lineY1","lineX1","descending$1","identity$1","pie","arcs","pa","Radial","_curve","curveRadial","radial","radialLine","l","angle","radialLine$1","curveRadialLinear","radialArea","lineStartAngle","lineEndAngle","lineInnerRadius","lineOuterRadius","circle","that","bezierCurveTo","Basis","basis","BasisClosed","basisClosed","BasisOpen","basisOpen","Bundle","beta","_basis","_beta","point$1","_k","_x2","_y2","Cardinal","tension","CardinalClosed","CardinalOpen","point$2","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","alpha","_alpha","CatmullRomClosed","CatmullRomOpen","LinearClosed","linearClosed","slope3","h0","h1","s0","s1","slope2","point$3","MonotoneX","MonotoneY","ReflectContext","monotoneX","monotoneY","Natural","controlPoints","natural","Step","_t","stepBefore","stepAfter","none","series","none$1","stackValue","oz","kz","sz","sij","ki","si","slice$2","expand","silhouette","wiggle","s2","sij0","sij1","s3","sk","skj0","skj1","ascending$1","sums","sum$1","descending$2","insideOut","tops","bottoms","definition","Color","color","format","reHex3","Rgb","reHex6","rgbn","reRgbInteger","reRgbPercent","reRgbaInteger","rgba","reRgbaPercent","reHslPercent","hsla","reHslaPercent","named","g","rgbConvert","rgb","opacity","colorRgb","Hsl","hslConvert","colorHsl","hsl2rgb","m1","m2","labConvert","Lab","Hcl","deg2rad","rgb2xyz","xyz2lab","Xn","Yn","Zn","lab","t3","t2","lab2xyz","xyz2rgb","hclConvert","rad2deg","colorHcl","cubehelixConvert","Cubehelix","BC_DA","ED","EB","bl","E","C","cubehelix","basis$1","v0","v1","v2","v3","basis$2","basisClosed$1","constant$2","linear$1","exponential$1","hue","gamma","nogamma","rgbSpline","spline","colors","array$1","nb","na","date","setTime","interpolateNumber","zero","one","interpolateString","am","bm","bs","bi","reA","reB","interpolateRgb","interpolateRound","decompose","scaleX","scaleY","skewX","translateX","translateY","rotate","degrees","atan","parseCss","identity$2","cssNode","createElement","cssRoot","documentElement","cssView","defaultView","style","getComputedStyle","appendChild","getPropertyValue","removeChild","parseSvg","svgNode","createElementNS","setAttribute","baseVal","consolidate","interpolateTransform","pxComma","pxParen","degParen","translate","scale","cosh","sinh","tanh","interpolateZoom","S","ux0","uy0","w0","ux1","uy1","w1","epsilon2","rho","d1","rho4","rho2","coshr0","u","duration","hsl","lab$1","hcl","cubehelix$1","cubehelixGamma","cubehelix$$","quantize","interpolator","samples","Dispatch","parseTypenames","typenames","types","set$1","noop$1","objectConverter","JSON","stringify","customConverter","inferColumns","rows","columnSet","column","dsv","delimiter","parseRows","token","I","N","EOF","eol","EOL","charCodeAt","delimiterCode","formatValue","formatRows","formatRow","reFormat","request","url","respond","status","xhr","hasResponse","response","event","mimeType","responseType","headers","XMLHttpRequest","user","password","timeout","XDomainRequest","onload","onerror","ontimeout","onreadystatechange","readyState","onprogress","header","send","post","open","setRequestHeader","overrideMimeType","fixCallback","responseText","defaultMimeType","dsv$1","responseOf","clockNow","setFrame","clearNow","clock","clockSkew","Timer","_time","_next","timer","restart","timerFlush","frame","taskHead","wake","clockLast","nap","poke$1","pokeDelay","taskTail","sleep","interval","clearInterval","setInterval","timeout$1","elapsed","interval$1","total","tick","newInterval","floori","offseti","field","d0","t0$1","t1$1","weekday","setDate","getDate","getDay","setHours","getTimezoneOffset","durationMinute","durationWeek","utcWeekday","setUTCDate","getUTCDate","getUTCDay","setUTCHours","formatDecimal","toExponential","coefficient","exponent$1","formatGroup","grouping","thousands","formatDefault","toPrecision","out","formatPrefixAuto","exponent","prefixExponent","formatRounded","formatSpecifier","specifier","FormatSpecifier","re","align","comma","formatTypes","identity$3","formatLocale","locale","newFormat","valuePrefix","valueSuffix","suffix","formatType","valueNegative","prefixes","maybeSuffix","decimal","padding","currency","formatPrefix","defaultLocale","precisionFixed","precisionPrefix","precisionRound","localDate","H","M","L","setFullYear","utcDate","UTC","setUTCFullYear","newYear","formatLocale$1","formats","pads","newParse","newDate","parseSpecifier","w","day","W","U","Z","parses","parsePeriod","periodRe","periodLookup","parseShortWeekday","shortWeekdayRe","shortWeekdayLookup","parseWeekday","weekdayRe","weekdayLookup","parseShortMonth","shortMonthRe","shortMonthLookup","parseMonth","monthRe","monthLookup","parseLocaleDateTime","locale_dateTime","parseLocaleDate","locale_date","parseLocaleTime","locale_time","formatShortWeekday","locale_shortWeekdays","formatWeekday","locale_weekdays","formatShortMonth","locale_shortMonths","getMonth","formatMonth","locale_months","formatPeriod","locale_periods","getHours","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","getUTCMonth","formatUTCMonth","formatUTCPeriod","getUTCHours","dateTime","periods","days","shortDays","months","shortMonths","formatRe","formatLookup","A","B","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekNumberSunday","formatWeekdayNumber","formatWeekNumberMonday","X","formatYear","Y","formatFullYear","formatZone","%","formatLiteralPercent","utcFormats","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekNumberSunday","formatUTCWeekdayNumber","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parseDayOfMonth","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parseSeconds","parseWeekNumberSunday","parseWeekdayNumber","parseWeekNumberMonday","parseYear","parseFullYear","parseZone","parseLiteralPercent","utcFormat","utcParse","requote","requoteRe","numberRe","percentRe","getMilliseconds","getMinutes","getSeconds","timeWeek","timeMonday","getFullYear","utcDay","utcYear","getUTCMilliseconds","getUTCMinutes","getUTCSeconds","utcWeek","utcMonday","getUTCFullYear","defaultLocale$1","locale$1","timeFormat","timeParse","formatIsoNative","toISOString","parseIsoNative","ordinal","unknown","implicit","slice$3","band","rescale","range$$","paddingInner","paddingOuter","bandwidth","ordinalRange","rangeRound","pointish","point$4","constant$3","number$1","deinterpolate","deinterpolateClamp","reinterpolateClamp","reinterpolate","bimap","polymap","continuous","deinterpolate$$","piecewise","interpolate$$","unit","map$2","linearish","linear$2","identity$4","deinterpolate$1","pow10","powp","base","logp","log10","log2","reflect","logs","pows","raise","quantile","invertExtent","quantiles","quantize$1","threshold$1","date$1","number$2","calendar","month","week","hour","minute","second","millisecond","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","tickInterval","tickIntervals","durationYear","durationSecond$1","durationMinute$1","durationHour$1","durationDay$1","durationWeek$1","durationMonth","utcTime","utcMonth","utcHour","utcMinute","rainbow$1","ts","rainbow","ramp","sequential","namespace","namespaces","space","local","creatorInherit","ownerDocument","uri","namespaceURI","xhtml","creatorFixed","fullname","creator","Local","nextId","filterContextListener","listener","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","parseTypenames$1","onRemove","typename","__on","removeEventListener","capture","onAdd","filterEvents","addEventListener","selection_on","customEvent","sourceEvent","point$5","ownerSVGElement","createSVGPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","clientLeft","clientTop","mouse","changedTouches","none$2","selector","selection_select","groups","_groups","subgroups","subnode","subgroup","Selection","_parents","empty","selectorAll","querySelectorAll","selection_selectAll","parents","selection_filter","matcher$1","sparse","selection_enter","_enter","EnterNode","datum","_parent","constant$4","bindIndex","groupLength","dataLength","nodeByKeyValue","keyValues","keyPrefix","selection_data","enterGroup","updateGroup","exitGroup","_exit","selection_exit","selection_merge","selection","groups0","groups1","m0","merges","group0","group1","selection_order","nextSibling","parentNode","insertBefore","selection_sort","compareNode","ascending$2","sortgroups","sortgroup","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","selection_attr","getAttributeNS","getAttribute","window","styleRemove","removeProperty","styleConstant","priority","setProperty","styleFunction","selection_style","propertyRemove","propertyConstant","propertyFunction","selection_property","classArray","classList","ClassList","_node","_names","classedAdd","list","classedRemove","classedTrue","classedFalse","classedFunction","selection_classed","textRemove","textContent","textConstant","textFunction","selection_text","htmlRemove","innerHTML","htmlConstant","htmlFunction","selection_html","raise$1","selection_raise","previousSibling","firstChild","selection_lower","selection_append","constantNull","selection_insert","selection_remove","selection_datum","dispatchEvent","params","window$$","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","selection_dispatch","touch","touches","identifier","schedule","timing","schedules","__transition","emptyOn","tween","emptyTween","ease","state","CREATED","set$2","STARTING","get$1","SCHEDULED","STARTED","ENDED","ENDING","interrupt","active","selection_interrupt","tweenRemove","tween0","tween1","tweenFunction","transition_tween","_id","tweenValue","transition","interpolate$1","attrRemove$1","attrRemoveNS$1","attrConstant$1","value1","value00","interpolate0","value0","attrConstantNS$1","attrFunction$1","value10","attrFunctionNS$1","transition_attr","interpolateTransform$2","attrTween","attrTweenNS","_value","transition_attrTween","delayFunction","delayConstant","transition_delay","durationFunction","durationConstant","transition_duration","easeConstant","transition_ease","transition_filter","Transition","_name","transition_merge","start$1","onFunction","on0","on1","sit","transition_on","removeFunction","transition_remove","transition_select","transition_selectAll","children","inherit","transition_selection","Selection$1","styleRemove$1","styleRemoveEnd","styleConstant$1","styleFunction$1","transition_style","interpolateTransform$1","styleTween","transition_styleTween","textConstant$1","textFunction$1","transition_text","transition_transition","id0","id1","newId","defaultTiming","selection_transition","root$1","identity$5","scale0","scale1","center","entering","__axis","axis","orient","tickValues","tickArguments","spacing","tickSizeInner","tickPadding","range0","range1","tickExit","tickEnter","insert","epsilon$2","tickSizeOuter","slice$4","defaultSeparation","meanX","meanXReduce","maxY","maxYReduce","leafLeft","leafRight","cluster","previousNode","eachAfter","separation","nodeSize","node_each","node_eachBefore","node_eachAfter","node_sum","node_sort","eachBefore","node_path","ancestor","leastCommonAncestor","aNodes","ancestors","bNodes","node_ancestors","node_descendants","node_leaves","leaves","node_links","links","hierarchy","childs","Node","valued","defaultChildren","computeHeight","node_copy","copyData","Node$2","shuffle$1","enclose","circles","encloseN","encloses","dr","l2","l0","l1","enclose1","enclose2","enclose3","r2","x21","y21","r21","r3","a2","c2","a3","c3","ab","place","db","dc","intersects","distance2","Node$1","packEnclose","sj","aa","ba","ca","oa","pack","siblings","optional","required","constantZero","constant$5","defaultRadius","radiusLeaf","packChildren","translateChild","roundNode","treemapDice","positionNode","defaultId","defaultParentId","parentId","stratify","nodeId","nodeKey","nodeByKey","keyPrefix$1","ambiguous","preroot","defaultSeparation$1","nextLeft","nextRight","moveSubtree","wm","wp","change","executeShifts","nextAncestor","vim","TreeNode","treeRoot","firstWalk","secondWalk","sizeNode","tx","kx","ky","midpoint","apportion","vip","vop","vom","sip","sop","sim","som","treemapSlice","squarifyRatio","ratio","nodeValue","sumValue","minValue","maxValue","newRatio","minRatio","dice","index$1","treemap","paddingStack","paddingLeft","paddingTop","paddingRight","paddingBottom","tile","squarify","binary","valueOffset","valueTarget","valueLeft","valueRight","yk","xk","sliceDice","center$1","force","sx","sy","initialize","constant$6","jiggle","x$1","vx","y$1","vy","collide","quad","rj","ri","yi","strength","ri2","iterations","visitAfter","radii","index$2","link","defaultStrength","distances","strengths","bias","nodeById","initializeStrength","initializeDistance","distance","x$2","y$2","simulation","alphaMin","stepper","alphaTarget","alphaDecay","forces","fx","velocityDecay","fy","initializeNodes","initialRadius","initialAngle","initializeForce","closest","manyBody","accumulate","theta2","distanceMax2","distanceMin2","distanceMin","distanceMax","theta","x$3","y$3","nopropagation","stopImmediatePropagation","noevent","preventDefault","dragDisable","__noselect","MozUserSelect","dragEnable","noclick","constant$7","DragEvent","subject","defaultFilter","button","defaultContainer","defaultSubject","drag","mousedowned","touchstarted","touchmoved","touchended","touchending","gesture","beforestart","mousemoved","mouseupped","mousemoving","gestures","sublisteners","listeners","constant$8","x$4","y$4","RedBlackTree","RedBlackNode","R","P","RedBlackRotateLeft","RedBlackRotateRight","RedBlackFirst","createEdge","edge","edges","setEdgeEnd","cells","halfedges","createBorderEdge","vertex","clipEdge","connectEdge","fm","fb","lx","ly","rx","ry","clipEdges","epsilon$3","createCell","site","cellHalfedgeAngle","cell","va","vb","cellHalfedgeStart","cellHalfedgeEnd","sortCellHalfedges","clipCells","iCell","iHalfedge","nHalfedges","startX","startY","endX","endY","nCells","v00","v01","v11","v10","Circle","attachCircle","lArc","rArc","lSite","cSite","rSite","epsilon2$1","ha","hc","circlePool","firstCircle","detachCircle","Beach","createBeach","beach","beachPool","detachBeach","beaches","removeBeach","disappearing","unshift","iArc","nArcs","addBeach","dxl","dxr","directrix","leftBreakPoint","rightBreakPoint","newArc","hb","rfocx","rfocy","pby2","lfocx","lfocy","plby2","hl","aby2","triangleArea","lexicographic","Diagram","sites","voronoi","polygons","triangles","constant$9","ZoomEvent","Transform","__zoom","identity$6","nopropagation$1","noevent$1","defaultFilter$1","defaultExtent","SVGElement","clientWidth","clientHeight","defaultTransform","zoom","wheeled","dblclicked","k0","k1","constrain","invertX","invertY","Gesture","wheelidled","wheel","deltaY","deltaMode","wheelDelay","moved","shiftKey","touch0","touch1","touchstarting","touchDelay","dp","dl","scaleBy","scaleTo","translateBy","emit","scaleExtent","translateExtent","constant$10","BrushEvent","nopropagation$2","noevent$2","type$1","defaultFilter$2","defaultExtent$1","local$1","__brush","empty$1","brushSelection","dim","brushX","brush$1","brushY","brush","XY","overlay","cursors","handle","handles","redraw","started","handleSize","emitter","Emitter","point1","shifting","lockX","lockY","moving","move","point0","mode","MODE_SPACE","MODE_DRAG","signX","e0","e1","signY","n0","n1","MODE_HANDLE","MODE_CENTER","flipX","flipY","ended","keydowned","keyCode","keyupped","altKey","metaKey","signsX","signsY","selection1","selection0","starting","compareValue","chord","groupSums","groupIndex","subgroupIndex","chords","sortGroups","sortSubgroups","max$1","tau$3","di","dj","subindex","sortChords","constant$11","defaultSource","defaultTarget","defaultRadius$1","defaultStartAngle","defaultEndAngle","ribbon","argv","slice$5","sr","sa0","halfPi$2","sa1","sx0","sy0","tr","ta0","ta1","quadraticCurveTo","adder","Adder","reset","add$1","bv","av","pi$4","asin$1","halfPi$3","haversin","sin$1","noop$2","streamGeometry","geometry","stream","streamGeometryType","streamLine","coordinates","closed","coordinate","streamPolygon","polygonStart","polygonEnd","geoStream","streamObjectType","areaRingStart","areaStream","areaPointFirst","areaRingEnd","areaPoint","lambda00","phi00","phi","radians","lambda0","cosPhi0","cos$1","quarterPi","sinPhi0","dLambda","sdLambda","adLambda","cosPhi","sinPhi","areaRingSum","area$2","areaSum","spherical","cartesian","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","cartesianNormalizeInPlace","sqrt$1","boundsPoint","ranges","range$1","lambda0$1","lambda1","phi0","phi1","linePoint","equatorial","inflection","phii","delta","lambda2","lambdai","degrees$1","antimeridian","boundsLineStart","boundsStream","boundsLineEnd","boundsRingPoint","deltaSum","lambda00$1","phi00$1","boundsRingStart","boundsRingEnd","epsilon$4","rangeCompare","rangeContains","bounds","feature","deltaMax","centroidPoint","centroidPointCartesian","W0","X0","Y0","Z0","centroidLineStart","centroidStream","centroidLinePointFirst","z0","centroidLinePoint","W1","X1","Y1","Z1","centroidLineEnd","centroidRingStart","centroidRingPointFirst","centroidRingEnd","centroidRingPoint","lambda00$2","phi00$2","cz","X2","Y2","Z2","centroid$1","epsilon2$2","constant$12","compose","rotationIdentity","tau$4","rotateRadians","deltaLambda","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","forward","circleStream","direction","cosRadius","sinRadius","circleRadius","circle$1","ring","clipBuffer","rejoin","clipLine","pointEqual","Intersection","clipPolygon","segments","compareIntersection","startInside","clip","segment","link$1","isSubject","clipExtent","visible","from","to","corner","comparePoint","cb","activeStream","polygonInside","winding","bufferStream","clean","cleanInside","clipStream","v_","x_","y_","x__","y__","v__","clipMin","clipMax","extent$1","cacheStream","lengthLineStart","lengthStream","lengthPointFirst","lengthLineEnd","lambda0$2","sinPhi0$1","cosPhi0$1","lengthPoint","cosDelta","sinDelta","lengthSum","length$2","object$1","graticuleX","graticuleY","graticule","DX","DY","outline","extentMajor","extentMinor","stepMajor","stepMinor","interpolate$2","sy1","kx0","ky0","kx1","ky1","identity$7","areaRingStart$1","areaStream$1","areaPointFirst$1","areaPoint$1","x0$1","y0$1","areaRingSum$1","areaRingEnd$1","boundsPoint$1","x0$2","y0$2","centroidPoint$1","X0$1","Y0$1","Z0$1","centroidLineStart$1","centroidStream$1","centroidPointFirstLine","centroidPointLine","x0$3","y0$3","X1$1","Y1$1","Z1$1","centroidLineEnd$1","centroidRingStart$1","centroidPointFirstRing","centroidRingEnd$1","centroidPointRing","x00$1","y00$1","X2$1","Y2$1","Z2$1","PathContext","pointRadius","pointLineStart","pointLine","lineEndPolygon","PathString","pointCircle","circle$2","index$3","contextStream","projectionStream","projection","boundsStream$1","polygonContains","sum$2","sinPhi1","cosPhi1","absDelta","phiArc","pointVisible","sink","pointRing","ringSink","ringStart","ringEnd","ringSegments","ringBuffer","polygonStarted","validSegment","rotatedStart","sphere","clipAntimeridianLine","sign0","sign1","clipAntimeridianIntersect","sinLambda0Lambda1","clipAntimeridianInterpolate","clipCircle","cr","c0","point2","smallRadius","code","notHemisphere","two","pb","n2","n2n2","n1n2","determinant","c1","n1xn2","uu","polar","meridian","q1","transform$1","transform$2","T","Transform$1","fit","project","fitSize","fitExtent","resample","delta2","resample$1","resampleNone","resampleLineTo","phi2","dx2","dy2","dz","cosMinDistance","resampleStream","maxDepth","ringPoint","b00","c00","projectionMutator","projectAt","projectRotate","projectTransform","recenter","preclip","clipAntimeridian","postclip","projectResample","transformRadians","clipAngle","conicProjection","parallels","conicEqualAreaRaw","r0y","conicEqualArea","albers","multiplex","streams","albersUsa","lower48Point","alaskaPoint","hawaiiPoint","lower48","alaska","hawaii","pointStream","azimuthalRaw","azimuthalInvert","sc","cc","azimuthalEqualArea","azimuthalEqualAreaRaw","azimuthalEquidistant","azimuthalEquidistantRaw","mercatorRaw","log$1","tan","mercator","mercatorProjection","clipAuto","tany","conicConformalRaw","pow$1","sign$1","conicConformal","equirectangularRaw","equirectangular","conicEquidistantRaw","gy","nx","conicEquidistant","gnomonicRaw","gnomonic","orthographicRaw","orthographic","stereographicRaw","stereographic","transverseMercatorRaw","transverseMercator","version","ascendingBisect","bisectLeft","polyIn","custom","polyOut","polyInOut","PI","overshoot","backIn","backOut","backInOut","tau","amplitude","period","elasticIn","elasticOut","elasticInOut","pi$1","tau$1","epsilon","tauEpsilon","arcTo","l01_2","x20","y20","l21_2","l20_2","l21","l01","t01","t21","ccw","treeProto","slice$1","await","results","awaitAll","_line","_point","cross$1","tan30","tan30_2","diamond","ka","kr","star","square","sqrt3","triangle","wye","symbols","_x3","_x4","_y3","_y4","bundle","cardinal","_x5","_y5","cardinalClosed","cardinalOpen","x23","y23","catmullRom","catmullRomClosed","catmullRomOpen","_t0","px","py","darker","brighter","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","displayable","Kn","rgbGamma","rgbBasis","rgbBasisClosed","SQRT2","hsl$1","hslLong","hcl$1","hclLong","cubehelix$2","interpolateCubehelixLong","csvParse","csvParseRows","csvFormat","csvFormatRows","tsv","tsvParse","tsvParseRows","tsvFormat","tsvFormatRows","createContextualFragment","xml","responseXML","csv$1","tsv$1","performance","requestAnimationFrame","milliseconds","durationSecond","durationHour","durationDay","seconds","minutes","hours","tuesday","wednesday","thursday","friday","saturday","sundays","mondays","tuesdays","wednesdays","thursdays","fridays","saturdays","setMonth","years","setUTCSeconds","utcMinutes","setUTCMinutes","utcHours","utcDays","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcSundays","utcMondays","utcTuesdays","utcWednesdays","utcThursdays","utcFridays","utcSaturdays","setUTCMonth","utcMonths","utcYears","","toFixed","-","0","isoSpecifier","formatIso","parseIso","array$2","category10","category20b","category20c","category20","cubehelix$3","warm","cool","viridis","magma","inferno","plasma","xlink","xmlns","matcher","element","vendorMatches","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","element$1","mouseenter","mouseleave","classed","selection_prototype","descendants","resquarify","_squarify","grandpa","uncle","sibling","applyX","applyY","location","rescaleX","rescaleY","xy","nw","ne","se","sw","pi$3","Feature","FeatureCollection","features","Sphere","Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection","geometries","areaRing","areaSum$1","cxcy","bisect","thresholdFreedmanDiaconis","thresholdScott","thresholdSturges","randomUniform","randomLogNormal","randomBates","randomExponential","easeLinear","easeQuad","easeQuadIn","easeQuadOut","easeQuadInOut","easeCubic","easeCubicIn","easeCubicOut","easePoly","easePolyIn","easePolyOut","easePolyInOut","easeSin","easeSinIn","easeSinOut","easeSinInOut","easeExp","easeExpIn","easeExpOut","easeExpInOut","easeCircle","easeCircleIn","easeCircleOut","easeCircleInOut","easeBounce","easeBounceIn","easeBounceOut","easeBounceInOut","easeBack","easeBackIn","easeBackOut","easeBackInOut","easeElastic","easeElasticIn","easeElasticOut","easeElasticInOut","polygonArea","polygonCentroid","polygonHull","polygonLength","symbolCircle","symbolCross","symbolDiamond","symbolSquare","symbolStar","symbolTriangle","symbolWye","curveBasisClosed","curveBasisOpen","curveBasis","curveBundle","curveCardinalClosed","curveCardinalOpen","curveCardinal","curveCatmullRomClosed","curveCatmullRomOpen","curveCatmullRom","curveLinearClosed","curveMonotoneX","curveMonotoneY","curveNatural","curveStep","curveStepAfter","curveStepBefore","stackOffsetExpand","stackOffsetNone","stackOffsetSilhouette","stackOffsetWiggle","stackOrderAscending","stackOrderDescending","stackOrderInsideOut","stackOrderNone","stackOrderReverse","interpolateArray","interpolateDate","interpolateObject","interpolateTransformCss","interpolateTransformSvg","interpolateRgbBasis","interpolateRgbBasisClosed","interpolateHsl","interpolateHslLong","interpolateLab","interpolateHcl","interpolateHclLong","interpolateCubehelix","interpolateBasis","interpolateBasisClosed","dsvFormat","timeInterval","timeMillisecond","timeMilliseconds","timeSecond","timeSeconds","timeMinute","timeMinutes","timeHour","timeHours","timeDay","timeDays","timeWeeks","timeSunday","timeSundays","timeMondays","timeTuesday","timeTuesdays","timeWednesday","timeWednesdays","timeThursday","timeThursdays","timeFriday","timeFridays","timeSaturday","timeSaturdays","timeMonth","timeMonths","timeYears","utcMillisecond","utcMilliseconds","utcSecond","utcSeconds","utcWeeks","utcSunday","formatDefaultLocale","isoFormat","isoParse","timeFormatLocale","timeFormatDefaultLocale","scaleBand","scalePoint","scaleIdentity","scaleLog","scaleOrdinal","scaleImplicit","scalePow","scaleSqrt","scaleQuantile","scaleQuantize","scaleThreshold","scaleUtc","schemeCategory10","schemeCategory20b","schemeCategory20c","schemeCategory20","scaleSequential","interpolateCubehelixDefault","interpolateRainbow","interpolateWarm","interpolateCool","interpolateViridis","interpolateMagma","interpolateInferno","interpolatePlasma","packSiblings","treemapBinary","treemapSliceDice","treemapSquarify","treemapResquarify","forceCenter","forceCollide","forceLink","forceManyBody","forceSimulation","forceX","forceY","zoomIdentity","zoomTransform","geoAlbers","geoAlbersUsa","geoArea","geoAzimuthalEqualArea","geoAzimuthalEqualAreaRaw","geoAzimuthalEquidistant","geoAzimuthalEquidistantRaw","geoBounds","geoCentroid","geoCircle","geoClipExtent","geoConicConformal","geoConicConformalRaw","geoConicEqualArea","geoConicEqualAreaRaw","geoConicEquidistant","geoConicEquidistantRaw","geoDistance","geoEquirectangular","geoEquirectangularRaw","geoGnomonic","geoGnomonicRaw","geoGraticule","geoInterpolate","geoLength","geoMercator","geoMercatorRaw","geoOrthographic","geoOrthographicRaw","geoPath","geoProjection","geoProjectionMutator","geoRotation","geoStereographic","geoStereographicRaw","geoTransform","geoTransverseMercator","geoTransverseMercatorRaw","expose","mk_block_toSource","uneval","lineNumber","mk_block_inspect","util","inspect","count_lines","strong_em","CloseTag","len","len_after","state_slot","other_slot","orig_match","res","processInline","substr","consumed","split_meta_hash","meta_string","meta","parts","in_quotes","letter","extract_attr","jsonml","escapeHTML","render_tree","attributes","content","tag_attrs","convert_tree_to_html","references","preprocessTreeNode","attrs","level","src","href","ref","original","title","merge_text_nodes","Markdown","dialect","dialects","Gruber","em_state","strong_state","debug_indent","toTree","toHTMLTree","renderJsonML","refs","mk_block","block","trail","split_blocks","startLine","blocks","line_no","processBlock","cbs","ord","__order__","__call__","debug","inline","custom_root","old_tree","print","console","loop_re_over_block","atxHeader","setextHeader","ret","block_search","horizRule","lists","regex_for_depth","indent_re","any_list","expand_tab","li","loose","nl","add_to","what","is_str","get_contained_blocks","paragraphify","last_li","sublist","bullet_list","is_list_re","make_list","indent","li_accumulate","line_re","wanted_depth","found","contained","next_block","hr","blockquote","prev","abutting","processedBlock","referenceDefn","para","__oneElement__","patterns_or_re","previous_nodes","__patterns__","patterns","]","}","__escape__","![","alt","[","orig","DialectHelpers","inline_until_char","open_parens","  \n","buildBlockOrder","buildInlinePatterns","want","subclassDialect","Block","Inline","Maruku","processMetaHash","document_meta","block_meta","definition_list","tight","terms","defns","table","_split_on_unescaped","ch","leading_pipe","no_leading_pipe","html_attrs","html_row","obj","arr","thisp","opts","ctx","stylize","stylizeNoColor","showHidden","_extend","customInspect","stylizeWithColor","styleType","styles","arrayToHash","val","idx","recurseTimes","primitive","formatPrimitive","visibleKeys","getOwnPropertyNames","formatError","braces","toUTCString","formatArray","formatProperty","reduceToSingleString","simple","desc","getOwnPropertyDescriptor","numLinesEst","cur","ar","isNullOrUndefined","isPrimitive","timestamp","prop","formatRegExp","objects","deprecate","msg","deprecated","warned","throwDeprecation","traceDeprecation","trace","noDeprecation","debugs","debugEnviron","debuglog","env","NODE_DEBUG","pid","bold","italic","underline","special","boolean","null","inherits","origin","readUInt8","runTimeout","fun","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","cleanUpNextTick","draining","currentQueue","queueIndex","drainQueue","run","Item","nextTick","browser","versions","addListener","off","removeListener","removeAllListeners","cwd","chdir","umask","ctor","superCtor","super_","writable","TempCtor"],"mappings":"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,IAAU,IAAKC,IAAU,IAAKC,IAAU,IACxDC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IACxDC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IACvEC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IACvEC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IACxDC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IACxDC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IACxDC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IACvEC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IACvEC,IAAU,IAAMC,IAAU,IAC1BC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IACzCC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IACvEC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IACvEC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IACxDC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IACxDC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IACzCC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IACzCC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IACzCC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IACzCC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IACxDC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IACxDC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IACzCC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IACzCC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IACtFC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IAAKC,IAAU,IACtFC,IAAU,IAAMC,IAAU,IAC1BC,IAAU,IAAMC,IAAU,IAAKC,IAAU,IACzCC,IAAU,IAAMC,IAAU,I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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import _ from 'lodash';\nimport * as d3 from 'd3';\nimport markdown from 'markdown';\nconst md = markdown.markdown;\nimport leftpad from 'leftpad';\n\nlet container,\n    controls,\n    config_cache,\n    data_cache,\n    explanation_cache,\n    x_scale,\n    y_scale;\n\nconst container_id = '#decision-visualisation';\nconst width = 500, height = 200;\nconst margin = { left: 80, top: 50, right: 30, bottom: 50 };\nconst dispatch = d3.dispatch('toggle');\n\nconst init = () => {\n  dispatch.on('toggle', function (c, i) {\n    let selected_toggles = document.querySelector('.control input:checked');\n\n    draw(data_cache, selected_toggles);\n    metrics(data_cache, selected_toggles);\n\n    if (explanation_cache) {\n      d3.select(container_id + ' .explanation .subtext-title').text(explanation_cache.columns[i+1]);\n      d3.select(container_id + ' .explanation .subtext').text(explanation_cache[0][c]);\n      let img = d3.select(container_id + ' .explanation .image');\n      img.html('');\n      if (i > 0) {\n        img.append('img')\n           .attr('src', `${config_cache.explanation_pic_prefix}${leftpad(i, 3)}${config_cache.explanation_pic_postfix}`);\n      }\n    }\n  });\n\n  d3.text(config_cache.general_intro_path, text => {\n    d3.select(container_id + ' .description')\n      .append('p').html(md.toHTML(text));\n  });\n\n  d3.select('#decision-title').text(config_cache.project_name);\n  controls = d3.select(container_id + ' .control');\n  var svg = d3.select(container_id + ' .chart')\n              .append('svg')\n              .attr('width', width + margin.left + margin.right)\n              .attr('height', height + margin.top + margin.bottom)\n              .attr('aria-labelledby', 'title');\n\n  svg.append('desc')\n     .html(`${config_cache.project_name}`);\n\n  svg.append('title')\n     .html(`${config_cache.project_type} visualisation`);\n\n  container = svg.append('g').attr('class', 'chart-area')\n                 .attr('transform', `translate(${margin.left},${margin.top})`);\n\n  d3.csv(config_cache.data_path, prepare, data => {\n    data_cache = data;\n    create_controls(data);\n    [x_scale, y_scale] = render_axes(data);\n    let selected_toggles = document.querySelector('.control input:checked');\n    draw(data_cache, selected_toggles);\n    metrics(data_cache, selected_toggles);\n  });\n\n  d3.csv(config_cache.explanation_path, explanation => {\n    explanation_cache = explanation;\n    // Trigger the first specific explanation text and pic to load\n    dispatch.apply('toggle', this, [explanation_cache.columns[2], 1]);\n  });\n};\n\nconst prepare = row => {\n  row = _.mapValues(row, v => Number(v));\n  if (config_cache.x_label.toLowerCase() === 'year' && row[config_cache.x_label]) {\n    row = { year: new Date(row[config_cache.x_label], 0, 1), ...row };\n    delete row[config_cache.x_label];\n  }\n  return row;\n};\n\nconst draw = (data, selected) => {\n  if (!data) return;\n\n  let selected_column = _.concat(selected.value, config_cache.constant_limit);\n  let lines = container.selectAll('path.line')\n                       .data(selected_column, d => d);\n\n  lines.enter()\n       .append('path').attr('class', c => {\n          if (c === config_cache.constant_limit) {\n            return 'line highlight';\n          } else {\n            return 'line';\n          }\n        })\n       .attr('d', c => {\n          return d3.line()\n                   .x(d => x_scale(d.year))\n                   .y(d => y_scale(d[c]))\n                   (data);\n        });\n\n  lines.exit().remove();\n\n  let areas = container.selectAll('path.area')\n                       .data(selected_column, d => d);\n\n  areas.enter()\n       .append('path').attr('class', 'area')\n       .attr('d', c => {\n         return d3.area()\n                  .x (d => x_scale(d.year))\n                  .y0(d => y_scale(d[config_cache.constant_limit]))\n                  .y1(d => y_scale(Math.max(d[config_cache.constant_limit], d[c])))\n                  (data);\n\n       });\n  areas.exit().remove();\n};\n\nconst metrics = (data, selected) => {\n  if (!data) return;\n\n  if (config_cache.project_type === 'albatross') {\n    let selected_column = selected.value;\n    let limit = _.map(data, d => d[config_cache.constant_limit]);\n\n    // Metric #1: the number of years equal to or above the limit line\n    let selected_data = _.map(data, d => d[selected_column] );\n    let above_the_line = _.filter(selected_data, (d, i) => d > limit[i] );\n\n    // Metric #2: the number of birds total above the limit line\n    let extra_birds = _.sum(_.map(selected_data, (d, i) => Math.max(d - limit[i], 0)));\n    let extra_birds_per_year = above_the_line.length > 0 ? Math.round(extra_birds / above_the_line.length) : 0;\n    d3.selectAll(container_id + ' .metric p').remove();\n    d3.select(container_id + ' .metric').append('p')\n             .html(`In the <strong>${selected_column}</strong> scenario, our model\n                    predicts the Albatross population will have\n                    <span class=\"highlight\">${above_the_line.length.toLocaleString()}</span>\n                    years above the Management Reference Level.`);\n    d3.select(container_id + ' .metric').append('p')\n             .html(`In this path, there are an average of <span class=\"highlight\">${extra_birds_per_year.toLocaleString()}</span>\n                    breeding pairs above the nominated Management Reference\n                    Level.`);\n  }\n};\n\nconst create_controls = data => {\n  let columns = _.remove(data.columns, c => c !== config_cache.x_label);\n  columns.forEach((c, i) => {\n    if (i === 0) return; // Skip the first column that is limit\n    let control = controls.append('input')\n                          .attr('type', 'radio')\n                          .attr('name', 'visualisation-option')\n                          .attr('id', `visualisation-option-${i}`)\n                          .attr('value', c)\n                          .on('click', function () { dispatch.apply('toggle', this, [c, i]); });\n    controls.append('label')\n            .attr('class', 'toggle')\n            .attr('for', `visualisation-option-${i}`)\n            .text(c);\n    if (i === 1) {\n      control.attr('checked', 'checked'); // Precheck first option\n    }\n  });\n};\n\nconst render_axes = data => {\n  let x_extent = d3.extent(data, d => d.year);\n  let x_scale = d3.scaleTime()\n                  .domain(x_extent)\n                  .range([0, width])\n                  .nice(d3.timeYear, 10);\n  let x_axis = d3.axisBottom(x_scale)\n                 .ticks(d3.timeYear.every(20));\n\n  let y_extent = [0, 10000];\n  let y_scale = d3.scaleLinear()\n                  .domain(y_extent)\n                  .range([height, 0]);\n  let y_axis = d3.axisLeft(y_scale)\n                 .ticks(10);\n\n  // Render grids\n  // http://stackoverflow.com/questions/15580300/proper-way-to-draw-gridlines\n  let x_grid = d3.axisTop(x_scale)\n                 .ticks(d3.timeYear.every(20))\n                 .tickSize(height)\n                 .tickFormat('');\n\n  let y_grid = d3.axisRight(y_scale)\n                 .ticks(10)\n                 .tickSize(width+10)\n                 .tickFormat('');\n\n  container.append('g').attr('class', 'x grid')\n           .attr('transform', `translate(0,${height})`)\n           .call(x_grid);\n\n  container.append('g').attr('class', 'y grid')\n           .attr('transform', `translate(-10,0)`)\n           .call(y_grid);\n\n  // Render axes\n  container.append('g').attr('class', 'x axis')\n                       .attr('transform', `translate(0,${height})`)\n                       .call(x_axis)\n                       .append('text')\n                       .attr('x', width/2)\n                       .attr('y', 30)\n                       .text(config_cache.x_label);\n\n  container.append('g').attr('class', 'y axis')\n           .attr('transform', `translate(-10,0)`)\n           .call(y_axis)\n           .append('text')\n           .attr('x', 0)\n           .attr('y', -15)\n           .text(config_cache.y_label);\n\n  return [x_scale, y_scale];\n};\n\nd3.json('data/config.json', config => {\n  config_cache = config;\n  init();\n});","module.exports = function(str, width, char) {\n    char = char || '0';\n    str = str.toString();\n    while (str.length < width) str = char + str;\n    return str;\n};\n","// super simple module for the most common nodejs use case.\nexports.markdown = require(\"./markdown\");\nexports.parse = exports.markdown.toHTML;\n","/**\n * @license\n * lodash <https://lodash.com/>\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.15.0';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Used as the `TypeError` message for \"Functions\" methods. */\n  var FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for function metadata. */\n  var BIND_FLAG = 1,\n      BIND_KEY_FLAG = 2,\n      CURRY_BOUND_FLAG = 4,\n      CURRY_FLAG = 8,\n      CURRY_RIGHT_FLAG = 16,\n      PARTIAL_FLAG = 32,\n      PARTIAL_RIGHT_FLAG = 64,\n      ARY_FLAG = 128,\n      REARG_FLAG = 256,\n      FLIP_FLAG = 512;\n\n  /** Used to compose bitmasks for comparison styles. */\n  var UNORDERED_COMPARE_FLAG = 1,\n      PARTIAL_COMPARE_FLAG = 2;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 150,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', ARY_FLAG],\n    ['bind', BIND_FLAG],\n    ['bindKey', BIND_KEY_FLAG],\n    ['curry', CURRY_FLAG],\n    ['curryRight', CURRY_RIGHT_FLAG],\n    ['flip', FLIP_FLAG],\n    ['partial', PARTIAL_FLAG],\n    ['partialRight', PARTIAL_RIGHT_FLAG],\n    ['rearg', REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39|#96);/g,\n      reUnescapedHtml = /[&<>\"'`]/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      reLeadingDot = /^\\./,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading and trailing whitespace. */\n  var reTrim = /^\\s+|\\s+$/g,\n      reTrimStart = /^\\s+/,\n      reTrimEnd = /\\s+$/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect hexadecimal string values. */\n  var reHasHexPrefix = /^0x/i;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20f0',\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboMarksRange + rsComboSymbolsRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsLowerMisc = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsUpperMisc = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptLowerContr = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptUpperContr = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptLowerContr + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsUpperMisc + '+' + rsOptUpperContr + '(?=' + [rsBreak, rsUpper + rsLowerMisc, '$'].join('|') + ')',\n    rsUpper + '?' + rsLowerMisc + '+' + rsOptLowerContr,\n    rsUpper + '+' + rsOptUpperContr,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboMarksRange + rsComboSymbolsRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 'ss'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '`': '&#96;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\",\n    '&#96;': '`'\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      return freeProcess && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Adds the key-value `pair` to `map`.\n   *\n   * @private\n   * @param {Object} map The map to modify.\n   * @param {Array} pair The key-value pair to add.\n   * @returns {Object} Returns `map`.\n   */\n  function addMapEntry(map, pair) {\n    // Don't return `map.set` because it's not chainable in IE 11.\n    map.set(pair[0], pair[1]);\n    return map;\n  }\n\n  /**\n   * Adds `value` to `set`.\n   *\n   * @private\n   * @param {Object} set The set to modify.\n   * @param {*} value The value to add.\n   * @returns {Object} Returns `set`.\n   */\n  function addSetEntry(set, value) {\n    // Don't return `set.add` because it's not chainable in IE 11.\n    set.add(value);\n    return set;\n  }\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array ? array.length : 0;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array ? array.length : 0;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array ? array.length : 0;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array ? array.length : 0;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array ? array.length : 0,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array ? array.length : 0;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array ? array.length : 0;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array ? array.length : 0,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array ? array.length : 0;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array ? array.length : 0;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array ? array.length : 0;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    if (value !== value) {\n      return baseFindIndex(array, baseIsNaN, fromIndex);\n    }\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array ? array.length : 0;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a cache value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        result++;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Checks if `value` is a host object in IE < 9.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n   */\n  function isHostObject(value) {\n    // Many host objects are `Object` objects that can coerce to strings\n    // despite having improperly defined `toString` methods.\n    var result = false;\n    if (value != null && typeof value.toString != 'function') {\n      try {\n        result = !!(value + '');\n      } catch (e) {}\n    }\n    return result;\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      result++;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Use `context` to stub `Date#getTime` use in `_.now`.\n   * var stubbed = _.runInContext({\n   *   'Date': function() {\n   *     return { 'getTime': stubGetTime };\n   *   }\n   * });\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  function runInContext(context) {\n    context = context ? _.defaults(root.Object(), context, _.pick(root, contextProps)) : root;\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var objectToString = objectProto.toString;\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        iteratorSymbol = Symbol ? Symbol.iterator : undefined,\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /* Used to set `toString` methods. */\n    var defineProperty = (function() {\n      var func = getNative(Object, 'defineProperty'),\n          name = getNative.name;\n\n      return (name && name.length > 2) ? func : undefined;\n    }());\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\n    var nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array of at least `200` elements\n     * and any iteratees accept only one argument. The heuristic for whether a\n     * section qualifies for shortcut fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB). Change the following template settings to use\n     * alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || arrLength < LARGE_ARRAY_SIZE ||\n          (arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries ? entries.length : 0;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      return this.has(key) && delete this.__data__[key];\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries ? entries.length : 0;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries ? entries.length : 0;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      return getMapData(this, key)['delete'](key);\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      getMapData(this, key).set(key, value);\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values ? values.length : 0;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      this.__data__ = new ListCache(entries);\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      return this.__data__['delete'](key);\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var cache = this.__data__;\n      if (cache instanceof ListCache) {\n        var pairs = cache.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          return this;\n        }\n        cache = this.__data__ = new MapCache(pairs);\n      }\n      cache.set(key, value);\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n      // Safari 9 makes `arguments.length` enumerable in strict mode.\n      var result = (isArray(value) || isArguments(value))\n        ? baseTimes(value.length, String)\n        : [];\n\n      var length = result.length,\n          skipIndexes = !!length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function assignInDefaults(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (typeof key == 'number' && value === undefined && !(key in object))) {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths of elements to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          isNil = object == null,\n          length = paths.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = isNil ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {boolean} [isFull] Specify a clone including symbols.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, isDeep, isFull, customizer, key, object, stack) {\n      var result;\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          if (isHostObject(value)) {\n            return object ? value : {};\n          }\n          result = initCloneObject(isFunc ? {} : value);\n          if (!isDeep) {\n            return copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, baseClone, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (!isArr) {\n        var props = isFull ? getAllKeys(value) : keys(value);\n      }\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, isDeep, isFull, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} prototype The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    function baseCreate(proto) {\n      return isObject(proto) ? objectCreate(proto) : {};\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = isKey(path, object) ? [path] : castPath(path);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      return objectToString.call(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      if (!isKey(path, object)) {\n        path = castPath(path);\n        object = parent(object, path);\n        path = last(path);\n      }\n      var func = object == null ? object : object[toKey(path)];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && objectToString.call(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && objectToString.call(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {boolean} [bitmask] The bitmask of comparison flags.\n     *  The bitmask may be composed of the following flags:\n     *     1 - Unordered comparison\n     *     2 - Partial comparison\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, customizer, bitmask, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObject(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, baseIsEqual, customizer, bitmask, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {number} [bitmask] The bitmask of comparison flags. See `baseIsEqual`\n     *  for more details.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, equalFunc, customizer, bitmask, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = arrayTag,\n          othTag = arrayTag;\n\n      if (!objIsArr) {\n        objTag = getTag(object);\n        objTag = objTag == argsTag ? objectTag : objTag;\n      }\n      if (!othIsArr) {\n        othTag = getTag(other);\n        othTag = othTag == argsTag ? objectTag : othTag;\n      }\n      var objIsObj = objTag == objectTag && !isHostObject(object),\n          othIsObj = othTag == objectTag && !isHostObject(other),\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, equalFunc, customizer, bitmask, stack)\n          : equalByTag(object, other, objTag, equalFunc, customizer, bitmask, stack);\n      }\n      if (!(bitmask & PARTIAL_COMPARE_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, customizer, bitmask, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, equalFunc, customizer, bitmask, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, customizer, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObject(value) && objectToString.call(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[objectToString.call(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, undefined, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      if (!(isArray(source) || isTypedArray(source))) {\n        var props = baseKeysIn(source);\n      }\n      arrayEach(props || source, function(srcValue, key) {\n        if (props) {\n          key = srcValue;\n          srcValue = source[key];\n        }\n        if (isObject(srcValue)) {\n          stack || (stack = new Stack);\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(object[key], srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      });\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = object[key],\n          srcValue = source[key],\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        newValue = srcValue;\n        if (isArray(srcValue) || isTypedArray(srcValue)) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else {\n            isCommon = false;\n            newValue = baseClone(srcValue, true);\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || (srcIndex && isFunction(objValue))) {\n            isCommon = false;\n            newValue = baseClone(srcValue, true);\n          }\n          else {\n            newValue = objValue;\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      var index = -1;\n      iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} props The property identifiers to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, props) {\n      object = Object(object);\n      return basePickBy(object, props, function(value, key) {\n        return key in object;\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} props The property identifiers to pick from.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, props, predicate) {\n      var index = -1,\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key];\n\n        if (predicate(value, key)) {\n          result[key] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          }\n          else if (!isKey(index, array)) {\n            var path = castPath(index),\n                object = parent(array, path);\n\n            if (object != null) {\n              delete object[toKey(last(path))];\n            }\n          }\n          else {\n            delete array[toKey(index)];\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = array;\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = isKey(path, object) ? [path] : castPath(path);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop detection.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array ? array.length : low;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n\n      var low = 0,\n          high = array ? array.length : 0,\n          valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = isKey(path, object) ? [path] : castPath(path);\n      object = parent(object, path);\n\n      var key = toKey(last(path));\n      return !(object != null && hasOwnProperty.call(object, key)) || delete object[key];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var index = -1,\n          length = arrays.length;\n\n      while (++index < length) {\n        var result = result\n          ? arrayPush(\n              baseDifference(result, arrays[index], iteratee, comparator),\n              baseDifference(arrays[index], result, iteratee, comparator)\n            )\n          : arrays[index];\n      }\n      return (result && result.length) ? baseUniq(result, iteratee, comparator) : [];\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value) {\n      return isArray(value) ? value : stringToPath(value);\n    }\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var result = new buffer.constructor(buffer.length);\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `map`.\n     *\n     * @private\n     * @param {Object} map The map to clone.\n     * @param {Function} cloneFunc The function to clone values.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned map.\n     */\n    function cloneMap(map, isDeep, cloneFunc) {\n      var array = isDeep ? cloneFunc(mapToArray(map), true) : mapToArray(map);\n      return arrayReduce(array, addMapEntry, new map.constructor);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of `set`.\n     *\n     * @private\n     * @param {Object} set The set to clone.\n     * @param {Function} cloneFunc The function to clone values.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned set.\n     */\n    function cloneSet(set, isDeep, cloneFunc) {\n      var array = isDeep ? cloneFunc(setToArray(set), true) : setToArray(set);\n      return arrayReduce(array, addSetEntry, new set.constructor);\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        assignValue(object, key, newValue === undefined ? source[key] : newValue);\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbol properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return baseRest(function(funcs) {\n        funcs = baseFlatten(funcs, 1);\n\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (ARY_FLAG | CURRY_FLAG | PARTIAL_FLAG | REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 &&\n              isArray(value) && value.length >= LARGE_ARRAY_SIZE) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & ARY_FLAG,\n          isBind = bitmask & BIND_FLAG,\n          isBindKey = bitmask & BIND_KEY_FLAG,\n          isCurried = bitmask & (CURRY_FLAG | CURRY_RIGHT_FLAG),\n          isFlip = bitmask & FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return baseRest(function(iteratees) {\n        iteratees = (iteratees.length == 1 && isArray(iteratees[0]))\n          ? arrayMap(iteratees[0], baseUnary(getIteratee()))\n          : arrayMap(baseFlatten(iteratees, 1), baseUnary(getIteratee()));\n\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? PARTIAL_FLAG : PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? PARTIAL_RIGHT_FLAG : PARTIAL_FLAG);\n\n      if (!(bitmask & CURRY_BOUND_FLAG)) {\n        bitmask &= ~(BIND_FLAG | BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = nativeMin(toInteger(precision), 292);\n        if (precision) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *  The bitmask may be composed of the following flags:\n     *     1 - `_.bind`\n     *     2 - `_.bindKey`\n     *     4 - `_.curry` or `_.curryRight` of a bound function\n     *     8 - `_.curry`\n     *    16 - `_.curryRight`\n     *    32 - `_.partial`\n     *    64 - `_.partialRight`\n     *   128 - `_.rearg`\n     *   256 - `_.ary`\n     *   512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(PARTIAL_FLAG | PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] == null\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (CURRY_FLAG | CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(CURRY_FLAG | CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == CURRY_FLAG || bitmask == CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == PARTIAL_FLAG || bitmask == (BIND_FLAG | PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n     *  for more details.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, equalFunc, customizer, bitmask, stack) {\n      var isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(array);\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & UNORDERED_COMPARE_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!seen.has(othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, customizer, bitmask, stack))) {\n                  return seen.add(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, customizer, bitmask, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n     *  for more details.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, equalFunc, customizer, bitmask, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & PARTIAL_COMPARE_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= UNORDERED_COMPARE_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), equalFunc, customizer, bitmask, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n     *  for more details.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, equalFunc, customizer, bitmask, stack) {\n      var isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n          objProps = keys(object),\n          objLength = objProps.length,\n          othProps = keys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, customizer, bitmask, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbol properties of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n\n    /**\n     * Creates an array of the own and inherited enumerable symbol properties\n     * of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11,\n    // for data views in Edge < 14, and promises in Node.js.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = objectToString.call(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : undefined;\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = isKey(path, object) ? [path] : castPath(path);\n\n      var result,\n          index = -1,\n          length = path.length;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result) {\n        return result;\n      }\n      var length = object ? object.length : 0;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {Function} cloneFunc The function to clone values.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, cloneFunc, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return cloneMap(object, isDeep, cloneFunc);\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return cloneSet(object, isDeep, cloneFunc);\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length,\n          lastIndex = length - 1;\n\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      length = length == null ? MAX_SAFE_INTEGER : length;\n      return !!length &&\n        (typeof value == 'number' || reIsUint.test(value)) &&\n        (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (BIND_FLAG | BIND_KEY_FLAG | ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == ARY_FLAG) && (bitmask == CURRY_FLAG)) ||\n        ((srcBitmask == ARY_FLAG) && (bitmask == REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (ARY_FLAG | REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & BIND_FLAG ? 0 : CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function mergeDefaults(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, mergeDefaults, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = (function() {\n      var count = 0,\n          lastCalled = 0;\n\n      return function(key, value) {\n        var stamp = now(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return key;\n          }\n        } else {\n          count = 0;\n        }\n        return baseSetData(key, value);\n      };\n    }());\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    var setWrapToString = !defineProperty ? identity : function(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return defineProperty(wrapper, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)))\n      });\n    };\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoize(function(string) {\n      string = toString(string);\n\n      var result = [];\n      if (reLeadingDot.test(string)) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, string) {\n        result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to process.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array ? array.length : 0;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array ? array.length : 0,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length,\n          args = Array(length ? length - 1 : 0),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return length\n        ? arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1))\n        : [];\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order of result values is determined by the\n     * order they occur in the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. Result values are chosen from the first array.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. Result values\n     * are chosen from the first array. The comparator is invoked with two arguments:\n     * (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity]\n     *  The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity]\n     *  The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity]\n     *  The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array ? array.length : 0;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array ? array.length : 0;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs ? pairs.length : 0,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array ? array.length : 0;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order of result values is determined by the\n     * order they occur in the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. Result values are chosen from the first array.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. Result values are chosen\n     * from the first array. The comparator is invoked with two arguments:\n     * (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (comparator === last(mapped)) {\n        comparator = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array ? nativeJoin.call(array, separator) : '';\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array ? array.length : 0;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = (\n          index < 0\n            ? nativeMax(length + index, 0)\n            : nativeMin(index, length - 1)\n        ) + 1;\n      }\n      if (value !== value) {\n        return baseFindIndex(array, baseIsNaN, index - 1, true);\n      }\n      while (index--) {\n        if (array[index] === value) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity]\n     *  The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = baseRest(function(array, indexes) {\n      indexes = baseFlatten(indexes, 1);\n\n      var length = array ? array.length : 0,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity]\n     *  The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array ? nativeReverse.call(array) : array;\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity]\n     *  The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array ? array.length : 0;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity]\n     *  The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array ? array.length : 0;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array ? array.length : 0;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity]\n     *  The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity]\n     *  The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false},\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity]\n     *  The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each\n     * element is kept.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length)\n        ? baseUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity]\n     *  The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The comparator is invoked with\n     * two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      return (array && array.length)\n        ? baseUniq(array, undefined, comparator)\n        : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity]\n     *  The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The comparator is invoked with\n     * two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths of elements to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = baseRest(function(paths) {\n      paths = baseFlatten(paths, 1);\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity]\n     *  The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      hasOwnProperty.call(result, key) ? ++result[key] : (result[key] = 1);\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity]\n     *  The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity]\n     *  The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity]\n     *  The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity]\n     *  The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity]\n     *  The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity]\n     *  The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity]\n     *  The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _([1, 2]).forEach(function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity]\n     *  The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        result[key] = [value];\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          isProp = isKey(path),\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        var func = isFunc ? path : ((isProp && value != null) ? value[path] : undefined);\n        result[++index] = func ? apply(func, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity]\n     *  The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      result[key] = value;\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var array = isArrayLike(collection) ? collection : values(collection),\n          length = array.length;\n\n      return length > 0 ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      var index = -1,\n          result = toArray(collection),\n          length = result.length,\n          lastIndex = length - 1;\n\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = baseClamp(toInteger(n), 0, length);\n      }\n      while (++index < n) {\n        var rand = baseRandom(index, lastIndex),\n            value = result[rand];\n\n        result[rand] = result[index];\n        result[index] = value;\n      }\n      result.length = n;\n      return result;\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      return sampleSize(collection, MAX_ARRAY_LENGTH);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, function(o) { return o.user; });\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n     *\n     * _.sortBy(users, 'user', function(o) {\n     *   return Math.floor(o.age / 10);\n     * });\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = BIND_FLAG | BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            result = wait - timeSinceLastCall;\n\n        return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one or more milliseconds.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result);\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Assign cache to `_.memoize`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = baseRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = baseRest(function(func, indexes) {\n      return createWrap(func, REARG_FLAG, undefined, undefined, undefined, baseFlatten(indexes, 1));\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      wrapper = wrapper == null ? identity : wrapper;\n      return partial(wrapper, value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, false, true);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      return baseClone(value, false, true, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, true, true);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      return baseClone(value, true, true, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    function isArguments(value) {\n      // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n      return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n        (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n    }\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && objectToString.call(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return !!value && value.nodeType === 1 && isObjectLike(value) && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' ||\n            typeof value.splice == 'function' || isBuffer(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (nonEnumShadows || isPrototype(value)) {\n        return !nativeKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are **not** supported.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      return (objectToString.call(value) == errorTag) ||\n        (typeof value.message == 'string' && typeof value.name == 'string');\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 8-9 which returns 'object' for typed array and other constructors.\n      var tag = isObject(value) ? objectToString.call(value) : '';\n      return tag == funcTag || tag == genTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return !!value && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return !!value && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error('This method is not supported with core-js. Try https://github.com/es-shims.');\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && objectToString.call(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) ||\n          objectToString.call(value) != objectTag || isHostObject(value)) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return (typeof Ctor == 'function' &&\n        Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && objectToString.call(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && objectToString.call(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && objectToString.call(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (iteratorSymbol && value[iteratorSymbol]) {\n        return iteratorToArray(value[iteratorSymbol]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = value.replace(reTrim, '');\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths of elements to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = baseRest(function(object, paths) {\n      return baseAt(object, baseFlatten(paths, 1));\n    });\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties ? baseAssign(result, properties) : result;\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(args) {\n      args.push(undefined, assignInDefaults);\n      return apply(assignInWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, mergeDefaults);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        result[iteratee(value, key, object)] = value;\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        result[key] = iteratee(value, key, object);\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with seven arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable string keyed properties of `object` that are\n     * not omitted.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [props] The property identifiers to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = baseRest(function(object, props) {\n      if (object == null) {\n        return {};\n      }\n      props = arrayMap(baseFlatten(props, 1), toKey);\n      return basePick(object, baseDifference(getAllKeysIn(object), props));\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [props] The property identifiers to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = baseRest(function(object, props) {\n      return object == null ? {} : basePick(object, arrayMap(baseFlatten(props, 1), toKey));\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      return object == null ? {} : basePickBy(object, getAllKeysIn(object), getIteratee(predicate));\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = isKey(path, object) ? [path] : castPath(path);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        object = undefined;\n        length = 1;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object) || isTypedArray(object);\n      iteratee = getIteratee(iteratee, 4);\n\n      if (accumulator == null) {\n        if (isArr || isObject(object)) {\n          var Ctor = object.constructor;\n          if (isArr) {\n            accumulator = isArray(object) ? new Ctor : [];\n          } else {\n            accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n          }\n        } else {\n          accumulator = {};\n        }\n      }\n      (isArr ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object ? baseValues(object, keys(object)) : [];\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', \"'\", and \"\\`\" in `string` to\n     * their corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * Backticks are escaped because in IE < 9, they can break out of\n     * attribute values or HTML comments. See [#59](https://html5sec.org/#59),\n     * [#102](https://html5sec.org/#102), [#108](https://html5sec.org/#108), and\n     * [#133](https://html5sec.org/#133) of the\n     * [HTML5 Security Cheatsheet](https://html5sec.org/) for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      // Chrome fails to trim leading <BOM> whitespace characters.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=3109 for more details.\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      string = toString(string).replace(reTrim, '');\n      return nativeParseInt(string, radix || (reHasHexPrefix.test(string) ? 16 : 10));\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = baseClamp(toInteger(position), 0, string.length);\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES delimiter as an alternative to the default \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, assignInDefaults);\n\n      var imports = assignInWith({}, options.imports, settings.imports, assignInDefaults),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      var sourceURL = '//# sourceURL=' +\n        ('sourceURL' in options\n          ? options.sourceURL\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrim, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimEnd, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, `&#39;`, and `&#96;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = baseRest(function(object, methodNames) {\n      arrayEach(baseFlatten(methodNames, 1), function(key) {\n        key = toKey(key);\n        object[key] = bind(object[key], object);\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs ? pairs.length : 0,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, true));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, true));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, true));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, true));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(value));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        var filtered = this.__filtered__;\n        if (filtered && !index) {\n          return new LazyWrapper(this);\n        }\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = this.clone();\n        if (filtered) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = (lodashFunc.name + ''),\n            names = realNames[key] || (realNames[key] = []);\n\n        names.push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (iteratorSymbol) {\n      lodash.prototype[iteratorSymbol] = wrapperToIterator;\n    }\n    return lodash;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n","// https://d3js.org Version 4.2.2. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\n  var version = \"4.2.2\";\n\n  function ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n  }\n\n  function bisector(compare) {\n    if (compare.length === 1) compare = ascendingComparator(compare);\n    return {\n      left: function(a, x, lo, hi) {\n        if (lo == null) lo = 0;\n        if (hi == null) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) < 0) lo = mid + 1;\n          else hi = mid;\n        }\n        return lo;\n      },\n      right: function(a, x, lo, hi) {\n        if (lo == null) lo = 0;\n        if (hi == null) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) > 0) hi = mid;\n          else lo = mid + 1;\n        }\n        return lo;\n      }\n    };\n  }\n\n  function ascendingComparator(f) {\n    return function(d, x) {\n      return ascending(f(d), x);\n    };\n  }\n\n  var ascendingBisect = bisector(ascending);\n  var bisectRight = ascendingBisect.right;\n  var bisectLeft = ascendingBisect.left;\n\n  function descending(a, b) {\n    return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n  }\n\n  function number(x) {\n    return x === null ? NaN : +x;\n  }\n\n  function variance(array, f) {\n    var n = array.length,\n        m = 0,\n        a,\n        d,\n        s = 0,\n        i = -1,\n        j = 0;\n\n    if (f == null) {\n      while (++i < n) {\n        if (!isNaN(a = number(array[i]))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    }\n\n    else {\n      while (++i < n) {\n        if (!isNaN(a = number(f(array[i], i, array)))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    }\n\n    if (j > 1) return s / (j - 1);\n  }\n\n  function deviation(array, f) {\n    var v = variance(array, f);\n    return v ? Math.sqrt(v) : v;\n  }\n\n  function extent(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b,\n        c;\n\n    if (f == null) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = c = b; break; }\n      while (++i < n) if ((b = array[i]) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = c = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    }\n\n    return [a, c];\n  }\n\n  var array = Array.prototype;\n\n  var slice = array.slice;\n  var map = array.map;\n\n  function constant(x) {\n    return function() {\n      return x;\n    };\n  }\n\n  function identity(x) {\n    return x;\n  }\n\n  function range(start, stop, step) {\n    start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n    var i = -1,\n        n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n        range = new Array(n);\n\n    while (++i < n) {\n      range[i] = start + i * step;\n    }\n\n    return range;\n  }\n\n  var e10 = Math.sqrt(50);\n  var e5 = Math.sqrt(10);\n  var e2 = Math.sqrt(2);\n  function ticks(start, stop, count) {\n    var step = tickStep(start, stop, count);\n    return range(\n      Math.ceil(start / step) * step,\n      Math.floor(stop / step) * step + step / 2, // inclusive\n      step\n    );\n  }\n\n  function tickStep(start, stop, count) {\n    var step0 = Math.abs(stop - start) / Math.max(0, count),\n        step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n        error = step0 / step1;\n    if (error >= e10) step1 *= 10;\n    else if (error >= e5) step1 *= 5;\n    else if (error >= e2) step1 *= 2;\n    return stop < start ? -step1 : step1;\n  }\n\n  function sturges(values) {\n    return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n  }\n\n  function histogram() {\n    var value = identity,\n        domain = extent,\n        threshold = sturges;\n\n    function histogram(data) {\n      var i,\n          n = data.length,\n          x,\n          values = new Array(n);\n\n      for (i = 0; i < n; ++i) {\n        values[i] = value(data[i], i, data);\n      }\n\n      var xz = domain(values),\n          x0 = xz[0],\n          x1 = xz[1],\n          tz = threshold(values, x0, x1);\n\n      // Convert number of thresholds into uniform thresholds.\n      if (!Array.isArray(tz)) tz = ticks(x0, x1, tz);\n\n      // Remove any thresholds outside the domain.\n      var m = tz.length;\n      while (tz[0] <= x0) tz.shift(), --m;\n      while (tz[m - 1] >= x1) tz.pop(), --m;\n\n      var bins = new Array(m + 1),\n          bin;\n\n      // Initialize bins.\n      for (i = 0; i <= m; ++i) {\n        bin = bins[i] = [];\n        bin.x0 = i > 0 ? tz[i - 1] : x0;\n        bin.x1 = i < m ? tz[i] : x1;\n      }\n\n      // Assign data to bins by value, ignoring any outside the domain.\n      for (i = 0; i < n; ++i) {\n        x = values[i];\n        if (x0 <= x && x <= x1) {\n          bins[bisectRight(tz, x, 0, m)].push(data[i]);\n        }\n      }\n\n      return bins;\n    }\n\n    histogram.value = function(_) {\n      return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n    };\n\n    histogram.domain = function(_) {\n      return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n    };\n\n    histogram.thresholds = function(_) {\n      return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), histogram) : threshold;\n    };\n\n    return histogram;\n  }\n\n  function threshold(array, p, f) {\n    if (f == null) f = number;\n    if (!(n = array.length)) return;\n    if ((p = +p) <= 0 || n < 2) return +f(array[0], 0, array);\n    if (p >= 1) return +f(array[n - 1], n - 1, array);\n    var n,\n        h = (n - 1) * p,\n        i = Math.floor(h),\n        a = +f(array[i], i, array),\n        b = +f(array[i + 1], i + 1, array);\n    return a + (b - a) * (h - i);\n  }\n\n  function freedmanDiaconis(values, min, max) {\n    values = map.call(values, number).sort(ascending);\n    return Math.ceil((max - min) / (2 * (threshold(values, 0.75) - threshold(values, 0.25)) * Math.pow(values.length, -1 / 3)));\n  }\n\n  function scott(values, min, max) {\n    return Math.ceil((max - min) / (3.5 * deviation(values) * Math.pow(values.length, -1 / 3)));\n  }\n\n  function max(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b;\n\n    if (f == null) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = array[i]) != null && b > a) a = b;\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b > a) a = b;\n    }\n\n    return a;\n  }\n\n  function mean(array, f) {\n    var s = 0,\n        n = array.length,\n        a,\n        i = -1,\n        j = n;\n\n    if (f == null) {\n      while (++i < n) if (!isNaN(a = number(array[i]))) s += a; else --j;\n    }\n\n    else {\n      while (++i < n) if (!isNaN(a = number(f(array[i], i, array)))) s += a; else --j;\n    }\n\n    if (j) return s / j;\n  }\n\n  function median(array, f) {\n    var numbers = [],\n        n = array.length,\n        a,\n        i = -1;\n\n    if (f == null) {\n      while (++i < n) if (!isNaN(a = number(array[i]))) numbers.push(a);\n    }\n\n    else {\n      while (++i < n) if (!isNaN(a = number(f(array[i], i, array)))) numbers.push(a);\n    }\n\n    return threshold(numbers.sort(ascending), 0.5);\n  }\n\n  function merge(arrays) {\n    var n = arrays.length,\n        m,\n        i = -1,\n        j = 0,\n        merged,\n        array;\n\n    while (++i < n) j += arrays[i].length;\n    merged = new Array(j);\n\n    while (--n >= 0) {\n      array = arrays[n];\n      m = array.length;\n      while (--m >= 0) {\n        merged[--j] = array[m];\n      }\n    }\n\n    return merged;\n  }\n\n  function min(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b;\n\n    if (f == null) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = array[i]) != null && a > b) a = b;\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null && a > b) a = b;\n    }\n\n    return a;\n  }\n\n  function pairs(array) {\n    var i = 0, n = array.length - 1, p = array[0], pairs = new Array(n < 0 ? 0 : n);\n    while (i < n) pairs[i] = [p, p = array[++i]];\n    return pairs;\n  }\n\n  function permute(array, indexes) {\n    var i = indexes.length, permutes = new Array(i);\n    while (i--) permutes[i] = array[indexes[i]];\n    return permutes;\n  }\n\n  function scan(array, compare) {\n    if (!(n = array.length)) return;\n    var i = 0,\n        n,\n        j = 0,\n        xi,\n        xj = array[j];\n\n    if (!compare) compare = ascending;\n\n    while (++i < n) if (compare(xi = array[i], xj) < 0 || compare(xj, xj) !== 0) xj = xi, j = i;\n\n    if (compare(xj, xj) === 0) return j;\n  }\n\n  function shuffle(array, i0, i1) {\n    var m = (i1 == null ? array.length : i1) - (i0 = i0 == null ? 0 : +i0),\n        t,\n        i;\n\n    while (m) {\n      i = Math.random() * m-- | 0;\n      t = array[m + i0];\n      array[m + i0] = array[i + i0];\n      array[i + i0] = t;\n    }\n\n    return array;\n  }\n\n  function sum(array, f) {\n    var s = 0,\n        n = array.length,\n        a,\n        i = -1;\n\n    if (f == null) {\n      while (++i < n) if (a = +array[i]) s += a; // Note: zero and null are equivalent.\n    }\n\n    else {\n      while (++i < n) if (a = +f(array[i], i, array)) s += a;\n    }\n\n    return s;\n  }\n\n  function transpose(matrix) {\n    if (!(n = matrix.length)) return [];\n    for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n      for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n        row[j] = matrix[j][i];\n      }\n    }\n    return transpose;\n  }\n\n  function length(d) {\n    return d.length;\n  }\n\n  function zip() {\n    return transpose(arguments);\n  }\n\n  var prefix = \"$\";\n\n  function Map() {}\n\n  Map.prototype = map$1.prototype = {\n    constructor: Map,\n    has: function(key) {\n      return (prefix + key) in this;\n    },\n    get: function(key) {\n      return this[prefix + key];\n    },\n    set: function(key, value) {\n      this[prefix + key] = value;\n      return this;\n    },\n    remove: function(key) {\n      var property = prefix + key;\n      return property in this && delete this[property];\n    },\n    clear: function() {\n      for (var property in this) if (property[0] === prefix) delete this[property];\n    },\n    keys: function() {\n      var keys = [];\n      for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n      return keys;\n    },\n    values: function() {\n      var values = [];\n      for (var property in this) if (property[0] === prefix) values.push(this[property]);\n      return values;\n    },\n    entries: function() {\n      var entries = [];\n      for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n      return entries;\n    },\n    size: function() {\n      var size = 0;\n      for (var property in this) if (property[0] === prefix) ++size;\n      return size;\n    },\n    empty: function() {\n      for (var property in this) if (property[0] === prefix) return false;\n      return true;\n    },\n    each: function(f) {\n      for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n    }\n  };\n\n  function map$1(object, f) {\n    var map = new Map;\n\n    // Copy constructor.\n    if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n    // Index array by numeric index or specified key function.\n    else if (Array.isArray(object)) {\n      var i = -1,\n          n = object.length,\n          o;\n\n      if (f == null) while (++i < n) map.set(i, object[i]);\n      else while (++i < n) map.set(f(o = object[i], i, object), o);\n    }\n\n    // Convert object to map.\n    else if (object) for (var key in object) map.set(key, object[key]);\n\n    return map;\n  }\n\n  function nest() {\n    var keys = [],\n        sortKeys = [],\n        sortValues,\n        rollup,\n        nest;\n\n    function apply(array, depth, createResult, setResult) {\n      if (depth >= keys.length) return rollup != null\n          ? rollup(array) : (sortValues != null\n          ? array.sort(sortValues)\n          : array);\n\n      var i = -1,\n          n = array.length,\n          key = keys[depth++],\n          keyValue,\n          value,\n          valuesByKey = map$1(),\n          values,\n          result = createResult();\n\n      while (++i < n) {\n        if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n          values.push(value);\n        } else {\n          valuesByKey.set(keyValue, [value]);\n        }\n      }\n\n      valuesByKey.each(function(values, key) {\n        setResult(result, key, apply(values, depth, createResult, setResult));\n      });\n\n      return result;\n    }\n\n    function entries(map, depth) {\n      if (++depth > keys.length) return map;\n      var array, sortKey = sortKeys[depth - 1];\n      if (rollup != null && depth >= keys.length) array = map.entries();\n      else array = [], map.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n      return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n    }\n\n    return nest = {\n      object: function(array) { return apply(array, 0, createObject, setObject); },\n      map: function(array) { return apply(array, 0, createMap, setMap); },\n      entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n      key: function(d) { keys.push(d); return nest; },\n      sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n      sortValues: function(order) { sortValues = order; return nest; },\n      rollup: function(f) { rollup = f; return nest; }\n    };\n  }\n\n  function createObject() {\n    return {};\n  }\n\n  function setObject(object, key, value) {\n    object[key] = value;\n  }\n\n  function createMap() {\n    return map$1();\n  }\n\n  function setMap(map, key, value) {\n    map.set(key, value);\n  }\n\n  function Set() {}\n\n  var proto = map$1.prototype;\n\n  Set.prototype = set.prototype = {\n    constructor: Set,\n    has: proto.has,\n    add: function(value) {\n      value += \"\";\n      this[prefix + value] = value;\n      return this;\n    },\n    remove: proto.remove,\n    clear: proto.clear,\n    values: proto.keys,\n    size: proto.size,\n    empty: proto.empty,\n    each: proto.each\n  };\n\n  function set(object, f) {\n    var set = new Set;\n\n    // Copy constructor.\n    if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n    // Otherwise, assume it’s an array.\n    else if (object) {\n      var i = -1, n = object.length;\n      if (f == null) while (++i < n) set.add(object[i]);\n      else while (++i < n) set.add(f(object[i], i, object));\n    }\n\n    return set;\n  }\n\n  function keys(map) {\n    var keys = [];\n    for (var key in map) keys.push(key);\n    return keys;\n  }\n\n  function values(map) {\n    var values = [];\n    for (var key in map) values.push(map[key]);\n    return values;\n  }\n\n  function entries(map) {\n    var entries = [];\n    for (var key in map) entries.push({key: key, value: map[key]});\n    return entries;\n  }\n\n  function uniform(min, max) {\n    min = min == null ? 0 : +min;\n    max = max == null ? 1 : +max;\n    if (arguments.length === 1) max = min, min = 0;\n    else max -= min;\n    return function() {\n      return Math.random() * max + min;\n    };\n  }\n\n  function normal(mu, sigma) {\n    var x, r;\n    mu = mu == null ? 0 : +mu;\n    sigma = sigma == null ? 1 : +sigma;\n    return function() {\n      var y;\n\n      // If available, use the second previously-generated uniform random.\n      if (x != null) y = x, x = null;\n\n      // Otherwise, generate a new x and y.\n      else do {\n        x = Math.random() * 2 - 1;\n        y = Math.random() * 2 - 1;\n        r = x * x + y * y;\n      } while (!r || r > 1);\n\n      return mu + sigma * y * Math.sqrt(-2 * Math.log(r) / r);\n    };\n  }\n\n  function logNormal() {\n    var randomNormal = normal.apply(this, arguments);\n    return function() {\n      return Math.exp(randomNormal());\n    };\n  }\n\n  function irwinHall(n) {\n    return function() {\n      for (var sum = 0, i = 0; i < n; ++i) sum += Math.random();\n      return sum;\n    };\n  }\n\n  function bates(n) {\n    var randomIrwinHall = irwinHall(n);\n    return function() {\n      return randomIrwinHall() / n;\n    };\n  }\n\n  function exponential(lambda) {\n    return function() {\n      return -Math.log(1 - Math.random()) / lambda;\n    };\n  }\n\n  function linear(t) {\n    return +t;\n  }\n\n  function quadIn(t) {\n    return t * t;\n  }\n\n  function quadOut(t) {\n    return t * (2 - t);\n  }\n\n  function quadInOut(t) {\n    return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n  }\n\n  function cubicIn(t) {\n    return t * t * t;\n  }\n\n  function cubicOut(t) {\n    return --t * t * t + 1;\n  }\n\n  function easeCubicInOut(t) {\n    return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n  }\n\n  var exponent = 3;\n\n  var polyIn = (function custom(e) {\n    e = +e;\n\n    function polyIn(t) {\n      return Math.pow(t, e);\n    }\n\n    polyIn.exponent = custom;\n\n    return polyIn;\n  })(exponent);\n\n  var polyOut = (function custom(e) {\n    e = +e;\n\n    function polyOut(t) {\n      return 1 - Math.pow(1 - t, e);\n    }\n\n    polyOut.exponent = custom;\n\n    return polyOut;\n  })(exponent);\n\n  var polyInOut = (function custom(e) {\n    e = +e;\n\n    function polyInOut(t) {\n      return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n    }\n\n    polyInOut.exponent = custom;\n\n    return polyInOut;\n  })(exponent);\n\n  var pi = Math.PI;\n  var halfPi = pi / 2;\n  function sinIn(t) {\n    return 1 - Math.cos(t * halfPi);\n  }\n\n  function sinOut(t) {\n    return Math.sin(t * halfPi);\n  }\n\n  function sinInOut(t) {\n    return (1 - Math.cos(pi * t)) / 2;\n  }\n\n  function expIn(t) {\n    return Math.pow(2, 10 * t - 10);\n  }\n\n  function expOut(t) {\n    return 1 - Math.pow(2, -10 * t);\n  }\n\n  function expInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(2, 10 * t - 10) : 2 - Math.pow(2, 10 - 10 * t)) / 2;\n  }\n\n  function circleIn(t) {\n    return 1 - Math.sqrt(1 - t * t);\n  }\n\n  function circleOut(t) {\n    return Math.sqrt(1 - --t * t);\n  }\n\n  function circleInOut(t) {\n    return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n  }\n\n  var b1 = 4 / 11;\n  var b2 = 6 / 11;\n  var b3 = 8 / 11;\n  var b4 = 3 / 4;\n  var b5 = 9 / 11;\n  var b6 = 10 / 11;\n  var b7 = 15 / 16;\n  var b8 = 21 / 22;\n  var b9 = 63 / 64;\n  var b0 = 1 / b1 / b1;\n  function bounceIn(t) {\n    return 1 - bounceOut(1 - t);\n  }\n\n  function bounceOut(t) {\n    return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n  }\n\n  function bounceInOut(t) {\n    return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n  }\n\n  var overshoot = 1.70158;\n\n  var backIn = (function custom(s) {\n    s = +s;\n\n    function backIn(t) {\n      return t * t * ((s + 1) * t - s);\n    }\n\n    backIn.overshoot = custom;\n\n    return backIn;\n  })(overshoot);\n\n  var backOut = (function custom(s) {\n    s = +s;\n\n    function backOut(t) {\n      return --t * t * ((s + 1) * t + s) + 1;\n    }\n\n    backOut.overshoot = custom;\n\n    return backOut;\n  })(overshoot);\n\n  var backInOut = (function custom(s) {\n    s = +s;\n\n    function backInOut(t) {\n      return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n    }\n\n    backInOut.overshoot = custom;\n\n    return backInOut;\n  })(overshoot);\n\n  var tau = 2 * Math.PI;\n  var amplitude = 1;\n  var period = 0.3;\n  var elasticIn = (function custom(a, p) {\n    var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n    function elasticIn(t) {\n      return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n    }\n\n    elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n    elasticIn.period = function(p) { return custom(a, p); };\n\n    return elasticIn;\n  })(amplitude, period);\n\n  var elasticOut = (function custom(a, p) {\n    var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n    function elasticOut(t) {\n      return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n    }\n\n    elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n    elasticOut.period = function(p) { return custom(a, p); };\n\n    return elasticOut;\n  })(amplitude, period);\n\n  var elasticInOut = (function custom(a, p) {\n    var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n    function elasticInOut(t) {\n      return ((t = t * 2 - 1) < 0\n          ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)\n          : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n    }\n\n    elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n    elasticInOut.period = function(p) { return custom(a, p); };\n\n    return elasticInOut;\n  })(amplitude, period);\n\n  function area(polygon) {\n    var i = -1,\n        n = polygon.length,\n        a,\n        b = polygon[n - 1],\n        area = 0;\n\n    while (++i < n) {\n      a = b;\n      b = polygon[i];\n      area += a[1] * b[0] - a[0] * b[1];\n    }\n\n    return area / 2;\n  }\n\n  function centroid(polygon) {\n    var i = -1,\n        n = polygon.length,\n        x = 0,\n        y = 0,\n        a,\n        b = polygon[n - 1],\n        c,\n        k = 0;\n\n    while (++i < n) {\n      a = b;\n      b = polygon[i];\n      k += c = a[0] * b[1] - b[0] * a[1];\n      x += (a[0] + b[0]) * c;\n      y += (a[1] + b[1]) * c;\n    }\n\n    return k *= 3, [x / k, y / k];\n  }\n\n  // Returns the 2D cross product of AB and AC vectors, i.e., the z-component of\n  // the 3D cross product in a quadrant I Cartesian coordinate system (+x is\n  // right, +y is up). Returns a positive value if ABC is counter-clockwise,\n  // negative if clockwise, and zero if the points are collinear.\n  function cross(a, b, c) {\n    return (b[0] - a[0]) * (c[1] - a[1]) - (b[1] - a[1]) * (c[0] - a[0]);\n  }\n\n  function lexicographicOrder(a, b) {\n    return a[0] - b[0] || a[1] - b[1];\n  }\n\n  // Computes the upper convex hull per the monotone chain algorithm.\n  // Assumes points.length >= 3, is sorted by x, unique in y.\n  // Returns an array of indices into points in left-to-right order.\n  function computeUpperHullIndexes(points) {\n    var n = points.length,\n        indexes = [0, 1],\n        size = 2;\n\n    for (var i = 2; i < n; ++i) {\n      while (size > 1 && cross(points[indexes[size - 2]], points[indexes[size - 1]], points[i]) <= 0) --size;\n      indexes[size++] = i;\n    }\n\n    return indexes.slice(0, size); // remove popped points\n  }\n\n  function hull(points) {\n    if ((n = points.length) < 3) return null;\n\n    var i,\n        n,\n        sortedPoints = new Array(n),\n        flippedPoints = new Array(n);\n\n    for (i = 0; i < n; ++i) sortedPoints[i] = [+points[i][0], +points[i][1], i];\n    sortedPoints.sort(lexicographicOrder);\n    for (i = 0; i < n; ++i) flippedPoints[i] = [sortedPoints[i][0], -sortedPoints[i][1]];\n\n    var upperIndexes = computeUpperHullIndexes(sortedPoints),\n        lowerIndexes = computeUpperHullIndexes(flippedPoints);\n\n    // Construct the hull polygon, removing possible duplicate endpoints.\n    var skipLeft = lowerIndexes[0] === upperIndexes[0],\n        skipRight = lowerIndexes[lowerIndexes.length - 1] === upperIndexes[upperIndexes.length - 1],\n        hull = [];\n\n    // Add upper hull in right-to-l order.\n    // Then add lower hull in left-to-right order.\n    for (i = upperIndexes.length - 1; i >= 0; --i) hull.push(points[sortedPoints[upperIndexes[i]][2]]);\n    for (i = +skipLeft; i < lowerIndexes.length - skipRight; ++i) hull.push(points[sortedPoints[lowerIndexes[i]][2]]);\n\n    return hull;\n  }\n\n  function contains(polygon, point) {\n    var n = polygon.length,\n        p = polygon[n - 1],\n        x = point[0], y = point[1],\n        x0 = p[0], y0 = p[1],\n        x1, y1,\n        inside = false;\n\n    for (var i = 0; i < n; ++i) {\n      p = polygon[i], x1 = p[0], y1 = p[1];\n      if (((y1 > y) !== (y0 > y)) && (x < (x0 - x1) * (y - y1) / (y0 - y1) + x1)) inside = !inside;\n      x0 = x1, y0 = y1;\n    }\n\n    return inside;\n  }\n\n  function length$1(polygon) {\n    var i = -1,\n        n = polygon.length,\n        b = polygon[n - 1],\n        xa,\n        ya,\n        xb = b[0],\n        yb = b[1],\n        perimeter = 0;\n\n    while (++i < n) {\n      xa = xb;\n      ya = yb;\n      b = polygon[i];\n      xb = b[0];\n      yb = b[1];\n      xa -= xb;\n      ya -= yb;\n      perimeter += Math.sqrt(xa * xa + ya * ya);\n    }\n\n    return perimeter;\n  }\n\nvar   pi$1 = Math.PI;\nvar   tau$1 = 2 * pi$1;\n  var epsilon = 1e-6;\n  var tauEpsilon = tau$1 - epsilon;\n  function Path() {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = [];\n  }\n\n  function path() {\n    return new Path;\n  }\n\n  Path.prototype = path.prototype = {\n    constructor: Path,\n    moveTo: function(x, y) {\n      this._.push(\"M\", this._x0 = this._x1 = +x, \",\", this._y0 = this._y1 = +y);\n    },\n    closePath: function() {\n      if (this._x1 !== null) {\n        this._x1 = this._x0, this._y1 = this._y0;\n        this._.push(\"Z\");\n      }\n    },\n    lineTo: function(x, y) {\n      this._.push(\"L\", this._x1 = +x, \",\", this._y1 = +y);\n    },\n    quadraticCurveTo: function(x1, y1, x, y) {\n      this._.push(\"Q\", +x1, \",\", +y1, \",\", this._x1 = +x, \",\", this._y1 = +y);\n    },\n    bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n      this._.push(\"C\", +x1, \",\", +y1, \",\", +x2, \",\", +y2, \",\", this._x1 = +x, \",\", this._y1 = +y);\n    },\n    arcTo: function(x1, y1, x2, y2, r) {\n      x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n      var x0 = this._x1,\n          y0 = this._y1,\n          x21 = x2 - x1,\n          y21 = y2 - y1,\n          x01 = x0 - x1,\n          y01 = y0 - y1,\n          l01_2 = x01 * x01 + y01 * y01;\n\n      // Is the radius negative? Error.\n      if (r < 0) throw new Error(\"negative radius: \" + r);\n\n      // Is this path empty? Move to (x1,y1).\n      if (this._x1 === null) {\n        this._.push(\n          \"M\", this._x1 = x1, \",\", this._y1 = y1\n        );\n      }\n\n      // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n      else if (!(l01_2 > epsilon));\n\n      // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n      // Equivalently, is (x1,y1) coincident with (x2,y2)?\n      // Or, is the radius zero? Line to (x1,y1).\n      else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n        this._.push(\n          \"L\", this._x1 = x1, \",\", this._y1 = y1\n        );\n      }\n\n      // Otherwise, draw an arc!\n      else {\n        var x20 = x2 - x0,\n            y20 = y2 - y0,\n            l21_2 = x21 * x21 + y21 * y21,\n            l20_2 = x20 * x20 + y20 * y20,\n            l21 = Math.sqrt(l21_2),\n            l01 = Math.sqrt(l01_2),\n            l = r * Math.tan((pi$1 - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n            t01 = l / l01,\n            t21 = l / l21;\n\n        // If the start tangent is not coincident with (x0,y0), line to.\n        if (Math.abs(t01 - 1) > epsilon) {\n          this._.push(\n            \"L\", x1 + t01 * x01, \",\", y1 + t01 * y01\n          );\n        }\n\n        this._.push(\n          \"A\", r, \",\", r, \",0,0,\", +(y01 * x20 > x01 * y20), \",\", this._x1 = x1 + t21 * x21, \",\", this._y1 = y1 + t21 * y21\n        );\n      }\n    },\n    arc: function(x, y, r, a0, a1, ccw) {\n      x = +x, y = +y, r = +r;\n      var dx = r * Math.cos(a0),\n          dy = r * Math.sin(a0),\n          x0 = x + dx,\n          y0 = y + dy,\n          cw = 1 ^ ccw,\n          da = ccw ? a0 - a1 : a1 - a0;\n\n      // Is the radius negative? Error.\n      if (r < 0) throw new Error(\"negative radius: \" + r);\n\n      // Is this path empty? Move to (x0,y0).\n      if (this._x1 === null) {\n        this._.push(\n          \"M\", x0, \",\", y0\n        );\n      }\n\n      // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n      else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n        this._.push(\n          \"L\", x0, \",\", y0\n        );\n      }\n\n      // Is this arc empty? We’re done.\n      if (!r) return;\n\n      // Is this a complete circle? Draw two arcs to complete the circle.\n      if (da > tauEpsilon) {\n        this._.push(\n          \"A\", r, \",\", r, \",0,1,\", cw, \",\", x - dx, \",\", y - dy,\n          \"A\", r, \",\", r, \",0,1,\", cw, \",\", this._x1 = x0, \",\", this._y1 = y0\n        );\n      }\n\n      // Otherwise, draw an arc!\n      else {\n        if (da < 0) da = da % tau$1 + tau$1;\n        this._.push(\n          \"A\", r, \",\", r, \",0,\", +(da >= pi$1), \",\", cw, \",\", this._x1 = x + r * Math.cos(a1), \",\", this._y1 = y + r * Math.sin(a1)\n        );\n      }\n    },\n    rect: function(x, y, w, h) {\n      this._.push(\"M\", this._x0 = this._x1 = +x, \",\", this._y0 = this._y1 = +y, \"h\", +w, \"v\", +h, \"h\", -w, \"Z\");\n    },\n    toString: function() {\n      return this._.join(\"\");\n    }\n  };\n\n  function tree_add(d) {\n    var x = +this._x.call(null, d),\n        y = +this._y.call(null, d);\n    return add(this.cover(x, y), x, y, d);\n  }\n\n  function add(tree, x, y, d) {\n    if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n    var parent,\n        node = tree._root,\n        leaf = {data: d},\n        x0 = tree._x0,\n        y0 = tree._y0,\n        x1 = tree._x1,\n        y1 = tree._y1,\n        xm,\n        ym,\n        xp,\n        yp,\n        right,\n        bottom,\n        i,\n        j;\n\n    // If the tree is empty, initialize the root as a leaf.\n    if (!node) return tree._root = leaf, tree;\n\n    // Find the existing leaf for the new point, or add it.\n    while (node.length) {\n      if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n      if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n      if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n    }\n\n    // Is the new point is exactly coincident with the existing point?\n    xp = +tree._x.call(null, node.data);\n    yp = +tree._y.call(null, node.data);\n    if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n    // Otherwise, split the leaf node until the old and new point are separated.\n    do {\n      parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n      if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n      if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n    return parent[j] = node, parent[i] = leaf, tree;\n  }\n\n  function addAll(data) {\n    var d, i, n = data.length,\n        x,\n        y,\n        xz = new Array(n),\n        yz = new Array(n),\n        x0 = Infinity,\n        y0 = Infinity,\n        x1 = -Infinity,\n        y1 = -Infinity;\n\n    // Compute the points and their extent.\n    for (i = 0; i < n; ++i) {\n      if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n      xz[i] = x;\n      yz[i] = y;\n      if (x < x0) x0 = x;\n      if (x > x1) x1 = x;\n      if (y < y0) y0 = y;\n      if (y > y1) y1 = y;\n    }\n\n    // If there were no (valid) points, inherit the existing extent.\n    if (x1 < x0) x0 = this._x0, x1 = this._x1;\n    if (y1 < y0) y0 = this._y0, y1 = this._y1;\n\n    // Expand the tree to cover the new points.\n    this.cover(x0, y0).cover(x1, y1);\n\n    // Add the new points.\n    for (i = 0; i < n; ++i) {\n      add(this, xz[i], yz[i], data[i]);\n    }\n\n    return this;\n  }\n\n  function tree_cover(x, y) {\n    if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n    var x0 = this._x0,\n        y0 = this._y0,\n        x1 = this._x1,\n        y1 = this._y1;\n\n    // If the quadtree has no extent, initialize them.\n    // Integer extent are necessary so that if we later double the extent,\n    // the existing quadrant boundaries don’t change due to floating point error!\n    if (isNaN(x0)) {\n      x1 = (x0 = Math.floor(x)) + 1;\n      y1 = (y0 = Math.floor(y)) + 1;\n    }\n\n    // Otherwise, double repeatedly to cover.\n    else if (x0 > x || x > x1 || y0 > y || y > y1) {\n      var z = x1 - x0,\n          node = this._root,\n          parent,\n          i;\n\n      switch (i = (y < (y0 + y1) / 2) << 1 | (x < (x0 + x1) / 2)) {\n        case 0: {\n          do parent = new Array(4), parent[i] = node, node = parent;\n          while (z *= 2, x1 = x0 + z, y1 = y0 + z, x > x1 || y > y1);\n          break;\n        }\n        case 1: {\n          do parent = new Array(4), parent[i] = node, node = parent;\n          while (z *= 2, x0 = x1 - z, y1 = y0 + z, x0 > x || y > y1);\n          break;\n        }\n        case 2: {\n          do parent = new Array(4), parent[i] = node, node = parent;\n          while (z *= 2, x1 = x0 + z, y0 = y1 - z, x > x1 || y0 > y);\n          break;\n        }\n        case 3: {\n          do parent = new Array(4), parent[i] = node, node = parent;\n          while (z *= 2, x0 = x1 - z, y0 = y1 - z, x0 > x || y0 > y);\n          break;\n        }\n      }\n\n      if (this._root && this._root.length) this._root = node;\n    }\n\n    // If the quadtree covers the point already, just return.\n    else return this;\n\n    this._x0 = x0;\n    this._y0 = y0;\n    this._x1 = x1;\n    this._y1 = y1;\n    return this;\n  }\n\n  function tree_data() {\n    var data = [];\n    this.visit(function(node) {\n      if (!node.length) do data.push(node.data); while (node = node.next)\n    });\n    return data;\n  }\n\n  function tree_extent(_) {\n    return arguments.length\n        ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n        : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n  }\n\n  function Quad(node, x0, y0, x1, y1) {\n    this.node = node;\n    this.x0 = x0;\n    this.y0 = y0;\n    this.x1 = x1;\n    this.y1 = y1;\n  }\n\n  function tree_find(x, y, radius) {\n    var data,\n        x0 = this._x0,\n        y0 = this._y0,\n        x1,\n        y1,\n        x2,\n        y2,\n        x3 = this._x1,\n        y3 = this._y1,\n        quads = [],\n        node = this._root,\n        q,\n        i;\n\n    if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n    if (radius == null) radius = Infinity;\n    else {\n      x0 = x - radius, y0 = y - radius;\n      x3 = x + radius, y3 = y + radius;\n      radius *= radius;\n    }\n\n    while (q = quads.pop()) {\n\n      // Stop searching if this quadrant can’t contain a closer node.\n      if (!(node = q.node)\n          || (x1 = q.x0) > x3\n          || (y1 = q.y0) > y3\n          || (x2 = q.x1) < x0\n          || (y2 = q.y1) < y0) continue;\n\n      // Bisect the current quadrant.\n      if (node.length) {\n        var xm = (x1 + x2) / 2,\n            ym = (y1 + y2) / 2;\n\n        quads.push(\n          new Quad(node[3], xm, ym, x2, y2),\n          new Quad(node[2], x1, ym, xm, y2),\n          new Quad(node[1], xm, y1, x2, ym),\n          new Quad(node[0], x1, y1, xm, ym)\n        );\n\n        // Visit the closest quadrant first.\n        if (i = (y >= ym) << 1 | (x >= xm)) {\n          q = quads[quads.length - 1];\n          quads[quads.length - 1] = quads[quads.length - 1 - i];\n          quads[quads.length - 1 - i] = q;\n        }\n      }\n\n      // Visit this point. (Visiting coincident points isn’t necessary!)\n      else {\n        var dx = x - +this._x.call(null, node.data),\n            dy = y - +this._y.call(null, node.data),\n            d2 = dx * dx + dy * dy;\n        if (d2 < radius) {\n          var d = Math.sqrt(radius = d2);\n          x0 = x - d, y0 = y - d;\n          x3 = x + d, y3 = y + d;\n          data = node.data;\n        }\n      }\n    }\n\n    return data;\n  }\n\n  function tree_remove(d) {\n    if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n    var parent,\n        node = this._root,\n        retainer,\n        previous,\n        next,\n        x0 = this._x0,\n        y0 = this._y0,\n        x1 = this._x1,\n        y1 = this._y1,\n        x,\n        y,\n        xm,\n        ym,\n        right,\n        bottom,\n        i,\n        j;\n\n    // If the tree is empty, initialize the root as a leaf.\n    if (!node) return this;\n\n    // Find the leaf node for the point.\n    // While descending, also retain the deepest parent with a non-removed sibling.\n    if (node.length) while (true) {\n      if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n      if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n      if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n      if (!node.length) break;\n      if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n    }\n\n    // Find the point to remove.\n    while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n    if (next = node.next) delete node.next;\n\n    // If there are multiple coincident points, remove just the point.\n    if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n    // If this is the root point, remove it.\n    if (!parent) return this._root = next, this;\n\n    // Remove this leaf.\n    next ? parent[i] = next : delete parent[i];\n\n    // If the parent now contains exactly one leaf, collapse superfluous parents.\n    if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n        && node === (parent[3] || parent[2] || parent[1] || parent[0])\n        && !node.length) {\n      if (retainer) retainer[j] = node;\n      else this._root = node;\n    }\n\n    return this;\n  }\n\n  function removeAll(data) {\n    for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n    return this;\n  }\n\n  function tree_root() {\n    return this._root;\n  }\n\n  function tree_size() {\n    var size = 0;\n    this.visit(function(node) {\n      if (!node.length) do ++size; while (node = node.next)\n    });\n    return size;\n  }\n\n  function tree_visit(callback) {\n    var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n    if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n    while (q = quads.pop()) {\n      if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n        var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n        if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n        if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n        if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n        if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      }\n    }\n    return this;\n  }\n\n  function tree_visitAfter(callback) {\n    var quads = [], next = [], q;\n    if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n    while (q = quads.pop()) {\n      var node = q.node;\n      if (node.length) {\n        var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n        if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n        if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n        if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n        if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      }\n      next.push(q);\n    }\n    while (q = next.pop()) {\n      callback(q.node, q.x0, q.y0, q.x1, q.y1);\n    }\n    return this;\n  }\n\n  function defaultX(d) {\n    return d[0];\n  }\n\n  function tree_x(_) {\n    return arguments.length ? (this._x = _, this) : this._x;\n  }\n\n  function defaultY(d) {\n    return d[1];\n  }\n\n  function tree_y(_) {\n    return arguments.length ? (this._y = _, this) : this._y;\n  }\n\n  function quadtree(nodes, x, y) {\n    var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n    return nodes == null ? tree : tree.addAll(nodes);\n  }\n\n  function Quadtree(x, y, x0, y0, x1, y1) {\n    this._x = x;\n    this._y = y;\n    this._x0 = x0;\n    this._y0 = y0;\n    this._x1 = x1;\n    this._y1 = y1;\n    this._root = undefined;\n  }\n\n  function leaf_copy(leaf) {\n    var copy = {data: leaf.data}, next = copy;\n    while (leaf = leaf.next) next = next.next = {data: leaf.data};\n    return copy;\n  }\n\n  var treeProto = quadtree.prototype = Quadtree.prototype;\n\n  treeProto.copy = function() {\n    var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n        node = this._root,\n        nodes,\n        child;\n\n    if (!node) return copy;\n\n    if (!node.length) return copy._root = leaf_copy(node), copy;\n\n    nodes = [{source: node, target: copy._root = new Array(4)}];\n    while (node = nodes.pop()) {\n      for (var i = 0; i < 4; ++i) {\n        if (child = node.source[i]) {\n          if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n          else node.target[i] = leaf_copy(child);\n        }\n      }\n    }\n\n    return copy;\n  };\n\n  treeProto.add = tree_add;\n  treeProto.addAll = addAll;\n  treeProto.cover = tree_cover;\n  treeProto.data = tree_data;\n  treeProto.extent = tree_extent;\n  treeProto.find = tree_find;\n  treeProto.remove = tree_remove;\n  treeProto.removeAll = removeAll;\n  treeProto.root = tree_root;\n  treeProto.size = tree_size;\n  treeProto.visit = tree_visit;\n  treeProto.visitAfter = tree_visitAfter;\n  treeProto.x = tree_x;\n  treeProto.y = tree_y;\n\n  var slice$1 = [].slice;\n\n  var noabort = {};\n\n  function Queue(size) {\n    if (!(size >= 1)) throw new Error;\n    this._size = size;\n    this._call =\n    this._error = null;\n    this._tasks = [];\n    this._data = [];\n    this._waiting =\n    this._active =\n    this._ended =\n    this._start = 0; // inside a synchronous task callback?\n  }\n\n  Queue.prototype = queue.prototype = {\n    constructor: Queue,\n    defer: function(callback) {\n      if (typeof callback !== \"function\" || this._call) throw new Error;\n      if (this._error != null) return this;\n      var t = slice$1.call(arguments, 1);\n      t.push(callback);\n      ++this._waiting, this._tasks.push(t);\n      poke(this);\n      return this;\n    },\n    abort: function() {\n      if (this._error == null) abort(this, new Error(\"abort\"));\n      return this;\n    },\n    await: function(callback) {\n      if (typeof callback !== \"function\" || this._call) throw new Error;\n      this._call = function(error, results) { callback.apply(null, [error].concat(results)); };\n      maybeNotify(this);\n      return this;\n    },\n    awaitAll: function(callback) {\n      if (typeof callback !== \"function\" || this._call) throw new Error;\n      this._call = callback;\n      maybeNotify(this);\n      return this;\n    }\n  };\n\n  function poke(q) {\n    if (!q._start) try { start(q); } // let the current task complete\n    catch (e) { if (q._tasks[q._ended + q._active - 1]) abort(q, e); } // task errored synchronously\n  }\n\n  function start(q) {\n    while (q._start = q._waiting && q._active < q._size) {\n      var i = q._ended + q._active,\n          t = q._tasks[i],\n          j = t.length - 1,\n          c = t[j];\n      t[j] = end(q, i);\n      --q._waiting, ++q._active;\n      t = c.apply(null, t);\n      if (!q._tasks[i]) continue; // task finished synchronously\n      q._tasks[i] = t || noabort;\n    }\n  }\n\n  function end(q, i) {\n    return function(e, r) {\n      if (!q._tasks[i]) return; // ignore multiple callbacks\n      --q._active, ++q._ended;\n      q._tasks[i] = null;\n      if (q._error != null) return; // ignore secondary errors\n      if (e != null) {\n        abort(q, e);\n      } else {\n        q._data[i] = r;\n        if (q._waiting) poke(q);\n        else maybeNotify(q);\n      }\n    };\n  }\n\n  function abort(q, e) {\n    var i = q._tasks.length, t;\n    q._error = e; // ignore active callbacks\n    q._data = undefined; // allow gc\n    q._waiting = NaN; // prevent starting\n\n    while (--i >= 0) {\n      if (t = q._tasks[i]) {\n        q._tasks[i] = null;\n        if (t.abort) try { t.abort(); }\n        catch (e) { /* ignore */ }\n      }\n    }\n\n    q._active = NaN; // allow notification\n    maybeNotify(q);\n  }\n\n  function maybeNotify(q) {\n    if (!q._active && q._call) q._call(q._error, q._data);\n  }\n\n  function queue(concurrency) {\n    return new Queue(arguments.length ? +concurrency : Infinity);\n  }\n\n  function constant$1(x) {\n    return function constant() {\n      return x;\n    };\n  }\n\n  var epsilon$1 = 1e-12;\n  var pi$2 = Math.PI;\n  var halfPi$1 = pi$2 / 2;\n  var tau$2 = 2 * pi$2;\n\n  function arcInnerRadius(d) {\n    return d.innerRadius;\n  }\n\n  function arcOuterRadius(d) {\n    return d.outerRadius;\n  }\n\n  function arcStartAngle(d) {\n    return d.startAngle;\n  }\n\n  function arcEndAngle(d) {\n    return d.endAngle;\n  }\n\n  function arcPadAngle(d) {\n    return d && d.padAngle; // Note: optional!\n  }\n\n  function asin(x) {\n    return x >= 1 ? halfPi$1 : x <= -1 ? -halfPi$1 : Math.asin(x);\n  }\n\n  function intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n    var x10 = x1 - x0, y10 = y1 - y0,\n        x32 = x3 - x2, y32 = y3 - y2,\n        t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / (y32 * x10 - x32 * y10);\n    return [x0 + t * x10, y0 + t * y10];\n  }\n\n  // Compute perpendicular offset line of length rc.\n  // http://mathworld.wolfram.com/Circle-LineIntersection.html\n  function cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n    var x01 = x0 - x1,\n        y01 = y0 - y1,\n        lo = (cw ? rc : -rc) / Math.sqrt(x01 * x01 + y01 * y01),\n        ox = lo * y01,\n        oy = -lo * x01,\n        x11 = x0 + ox,\n        y11 = y0 + oy,\n        x10 = x1 + ox,\n        y10 = y1 + oy,\n        x00 = (x11 + x10) / 2,\n        y00 = (y11 + y10) / 2,\n        dx = x10 - x11,\n        dy = y10 - y11,\n        d2 = dx * dx + dy * dy,\n        r = r1 - rc,\n        D = x11 * y10 - x10 * y11,\n        d = (dy < 0 ? -1 : 1) * Math.sqrt(Math.max(0, r * r * d2 - D * D)),\n        cx0 = (D * dy - dx * d) / d2,\n        cy0 = (-D * dx - dy * d) / d2,\n        cx1 = (D * dy + dx * d) / d2,\n        cy1 = (-D * dx + dy * d) / d2,\n        dx0 = cx0 - x00,\n        dy0 = cy0 - y00,\n        dx1 = cx1 - x00,\n        dy1 = cy1 - y00;\n\n    // Pick the closer of the two intersection points.\n    // TODO Is there a faster way to determine which intersection to use?\n    if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n    return {\n      cx: cx0,\n      cy: cy0,\n      x01: -ox,\n      y01: -oy,\n      x11: cx0 * (r1 / r - 1),\n      y11: cy0 * (r1 / r - 1)\n    };\n  }\n\n  function arc() {\n    var innerRadius = arcInnerRadius,\n        outerRadius = arcOuterRadius,\n        cornerRadius = constant$1(0),\n        padRadius = null,\n        startAngle = arcStartAngle,\n        endAngle = arcEndAngle,\n        padAngle = arcPadAngle,\n        context = null;\n\n    function arc() {\n      var buffer,\n          r,\n          r0 = +innerRadius.apply(this, arguments),\n          r1 = +outerRadius.apply(this, arguments),\n          a0 = startAngle.apply(this, arguments) - halfPi$1,\n          a1 = endAngle.apply(this, arguments) - halfPi$1,\n          da = Math.abs(a1 - a0),\n          cw = a1 > a0;\n\n      if (!context) context = buffer = path();\n\n      // Ensure that the outer radius is always larger than the inner radius.\n      if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n      // Is it a point?\n      if (!(r1 > epsilon$1)) context.moveTo(0, 0);\n\n      // Or is it a circle or annulus?\n      else if (da > tau$2 - epsilon$1) {\n        context.moveTo(r1 * Math.cos(a0), r1 * Math.sin(a0));\n        context.arc(0, 0, r1, a0, a1, !cw);\n        if (r0 > epsilon$1) {\n          context.moveTo(r0 * Math.cos(a1), r0 * Math.sin(a1));\n          context.arc(0, 0, r0, a1, a0, cw);\n        }\n      }\n\n      // Or is it a circular or annular sector?\n      else {\n        var a01 = a0,\n            a11 = a1,\n            a00 = a0,\n            a10 = a1,\n            da0 = da,\n            da1 = da,\n            ap = padAngle.apply(this, arguments) / 2,\n            rp = (ap > epsilon$1) && (padRadius ? +padRadius.apply(this, arguments) : Math.sqrt(r0 * r0 + r1 * r1)),\n            rc = Math.min(Math.abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n            rc0 = rc,\n            rc1 = rc,\n            t0,\n            t1;\n\n        // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n        if (rp > epsilon$1) {\n          var p0 = asin(rp / r0 * Math.sin(ap)),\n              p1 = asin(rp / r1 * Math.sin(ap));\n          if ((da0 -= p0 * 2) > epsilon$1) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n          else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n          if ((da1 -= p1 * 2) > epsilon$1) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n          else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n        }\n\n        var x01 = r1 * Math.cos(a01),\n            y01 = r1 * Math.sin(a01),\n            x10 = r0 * Math.cos(a10),\n            y10 = r0 * Math.sin(a10);\n\n        // Apply rounded corners?\n        if (rc > epsilon$1) {\n          var x11 = r1 * Math.cos(a11),\n              y11 = r1 * Math.sin(a11),\n              x00 = r0 * Math.cos(a00),\n              y00 = r0 * Math.sin(a00);\n\n          // Restrict the corner radius according to the sector angle.\n          if (da < pi$2) {\n            var oc = da0 > epsilon$1 ? intersect(x01, y01, x00, y00, x11, y11, x10, y10) : [x10, y10],\n                ax = x01 - oc[0],\n                ay = y01 - oc[1],\n                bx = x11 - oc[0],\n                by = y11 - oc[1],\n                kc = 1 / Math.sin(Math.acos((ax * bx + ay * by) / (Math.sqrt(ax * ax + ay * ay) * Math.sqrt(bx * bx + by * by))) / 2),\n                lc = Math.sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n            rc0 = Math.min(rc, (r0 - lc) / (kc - 1));\n            rc1 = Math.min(rc, (r1 - lc) / (kc + 1));\n          }\n        }\n\n        // Is the sector collapsed to a line?\n        if (!(da1 > epsilon$1)) context.moveTo(x01, y01);\n\n        // Does the sector’s outer ring have rounded corners?\n        else if (rc1 > epsilon$1) {\n          t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n          t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n          context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n          // Have the corners merged?\n          if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, Math.atan2(t0.y01, t0.x01), Math.atan2(t1.y01, t1.x01), !cw);\n\n          // Otherwise, draw the two corners and the ring.\n          else {\n            context.arc(t0.cx, t0.cy, rc1, Math.atan2(t0.y01, t0.x01), Math.atan2(t0.y11, t0.x11), !cw);\n            context.arc(0, 0, r1, Math.atan2(t0.cy + t0.y11, t0.cx + t0.x11), Math.atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n            context.arc(t1.cx, t1.cy, rc1, Math.atan2(t1.y11, t1.x11), Math.atan2(t1.y01, t1.x01), !cw);\n          }\n        }\n\n        // Or is the outer ring just a circular arc?\n        else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n        // Is there no inner ring, and it’s a circular sector?\n        // Or perhaps it’s an annular sector collapsed due to padding?\n        if (!(r0 > epsilon$1) || !(da0 > epsilon$1)) context.lineTo(x10, y10);\n\n        // Does the sector’s inner ring (or point) have rounded corners?\n        else if (rc0 > epsilon$1) {\n          t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n          t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n          context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n          // Have the corners merged?\n          if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, Math.atan2(t0.y01, t0.x01), Math.atan2(t1.y01, t1.x01), !cw);\n\n          // Otherwise, draw the two corners and the ring.\n          else {\n            context.arc(t0.cx, t0.cy, rc0, Math.atan2(t0.y01, t0.x01), Math.atan2(t0.y11, t0.x11), !cw);\n            context.arc(0, 0, r0, Math.atan2(t0.cy + t0.y11, t0.cx + t0.x11), Math.atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n            context.arc(t1.cx, t1.cy, rc0, Math.atan2(t1.y11, t1.x11), Math.atan2(t1.y01, t1.x01), !cw);\n          }\n        }\n\n        // Or is the inner ring just a circular arc?\n        else context.arc(0, 0, r0, a10, a00, cw);\n      }\n\n      context.closePath();\n\n      if (buffer) return context = null, buffer + \"\" || null;\n    }\n\n    arc.centroid = function() {\n      var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n          a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi$2 / 2;\n      return [Math.cos(a) * r, Math.sin(a) * r];\n    };\n\n    arc.innerRadius = function(_) {\n      return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant$1(+_), arc) : innerRadius;\n    };\n\n    arc.outerRadius = function(_) {\n      return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant$1(+_), arc) : outerRadius;\n    };\n\n    arc.cornerRadius = function(_) {\n      return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant$1(+_), arc) : cornerRadius;\n    };\n\n    arc.padRadius = function(_) {\n      return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant$1(+_), arc) : padRadius;\n    };\n\n    arc.startAngle = function(_) {\n      return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant$1(+_), arc) : startAngle;\n    };\n\n    arc.endAngle = function(_) {\n      return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant$1(+_), arc) : endAngle;\n    };\n\n    arc.padAngle = function(_) {\n      return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant$1(+_), arc) : padAngle;\n    };\n\n    arc.context = function(_) {\n      return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n    };\n\n    return arc;\n  }\n\n  function Linear(context) {\n    this._context = context;\n  }\n\n  Linear.prototype = {\n    areaStart: function() {\n      this._line = 0;\n    },\n    areaEnd: function() {\n      this._line = NaN;\n    },\n    lineStart: function() {\n      this._point = 0;\n    },\n    lineEnd: function() {\n      if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function(x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n        case 1: this._point = 2; // proceed\n        default: this._context.lineTo(x, y); break;\n      }\n    }\n  };\n\n  function curveLinear(context) {\n    return new Linear(context);\n  }\n\n  function x(p) {\n    return p[0];\n  }\n\n  function y(p) {\n    return p[1];\n  }\n\n  function line() {\n    var x$$ = x,\n        y$$ = y,\n        defined = constant$1(true),\n        context = null,\n        curve = curveLinear,\n        output = null;\n\n    function line(data) {\n      var i,\n          n = data.length,\n          d,\n          defined0 = false,\n          buffer;\n\n      if (context == null) output = curve(buffer = path());\n\n      for (i = 0; i <= n; ++i) {\n        if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n          if (defined0 = !defined0) output.lineStart();\n          else output.lineEnd();\n        }\n        if (defined0) output.point(+x$$(d, i, data), +y$$(d, i, data));\n      }\n\n      if (buffer) return output = null, buffer + \"\" || null;\n    }\n\n    line.x = function(_) {\n      return arguments.length ? (x$$ = typeof _ === \"function\" ? _ : constant$1(+_), line) : x$$;\n    };\n\n    line.y = function(_) {\n      return arguments.length ? (y$$ = typeof _ === \"function\" ? _ : constant$1(+_), line) : y$$;\n    };\n\n    line.defined = function(_) {\n      return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant$1(!!_), line) : defined;\n    };\n\n    line.curve = function(_) {\n      return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n    };\n\n    line.context = function(_) {\n      return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n    };\n\n    return line;\n  }\n\n  function area$1() {\n    var x0 = x,\n        x1 = null,\n        y0 = constant$1(0),\n        y1 = y,\n        defined = constant$1(true),\n        context = null,\n        curve = curveLinear,\n        output = null;\n\n    function area(data) {\n      var i,\n          j,\n          k,\n          n = data.length,\n          d,\n          defined0 = false,\n          buffer,\n          x0z = new Array(n),\n          y0z = new Array(n);\n\n      if (context == null) output = curve(buffer = path());\n\n      for (i = 0; i <= n; ++i) {\n        if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n          if (defined0 = !defined0) {\n            j = i;\n            output.areaStart();\n            output.lineStart();\n          } else {\n            output.lineEnd();\n            output.lineStart();\n            for (k = i - 1; k >= j; --k) {\n              output.point(x0z[k], y0z[k]);\n            }\n            output.lineEnd();\n            output.areaEnd();\n          }\n        }\n        if (defined0) {\n          x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n          output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n        }\n      }\n\n      if (buffer) return output = null, buffer + \"\" || null;\n    }\n\n    function arealine() {\n      return line().defined(defined).curve(curve).context(context);\n    }\n\n    area.x = function(_) {\n      return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant$1(+_), x1 = null, area) : x0;\n    };\n\n    area.x0 = function(_) {\n      return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant$1(+_), area) : x0;\n    };\n\n    area.x1 = function(_) {\n      return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant$1(+_), area) : x1;\n    };\n\n    area.y = function(_) {\n      return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant$1(+_), y1 = null, area) : y0;\n    };\n\n    area.y0 = function(_) {\n      return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant$1(+_), area) : y0;\n    };\n\n    area.y1 = function(_) {\n      return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant$1(+_), area) : y1;\n    };\n\n    area.lineX0 =\n    area.lineY0 = function() {\n      return arealine().x(x0).y(y0);\n    };\n\n    area.lineY1 = function() {\n      return arealine().x(x0).y(y1);\n    };\n\n    area.lineX1 = function() {\n      return arealine().x(x1).y(y0);\n    };\n\n    area.defined = function(_) {\n      return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant$1(!!_), area) : defined;\n    };\n\n    area.curve = function(_) {\n      return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n    };\n\n    area.context = function(_) {\n      return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n    };\n\n    return area;\n  }\n\n  function descending$1(a, b) {\n    return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n  }\n\n  function identity$1(d) {\n    return d;\n  }\n\n  function pie() {\n    var value = identity$1,\n        sortValues = descending$1,\n        sort = null,\n        startAngle = constant$1(0),\n        endAngle = constant$1(tau$2),\n        padAngle = constant$1(0);\n\n    function pie(data) {\n      var i,\n          n = data.length,\n          j,\n          k,\n          sum = 0,\n          index = new Array(n),\n          arcs = new Array(n),\n          a0 = +startAngle.apply(this, arguments),\n          da = Math.min(tau$2, Math.max(-tau$2, endAngle.apply(this, arguments) - a0)),\n          a1,\n          p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n          pa = p * (da < 0 ? -1 : 1),\n          v;\n\n      for (i = 0; i < n; ++i) {\n        if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n          sum += v;\n        }\n      }\n\n      // Optionally sort the arcs by previously-computed values or by data.\n      if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n      else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n      // Compute the arcs! They are stored in the original data's order.\n      for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n        j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n          data: data[j],\n          index: i,\n          value: v,\n          startAngle: a0,\n          endAngle: a1,\n          padAngle: p\n        };\n      }\n\n      return arcs;\n    }\n\n    pie.value = function(_) {\n      return arguments.length ? (value = typeof _ === \"function\" ? _ : constant$1(+_), pie) : value;\n    };\n\n    pie.sortValues = function(_) {\n      return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n    };\n\n    pie.sort = function(_) {\n      return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n    };\n\n    pie.startAngle = function(_) {\n      return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant$1(+_), pie) : startAngle;\n    };\n\n    pie.endAngle = function(_) {\n      return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant$1(+_), pie) : endAngle;\n    };\n\n    pie.padAngle = function(_) {\n      return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant$1(+_), pie) : padAngle;\n    };\n\n    return pie;\n  }\n\n  var curveRadialLinear = curveRadial(curveLinear);\n\n  function Radial(curve) {\n    this._curve = curve;\n  }\n\n  Radial.prototype = {\n    areaStart: function() {\n      this._curve.areaStart();\n    },\n    areaEnd: function() {\n      this._curve.areaEnd();\n    },\n    lineStart: function() {\n      this._curve.lineStart();\n    },\n    lineEnd: function() {\n      this._curve.lineEnd();\n    },\n    point: function(a, r) {\n      this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n    }\n  };\n\n  function curveRadial(curve) {\n\n    function radial(context) {\n      return new Radial(curve(context));\n    }\n\n    radial._curve = curve;\n\n    return radial;\n  }\n\n  function radialLine(l) {\n    var c = l.curve;\n\n    l.angle = l.x, delete l.x;\n    l.radius = l.y, delete l.y;\n\n    l.curve = function(_) {\n      return arguments.length ? c(curveRadial(_)) : c()._curve;\n    };\n\n    return l;\n  }\n\n  function radialLine$1() {\n    return radialLine(line().curve(curveRadialLinear));\n  }\n\n  function radialArea() {\n    var a = area$1().curve(curveRadialLinear),\n        c = a.curve,\n        x0 = a.lineX0,\n        x1 = a.lineX1,\n        y0 = a.lineY0,\n        y1 = a.lineY1;\n\n    a.angle = a.x, delete a.x;\n    a.startAngle = a.x0, delete a.x0;\n    a.endAngle = a.x1, delete a.x1;\n    a.radius = a.y, delete a.y;\n    a.innerRadius = a.y0, delete a.y0;\n    a.outerRadius = a.y1, delete a.y1;\n    a.lineStartAngle = function() { return radialLine(x0()); }, delete a.lineX0;\n    a.lineEndAngle = function() { return radialLine(x1()); }, delete a.lineX1;\n    a.lineInnerRadius = function() { return radialLine(y0()); }, delete a.lineY0;\n    a.lineOuterRadius = function() { return radialLine(y1()); }, delete a.lineY1;\n\n    a.curve = function(_) {\n      return arguments.length ? c(curveRadial(_)) : c()._curve;\n    };\n\n    return a;\n  }\n\n  var circle = {\n    draw: function(context, size) {\n      var r = Math.sqrt(size / pi$2);\n      context.moveTo(r, 0);\n      context.arc(0, 0, r, 0, tau$2);\n    }\n  };\n\n  var cross$1 = {\n    draw: function(context, size) {\n      var r = Math.sqrt(size / 5) / 2;\n      context.moveTo(-3 * r, -r);\n      context.lineTo(-r, -r);\n      context.lineTo(-r, -3 * r);\n      context.lineTo(r, -3 * r);\n      context.lineTo(r, -r);\n      context.lineTo(3 * r, -r);\n      context.lineTo(3 * r, r);\n      context.lineTo(r, r);\n      context.lineTo(r, 3 * r);\n      context.lineTo(-r, 3 * r);\n      context.lineTo(-r, r);\n      context.lineTo(-3 * r, r);\n      context.closePath();\n    }\n  };\n\n  var tan30 = Math.sqrt(1 / 3);\n  var tan30_2 = tan30 * 2;\n  var diamond = {\n    draw: function(context, size) {\n      var y = Math.sqrt(size / tan30_2),\n          x = y * tan30;\n      context.moveTo(0, -y);\n      context.lineTo(x, 0);\n      context.lineTo(0, y);\n      context.lineTo(-x, 0);\n      context.closePath();\n    }\n  };\n\n  var ka = 0.89081309152928522810;\n  var kr = Math.sin(pi$2 / 10) / Math.sin(7 * pi$2 / 10);\n  var kx = Math.sin(tau$2 / 10) * kr;\n  var ky = -Math.cos(tau$2 / 10) * kr;\n  var star = {\n    draw: function(context, size) {\n      var r = Math.sqrt(size * ka),\n          x = kx * r,\n          y = ky * r;\n      context.moveTo(0, -r);\n      context.lineTo(x, y);\n      for (var i = 1; i < 5; ++i) {\n        var a = tau$2 * i / 5,\n            c = Math.cos(a),\n            s = Math.sin(a);\n        context.lineTo(s * r, -c * r);\n        context.lineTo(c * x - s * y, s * x + c * y);\n      }\n      context.closePath();\n    }\n  };\n\n  var square = {\n    draw: function(context, size) {\n      var w = Math.sqrt(size),\n          x = -w / 2;\n      context.rect(x, x, w, w);\n    }\n  };\n\n  var sqrt3 = Math.sqrt(3);\n\n  var triangle = {\n    draw: function(context, size) {\n      var y = -Math.sqrt(size / (sqrt3 * 3));\n      context.moveTo(0, y * 2);\n      context.lineTo(-sqrt3 * y, -y);\n      context.lineTo(sqrt3 * y, -y);\n      context.closePath();\n    }\n  };\n\n  var c = -0.5;\n  var s = Math.sqrt(3) / 2;\n  var k = 1 / Math.sqrt(12);\n  var a = (k / 2 + 1) * 3;\n  var wye = {\n    draw: function(context, size) {\n      var r = Math.sqrt(size / a),\n          x0 = r / 2,\n          y0 = r * k,\n          x1 = x0,\n          y1 = r * k + r,\n          x2 = -x1,\n          y2 = y1;\n      context.moveTo(x0, y0);\n      context.lineTo(x1, y1);\n      context.lineTo(x2, y2);\n      context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n      context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n      context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n      context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n      context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n      context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n      context.closePath();\n    }\n  };\n\n  var symbols = [\n    circle,\n    cross$1,\n    diamond,\n    square,\n    star,\n    triangle,\n    wye\n  ];\n\n  function symbol() {\n    var type = constant$1(circle),\n        size = constant$1(64),\n        context = null;\n\n    function symbol() {\n      var buffer;\n      if (!context) context = buffer = path();\n      type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n      if (buffer) return context = null, buffer + \"\" || null;\n    }\n\n    symbol.type = function(_) {\n      return arguments.length ? (type = typeof _ === \"function\" ? _ : constant$1(_), symbol) : type;\n    };\n\n    symbol.size = function(_) {\n      return arguments.length ? (size = typeof _ === \"function\" ? _ : constant$1(+_), symbol) : size;\n    };\n\n    symbol.context = function(_) {\n      return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n    };\n\n    return symbol;\n  }\n\n  function noop() {}\n\n  function point(that, x, y) {\n    that._context.bezierCurveTo(\n      (2 * that._x0 + that._x1) / 3,\n      (2 * that._y0 + that._y1) / 3,\n      (that._x0 + 2 * that._x1) / 3,\n      (that._y0 + 2 * that._y1) / 3,\n      (that._x0 + 4 * that._x1 + x) / 6,\n      (that._y0 + 4 * that._y1 + y) / 6\n    );\n  }\n\n  function Basis(context) {\n    this._context = context;\n  }\n\n  Basis.prototype = {\n    areaStart: function() {\n      this._line = 0;\n    },\n    areaEnd: function() {\n      this._line = NaN;\n    },\n    lineStart: function() {\n      this._x0 = this._x1 =\n      this._y0 = this._y1 = NaN;\n      this._point = 0;\n    },\n    lineEnd: function() {\n      switch (this._point) {\n        case 3: point(this, this._x1, this._y1); // proceed\n        case 2: this._context.lineTo(this._x1, this._y1); break;\n      }\n      if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function(x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n        case 1: this._point = 2; break;\n        case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n        default: point(this, x, y); break;\n      }\n      this._x0 = this._x1, this._x1 = x;\n      this._y0 = this._y1, this._y1 = y;\n    }\n  };\n\n  function basis(context) {\n    return new Basis(context);\n  }\n\n  function BasisClosed(context) {\n    this._context = context;\n  }\n\n  BasisClosed.prototype = {\n    areaStart: noop,\n    areaEnd: noop,\n    lineStart: function() {\n      this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n      this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n      this._point = 0;\n    },\n    lineEnd: function() {\n      switch (this._point) {\n        case 1: {\n          this._context.moveTo(this._x2, this._y2);\n          this._context.closePath();\n          break;\n        }\n        case 2: {\n          this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n          this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n          this._context.closePath();\n          break;\n        }\n        case 3: {\n          this.point(this._x2, this._y2);\n          this.point(this._x3, this._y3);\n          this.point(this._x4, this._y4);\n          break;\n        }\n      }\n    },\n    point: function(x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n        case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n        case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n        default: point(this, x, y); break;\n      }\n      this._x0 = this._x1, this._x1 = x;\n      this._y0 = this._y1, this._y1 = y;\n    }\n  };\n\n  function basisClosed(context) {\n    return new BasisClosed(context);\n  }\n\n  function BasisOpen(context) {\n    this._context = context;\n  }\n\n  BasisOpen.prototype = {\n    areaStart: function() {\n      this._line = 0;\n    },\n    areaEnd: function() {\n      this._line = NaN;\n    },\n    lineStart: function() {\n      this._x0 = this._x1 =\n      this._y0 = this._y1 = NaN;\n      this._point = 0;\n    },\n    lineEnd: function() {\n      if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function(x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0: this._point = 1; break;\n        case 1: this._point = 2; break;\n        case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n        case 3: this._point = 4; // proceed\n        default: point(this, x, y); break;\n      }\n      this._x0 = this._x1, this._x1 = x;\n      this._y0 = this._y1, this._y1 = y;\n    }\n  };\n\n  function basisOpen(context) {\n    return new BasisOpen(context);\n  }\n\n  function Bundle(context, beta) {\n    this._basis = new Basis(context);\n    this._beta = beta;\n  }\n\n  Bundle.prototype = {\n    lineStart: function() {\n      this._x = [];\n      this._y = [];\n      this._basis.lineStart();\n    },\n    lineEnd: function() {\n      var x = this._x,\n          y = this._y,\n          j = x.length - 1;\n\n      if (j > 0) {\n        var x0 = x[0],\n            y0 = y[0],\n            dx = x[j] - x0,\n            dy = y[j] - y0,\n            i = -1,\n            t;\n\n        while (++i <= j) {\n          t = i / j;\n          this._basis.point(\n            this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n            this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n          );\n        }\n      }\n\n      this._x = this._y = null;\n      this._basis.lineEnd();\n    },\n    point: function(x, y) {\n      this._x.push(+x);\n      this._y.push(+y);\n    }\n  };\n\n  var bundle = (function custom(beta) {\n\n    function bundle(context) {\n      return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n    }\n\n    bundle.beta = function(beta) {\n      return custom(+beta);\n    };\n\n    return bundle;\n  })(0.85);\n\n  function point$1(that, x, y) {\n    that._context.bezierCurveTo(\n      that._x1 + that._k * (that._x2 - that._x0),\n      that._y1 + that._k * (that._y2 - that._y0),\n      that._x2 + that._k * (that._x1 - x),\n      that._y2 + that._k * (that._y1 - y),\n      that._x2,\n      that._y2\n    );\n  }\n\n  function Cardinal(context, tension) {\n    this._context = context;\n    this._k = (1 - tension) / 6;\n  }\n\n  Cardinal.prototype = {\n    areaStart: function() {\n      this._line = 0;\n    },\n    areaEnd: function() {\n      this._line = NaN;\n    },\n    lineStart: function() {\n      this._x0 = this._x1 = this._x2 =\n      this._y0 = this._y1 = this._y2 = NaN;\n      this._point = 0;\n    },\n    lineEnd: function() {\n      switch (this._point) {\n        case 2: this._context.lineTo(this._x2, this._y2); break;\n        case 3: point$1(this, this._x1, this._y1); break;\n      }\n      if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function(x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n        case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n        case 2: this._point = 3; // proceed\n        default: point$1(this, x, y); break;\n      }\n      this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n      this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n    }\n  };\n\n  var cardinal = (function custom(tension) {\n\n    function cardinal(context) {\n      return new Cardinal(context, tension);\n    }\n\n    cardinal.tension = function(tension) {\n      return custom(+tension);\n    };\n\n    return cardinal;\n  })(0);\n\n  function CardinalClosed(context, tension) {\n    this._context = context;\n    this._k = (1 - tension) / 6;\n  }\n\n  CardinalClosed.prototype = {\n    areaStart: noop,\n    areaEnd: noop,\n    lineStart: function() {\n      this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n      this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n      this._point = 0;\n    },\n    lineEnd: function() {\n      switch (this._point) {\n        case 1: {\n          this._context.moveTo(this._x3, this._y3);\n          this._context.closePath();\n          break;\n        }\n        case 2: {\n          this._context.lineTo(this._x3, this._y3);\n          this._context.closePath();\n          break;\n        }\n        case 3: {\n          this.point(this._x3, this._y3);\n          this.point(this._x4, this._y4);\n          this.point(this._x5, this._y5);\n          break;\n        }\n      }\n    },\n    point: function(x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n        case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n        case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n        default: point$1(this, x, y); break;\n      }\n      this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n      this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n    }\n  };\n\n  var cardinalClosed = (function custom(tension) {\n\n    function cardinal(context) {\n      return new CardinalClosed(context, tension);\n    }\n\n    cardinal.tension = function(tension) {\n      return custom(+tension);\n    };\n\n    return cardinal;\n  })(0);\n\n  function CardinalOpen(context, tension) {\n    this._context = context;\n    this._k = (1 - tension) / 6;\n  }\n\n  CardinalOpen.prototype = {\n    areaStart: function() {\n      this._line = 0;\n    },\n    areaEnd: function() {\n      this._line = NaN;\n    },\n    lineStart: function() {\n      this._x0 = this._x1 = this._x2 =\n      this._y0 = this._y1 = this._y2 = NaN;\n      this._point = 0;\n    },\n    lineEnd: function() {\n      if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function(x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0: this._point = 1; break;\n        case 1: this._point = 2; break;\n        case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n        case 3: this._point = 4; // proceed\n        default: point$1(this, x, y); break;\n      }\n      this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n      this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n    }\n  };\n\n  var cardinalOpen = (function custom(tension) {\n\n    function cardinal(context) {\n      return new CardinalOpen(context, tension);\n    }\n\n    cardinal.tension = function(tension) {\n      return custom(+tension);\n    };\n\n    return cardinal;\n  })(0);\n\n  function point$2(that, x, y) {\n    var x1 = that._x1,\n        y1 = that._y1,\n        x2 = that._x2,\n        y2 = that._y2;\n\n    if (that._l01_a > epsilon$1) {\n      var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n          n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n      x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n      y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n    }\n\n    if (that._l23_a > epsilon$1) {\n      var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n          m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n      x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n      y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n    }\n\n    that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n  }\n\n  function CatmullRom(context, alpha) {\n    this._context = context;\n    this._alpha = alpha;\n  }\n\n  CatmullRom.prototype = {\n    areaStart: function() {\n      this._line = 0;\n    },\n    areaEnd: function() {\n      this._line = NaN;\n    },\n    lineStart: function() {\n      this._x0 = this._x1 = this._x2 =\n      this._y0 = this._y1 = this._y2 = NaN;\n      this._l01_a = this._l12_a = this._l23_a =\n      this._l01_2a = this._l12_2a = this._l23_2a =\n      this._point = 0;\n    },\n    lineEnd: function() {\n      switch (this._point) {\n        case 2: this._context.lineTo(this._x2, this._y2); break;\n        case 3: this.point(this, this._x2, this._y2); break;\n      }\n      if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function(x, y) {\n      x = +x, y = +y;\n\n      if (this._point) {\n        var x23 = this._x2 - x,\n            y23 = this._y2 - y;\n        this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n      }\n\n      switch (this._point) {\n        case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n        case 1: this._point = 2; break;\n        case 2: this._point = 3; // proceed\n        default: point$2(this, x, y); break;\n      }\n\n      this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n      this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n      this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n      this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n    }\n  };\n\n  var catmullRom = (function custom(alpha) {\n\n    function catmullRom(context) {\n      return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n    }\n\n    catmullRom.alpha = function(alpha) {\n      return custom(+alpha);\n    };\n\n    return catmullRom;\n  })(0.5);\n\n  function CatmullRomClosed(context, alpha) {\n    this._context = context;\n    this._alpha = alpha;\n  }\n\n  CatmullRomClosed.prototype = {\n    areaStart: noop,\n    areaEnd: noop,\n    lineStart: function() {\n      this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n      this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n      this._l01_a = this._l12_a = this._l23_a =\n      this._l01_2a = this._l12_2a = this._l23_2a =\n      this._point = 0;\n    },\n    lineEnd: function() {\n      switch (this._point) {\n        case 1: {\n          this._context.moveTo(this._x3, this._y3);\n          this._context.closePath();\n          break;\n        }\n        case 2: {\n          this._context.lineTo(this._x3, this._y3);\n          this._context.closePath();\n          break;\n        }\n        case 3: {\n          this.point(this._x3, this._y3);\n          this.point(this._x4, this._y4);\n          this.point(this._x5, this._y5);\n          break;\n        }\n      }\n    },\n    point: function(x, y) {\n      x = +x, y = +y;\n\n      if (this._point) {\n        var x23 = this._x2 - x,\n            y23 = this._y2 - y;\n        this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n      }\n\n      switch (this._point) {\n        case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n        case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n        case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n        default: point$2(this, x, y); break;\n      }\n\n      this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n      this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n      this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n      this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n    }\n  };\n\n  var catmullRomClosed = (function custom(alpha) {\n\n    function catmullRom(context) {\n      return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n    }\n\n    catmullRom.alpha = function(alpha) {\n      return custom(+alpha);\n    };\n\n    return catmullRom;\n  })(0.5);\n\n  function CatmullRomOpen(context, alpha) {\n    this._context = context;\n    this._alpha = alpha;\n  }\n\n  CatmullRomOpen.prototype = {\n    areaStart: function() {\n      this._line = 0;\n    },\n    areaEnd: function() {\n      this._line = NaN;\n    },\n    lineStart: function() {\n      this._x0 = this._x1 = this._x2 =\n      this._y0 = this._y1 = this._y2 = NaN;\n      this._l01_a = this._l12_a = this._l23_a =\n      this._l01_2a = this._l12_2a = this._l23_2a =\n      this._point = 0;\n    },\n    lineEnd: function() {\n      if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function(x, y) {\n      x = +x, y = +y;\n\n      if (this._point) {\n        var x23 = this._x2 - x,\n            y23 = this._y2 - y;\n        this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n      }\n\n      switch (this._point) {\n        case 0: this._point = 1; break;\n        case 1: this._point = 2; break;\n        case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n        case 3: this._point = 4; // proceed\n        default: point$2(this, x, y); break;\n      }\n\n      this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n      this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n      this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n      this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n    }\n  };\n\n  var catmullRomOpen = (function custom(alpha) {\n\n    function catmullRom(context) {\n      return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n    }\n\n    catmullRom.alpha = function(alpha) {\n      return custom(+alpha);\n    };\n\n    return catmullRom;\n  })(0.5);\n\n  function LinearClosed(context) {\n    this._context = context;\n  }\n\n  LinearClosed.prototype = {\n    areaStart: noop,\n    areaEnd: noop,\n    lineStart: function() {\n      this._point = 0;\n    },\n    lineEnd: function() {\n      if (this._point) this._context.closePath();\n    },\n    point: function(x, y) {\n      x = +x, y = +y;\n      if (this._point) this._context.lineTo(x, y);\n      else this._point = 1, this._context.moveTo(x, y);\n    }\n  };\n\n  function linearClosed(context) {\n    return new LinearClosed(context);\n  }\n\n  function sign(x) {\n    return x < 0 ? -1 : 1;\n  }\n\n  // Calculate the slopes of the tangents (Hermite-type interpolation) based on\n  // the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n  // Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n  // NOV(II), P. 443, 1990.\n  function slope3(that, x2, y2) {\n    var h0 = that._x1 - that._x0,\n        h1 = x2 - that._x1,\n        s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n        s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n        p = (s0 * h1 + s1 * h0) / (h0 + h1);\n    return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n  }\n\n  // Calculate a one-sided slope.\n  function slope2(that, t) {\n    var h = that._x1 - that._x0;\n    return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n  }\n\n  // According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n  // \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n  // with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\n  function point$3(that, t0, t1) {\n    var x0 = that._x0,\n        y0 = that._y0,\n        x1 = that._x1,\n        y1 = that._y1,\n        dx = (x1 - x0) / 3;\n    that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n  }\n\n  function MonotoneX(context) {\n    this._context = context;\n  }\n\n  MonotoneX.prototype = {\n    areaStart: function() {\n      this._line = 0;\n    },\n    areaEnd: function() {\n      this._line = NaN;\n    },\n    lineStart: function() {\n      this._x0 = this._x1 =\n      this._y0 = this._y1 =\n      this._t0 = NaN;\n      this._point = 0;\n    },\n    lineEnd: function() {\n      switch (this._point) {\n        case 2: this._context.lineTo(this._x1, this._y1); break;\n        case 3: point$3(this, this._t0, slope2(this, this._t0)); break;\n      }\n      if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function(x, y) {\n      var t1 = NaN;\n\n      x = +x, y = +y;\n      if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n      switch (this._point) {\n        case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n        case 1: this._point = 2; break;\n        case 2: this._point = 3; point$3(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n        default: point$3(this, this._t0, t1 = slope3(this, x, y)); break;\n      }\n\n      this._x0 = this._x1, this._x1 = x;\n      this._y0 = this._y1, this._y1 = y;\n      this._t0 = t1;\n    }\n  }\n\n  function MonotoneY(context) {\n    this._context = new ReflectContext(context);\n  }\n\n  (MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n    MonotoneX.prototype.point.call(this, y, x);\n  };\n\n  function ReflectContext(context) {\n    this._context = context;\n  }\n\n  ReflectContext.prototype = {\n    moveTo: function(x, y) { this._context.moveTo(y, x); },\n    closePath: function() { this._context.closePath(); },\n    lineTo: function(x, y) { this._context.lineTo(y, x); },\n    bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n  };\n\n  function monotoneX(context) {\n    return new MonotoneX(context);\n  }\n\n  function monotoneY(context) {\n    return new MonotoneY(context);\n  }\n\n  function Natural(context) {\n    this._context = context;\n  }\n\n  Natural.prototype = {\n    areaStart: function() {\n      this._line = 0;\n    },\n    areaEnd: function() {\n      this._line = NaN;\n    },\n    lineStart: function() {\n      this._x = [];\n      this._y = [];\n    },\n    lineEnd: function() {\n      var x = this._x,\n          y = this._y,\n          n = x.length;\n\n      if (n) {\n        this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n        if (n === 2) {\n          this._context.lineTo(x[1], y[1]);\n        } else {\n          var px = controlPoints(x),\n              py = controlPoints(y);\n          for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n            this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n          }\n        }\n      }\n\n      if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n      this._line = 1 - this._line;\n      this._x = this._y = null;\n    },\n    point: function(x, y) {\n      this._x.push(+x);\n      this._y.push(+y);\n    }\n  };\n\n  // See https://www.particleincell.com/2012/bezier-splines/ for derivation.\n  function controlPoints(x) {\n    var i,\n        n = x.length - 1,\n        m,\n        a = new Array(n),\n        b = new Array(n),\n        r = new Array(n);\n    a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n    for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n    a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n    for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n    a[n - 1] = r[n - 1] / b[n - 1];\n    for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n    b[n - 1] = (x[n] + a[n - 1]) / 2;\n    for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n    return [a, b];\n  }\n\n  function natural(context) {\n    return new Natural(context);\n  }\n\n  function Step(context, t) {\n    this._context = context;\n    this._t = t;\n  }\n\n  Step.prototype = {\n    areaStart: function() {\n      this._line = 0;\n    },\n    areaEnd: function() {\n      this._line = NaN;\n    },\n    lineStart: function() {\n      this._x = this._y = NaN;\n      this._point = 0;\n    },\n    lineEnd: function() {\n      if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n      if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n      if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n    },\n    point: function(x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n        case 1: this._point = 2; // proceed\n        default: {\n          if (this._t <= 0) {\n            this._context.lineTo(this._x, y);\n            this._context.lineTo(x, y);\n          } else {\n            var x1 = this._x * (1 - this._t) + x * this._t;\n            this._context.lineTo(x1, this._y);\n            this._context.lineTo(x1, y);\n          }\n          break;\n        }\n      }\n      this._x = x, this._y = y;\n    }\n  };\n\n  function step(context) {\n    return new Step(context, 0.5);\n  }\n\n  function stepBefore(context) {\n    return new Step(context, 0);\n  }\n\n  function stepAfter(context) {\n    return new Step(context, 1);\n  }\n\n  var slice$2 = Array.prototype.slice;\n\n  function none(series, order) {\n    if (!((n = series.length) > 1)) return;\n    for (var i = 1, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n      s0 = s1, s1 = series[order[i]];\n      for (var j = 0; j < m; ++j) {\n        s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n      }\n    }\n  }\n\n  function none$1(series) {\n    var n = series.length, o = new Array(n);\n    while (--n >= 0) o[n] = n;\n    return o;\n  }\n\n  function stackValue(d, key) {\n    return d[key];\n  }\n\n  function stack() {\n    var keys = constant$1([]),\n        order = none$1,\n        offset = none,\n        value = stackValue;\n\n    function stack(data) {\n      var kz = keys.apply(this, arguments),\n          i,\n          m = data.length,\n          n = kz.length,\n          sz = new Array(n),\n          oz;\n\n      for (i = 0; i < n; ++i) {\n        for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n          si[j] = sij = [0, +value(data[j], ki, j, data)];\n          sij.data = data[j];\n        }\n        si.key = ki;\n      }\n\n      for (i = 0, oz = order(sz); i < n; ++i) {\n        sz[oz[i]].index = i;\n      }\n\n      offset(sz, oz);\n      return sz;\n    }\n\n    stack.keys = function(_) {\n      return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant$1(slice$2.call(_)), stack) : keys;\n    };\n\n    stack.value = function(_) {\n      return arguments.length ? (value = typeof _ === \"function\" ? _ : constant$1(+_), stack) : value;\n    };\n\n    stack.order = function(_) {\n      return arguments.length ? (order = _ == null ? none$1 : typeof _ === \"function\" ? _ : constant$1(slice$2.call(_)), stack) : order;\n    };\n\n    stack.offset = function(_) {\n      return arguments.length ? (offset = _ == null ? none : _, stack) : offset;\n    };\n\n    return stack;\n  }\n\n  function expand(series, order) {\n    if (!((n = series.length) > 0)) return;\n    for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n      for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n      if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n    }\n    none(series, order);\n  }\n\n  function silhouette(series, order) {\n    if (!((n = series.length) > 0)) return;\n    for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n      for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n      s0[j][1] += s0[j][0] = -y / 2;\n    }\n    none(series, order);\n  }\n\n  function wiggle(series, order) {\n    if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n    for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n      for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n        var si = series[order[i]],\n            sij0 = si[j][1] || 0,\n            sij1 = si[j - 1][1] || 0,\n            s3 = (sij0 - sij1) / 2;\n        for (var k = 0; k < i; ++k) {\n          var sk = series[order[k]],\n              skj0 = sk[j][1] || 0,\n              skj1 = sk[j - 1][1] || 0;\n          s3 += skj0 - skj1;\n        }\n        s1 += sij0, s2 += s3 * sij0;\n      }\n      s0[j - 1][1] += s0[j - 1][0] = y;\n      if (s1) y -= s2 / s1;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    none(series, order);\n  }\n\n  function ascending$1(series) {\n    var sums = series.map(sum$1);\n    return none$1(series).sort(function(a, b) { return sums[a] - sums[b]; });\n  }\n\n  function sum$1(series) {\n    var s = 0, i = -1, n = series.length, v;\n    while (++i < n) if (v = +series[i][1]) s += v;\n    return s;\n  }\n\n  function descending$2(series) {\n    return ascending$1(series).reverse();\n  }\n\n  function insideOut(series) {\n    var n = series.length,\n        i,\n        j,\n        sums = series.map(sum$1),\n        order = none$1(series).sort(function(a, b) { return sums[b] - sums[a]; }),\n        top = 0,\n        bottom = 0,\n        tops = [],\n        bottoms = [];\n\n    for (i = 0; i < n; ++i) {\n      j = order[i];\n      if (top < bottom) {\n        top += sums[j];\n        tops.push(j);\n      } else {\n        bottom += sums[j];\n        bottoms.push(j);\n      }\n    }\n\n    return bottoms.reverse().concat(tops);\n  }\n\n  function reverse(series) {\n    return none$1(series).reverse();\n  }\n\n  function define(constructor, factory, prototype) {\n    constructor.prototype = factory.prototype = prototype;\n    prototype.constructor = constructor;\n  }\n\n  function extend(parent, definition) {\n    var prototype = Object.create(parent.prototype);\n    for (var key in definition) prototype[key] = definition[key];\n    return prototype;\n  }\n\n  function Color() {}\n\n  var darker = 0.7;\n  var brighter = 1 / darker;\n\n  var reHex3 = /^#([0-9a-f]{3})$/;\n  var reHex6 = /^#([0-9a-f]{6})$/;\n  var reRgbInteger = /^rgb\\(\\s*([-+]?\\d+)\\s*,\\s*([-+]?\\d+)\\s*,\\s*([-+]?\\d+)\\s*\\)$/;\n  var reRgbPercent = /^rgb\\(\\s*([-+]?\\d+(?:\\.\\d+)?)%\\s*,\\s*([-+]?\\d+(?:\\.\\d+)?)%\\s*,\\s*([-+]?\\d+(?:\\.\\d+)?)%\\s*\\)$/;\n  var reRgbaInteger = /^rgba\\(\\s*([-+]?\\d+)\\s*,\\s*([-+]?\\d+)\\s*,\\s*([-+]?\\d+)\\s*,\\s*([-+]?\\d+(?:\\.\\d+)?)\\s*\\)$/;\n  var reRgbaPercent = /^rgba\\(\\s*([-+]?\\d+(?:\\.\\d+)?)%\\s*,\\s*([-+]?\\d+(?:\\.\\d+)?)%\\s*,\\s*([-+]?\\d+(?:\\.\\d+)?)%\\s*,\\s*([-+]?\\d+(?:\\.\\d+)?)\\s*\\)$/;\n  var reHslPercent = /^hsl\\(\\s*([-+]?\\d+(?:\\.\\d+)?)\\s*,\\s*([-+]?\\d+(?:\\.\\d+)?)%\\s*,\\s*([-+]?\\d+(?:\\.\\d+)?)%\\s*\\)$/;\n  var reHslaPercent = /^hsla\\(\\s*([-+]?\\d+(?:\\.\\d+)?)\\s*,\\s*([-+]?\\d+(?:\\.\\d+)?)%\\s*,\\s*([-+]?\\d+(?:\\.\\d+)?)%\\s*,\\s*([-+]?\\d+(?:\\.\\d+)?)\\s*\\)$/;\n  var named = {\n    aliceblue: 0xf0f8ff,\n    antiquewhite: 0xfaebd7,\n    aqua: 0x00ffff,\n    aquamarine: 0x7fffd4,\n    azure: 0xf0ffff,\n    beige: 0xf5f5dc,\n    bisque: 0xffe4c4,\n    black: 0x000000,\n    blanchedalmond: 0xffebcd,\n    blue: 0x0000ff,\n    blueviolet: 0x8a2be2,\n    brown: 0xa52a2a,\n    burlywood: 0xdeb887,\n    cadetblue: 0x5f9ea0,\n    chartreuse: 0x7fff00,\n    chocolate: 0xd2691e,\n    coral: 0xff7f50,\n    cornflowerblue: 0x6495ed,\n    cornsilk: 0xfff8dc,\n    crimson: 0xdc143c,\n    cyan: 0x00ffff,\n    darkblue: 0x00008b,\n    darkcyan: 0x008b8b,\n    darkgoldenrod: 0xb8860b,\n    darkgray: 0xa9a9a9,\n    darkgreen: 0x006400,\n    darkgrey: 0xa9a9a9,\n    darkkhaki: 0xbdb76b,\n    darkmagenta: 0x8b008b,\n    darkolivegreen: 0x556b2f,\n    darkorange: 0xff8c00,\n    darkorchid: 0x9932cc,\n    darkred: 0x8b0000,\n    darksalmon: 0xe9967a,\n    darkseagreen: 0x8fbc8f,\n    darkslateblue: 0x483d8b,\n    darkslategray: 0x2f4f4f,\n    darkslategrey: 0x2f4f4f,\n    darkturquoise: 0x00ced1,\n    darkviolet: 0x9400d3,\n    deeppink: 0xff1493,\n    deepskyblue: 0x00bfff,\n    dimgray: 0x696969,\n    dimgrey: 0x696969,\n    dodgerblue: 0x1e90ff,\n    firebrick: 0xb22222,\n    floralwhite: 0xfffaf0,\n    forestgreen: 0x228b22,\n    fuchsia: 0xff00ff,\n    gainsboro: 0xdcdcdc,\n    ghostwhite: 0xf8f8ff,\n    gold: 0xffd700,\n    goldenrod: 0xdaa520,\n    gray: 0x808080,\n    green: 0x008000,\n    greenyellow: 0xadff2f,\n    grey: 0x808080,\n    honeydew: 0xf0fff0,\n    hotpink: 0xff69b4,\n    indianred: 0xcd5c5c,\n    indigo: 0x4b0082,\n    ivory: 0xfffff0,\n    khaki: 0xf0e68c,\n    lavender: 0xe6e6fa,\n    lavenderblush: 0xfff0f5,\n    lawngreen: 0x7cfc00,\n    lemonchiffon: 0xfffacd,\n    lightblue: 0xadd8e6,\n    lightcoral: 0xf08080,\n    lightcyan: 0xe0ffff,\n    lightgoldenrodyellow: 0xfafad2,\n    lightgray: 0xd3d3d3,\n    lightgreen: 0x90ee90,\n    lightgrey: 0xd3d3d3,\n    lightpink: 0xffb6c1,\n    lightsalmon: 0xffa07a,\n    lightseagreen: 0x20b2aa,\n    lightskyblue: 0x87cefa,\n    lightslategray: 0x778899,\n    lightslategrey: 0x778899,\n    lightsteelblue: 0xb0c4de,\n    lightyellow: 0xffffe0,\n    lime: 0x00ff00,\n    limegreen: 0x32cd32,\n    linen: 0xfaf0e6,\n    magenta: 0xff00ff,\n    maroon: 0x800000,\n    mediumaquamarine: 0x66cdaa,\n    mediumblue: 0x0000cd,\n    mediumorchid: 0xba55d3,\n    mediumpurple: 0x9370db,\n    mediumseagreen: 0x3cb371,\n    mediumslateblue: 0x7b68ee,\n    mediumspringgreen: 0x00fa9a,\n    mediumturquoise: 0x48d1cc,\n    mediumvioletred: 0xc71585,\n    midnightblue: 0x191970,\n    mintcream: 0xf5fffa,\n    mistyrose: 0xffe4e1,\n    moccasin: 0xffe4b5,\n    navajowhite: 0xffdead,\n    navy: 0x000080,\n    oldlace: 0xfdf5e6,\n    olive: 0x808000,\n    olivedrab: 0x6b8e23,\n    orange: 0xffa500,\n    orangered: 0xff4500,\n    orchid: 0xda70d6,\n    palegoldenrod: 0xeee8aa,\n    palegreen: 0x98fb98,\n    paleturquoise: 0xafeeee,\n    palevioletred: 0xdb7093,\n    papayawhip: 0xffefd5,\n    peachpuff: 0xffdab9,\n    peru: 0xcd853f,\n    pink: 0xffc0cb,\n    plum: 0xdda0dd,\n    powderblue: 0xb0e0e6,\n    purple: 0x800080,\n    rebeccapurple: 0x663399,\n    red: 0xff0000,\n    rosybrown: 0xbc8f8f,\n    royalblue: 0x4169e1,\n    saddlebrown: 0x8b4513,\n    salmon: 0xfa8072,\n    sandybrown: 0xf4a460,\n    seagreen: 0x2e8b57,\n    seashell: 0xfff5ee,\n    sienna: 0xa0522d,\n    silver: 0xc0c0c0,\n    skyblue: 0x87ceeb,\n    slateblue: 0x6a5acd,\n    slategray: 0x708090,\n    slategrey: 0x708090,\n    snow: 0xfffafa,\n    springgreen: 0x00ff7f,\n    steelblue: 0x4682b4,\n    tan: 0xd2b48c,\n    teal: 0x008080,\n    thistle: 0xd8bfd8,\n    tomato: 0xff6347,\n    turquoise: 0x40e0d0,\n    violet: 0xee82ee,\n    wheat: 0xf5deb3,\n    white: 0xffffff,\n    whitesmoke: 0xf5f5f5,\n    yellow: 0xffff00,\n    yellowgreen: 0x9acd32\n  };\n\n  define(Color, color, {\n    displayable: function() {\n      return this.rgb().displayable();\n    },\n    toString: function() {\n      return this.rgb() + \"\";\n    }\n  });\n\n  function color(format) {\n    var m;\n    format = (format + \"\").trim().toLowerCase();\n    return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n        : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n        : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n        : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n        : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n        : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n        : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n        : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n        : named.hasOwnProperty(format) ? rgbn(named[format])\n        : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n        : null;\n  }\n\n  function rgbn(n) {\n    return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n  }\n\n  function rgba(r, g, b, a) {\n    if (a <= 0) r = g = b = NaN;\n    return new Rgb(r, g, b, a);\n  }\n\n  function rgbConvert(o) {\n    if (!(o instanceof Color)) o = color(o);\n    if (!o) return new Rgb;\n    o = o.rgb();\n    return new Rgb(o.r, o.g, o.b, o.opacity);\n  }\n\n  function colorRgb(r, g, b, opacity) {\n    return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n  }\n\n  function Rgb(r, g, b, opacity) {\n    this.r = +r;\n    this.g = +g;\n    this.b = +b;\n    this.opacity = +opacity;\n  }\n\n  define(Rgb, colorRgb, extend(Color, {\n    brighter: function(k) {\n      k = k == null ? brighter : Math.pow(brighter, k);\n      return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n    },\n    darker: function(k) {\n      k = k == null ? darker : Math.pow(darker, k);\n      return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n    },\n    rgb: function() {\n      return this;\n    },\n    displayable: function() {\n      return (0 <= this.r && this.r <= 255)\n          && (0 <= this.g && this.g <= 255)\n          && (0 <= this.b && this.b <= 255)\n          && (0 <= this.opacity && this.opacity <= 1);\n    },\n    toString: function() {\n      var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n      return (a === 1 ? \"rgb(\" : \"rgba(\")\n          + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n          + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n          + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n          + (a === 1 ? \")\" : \", \" + a + \")\");\n    }\n  }));\n\n  function hsla(h, s, l, a) {\n    if (a <= 0) h = s = l = NaN;\n    else if (l <= 0 || l >= 1) h = s = NaN;\n    else if (s <= 0) h = NaN;\n    return new Hsl(h, s, l, a);\n  }\n\n  function hslConvert(o) {\n    if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n    if (!(o instanceof Color)) o = color(o);\n    if (!o) return new Hsl;\n    if (o instanceof Hsl) return o;\n    o = o.rgb();\n    var r = o.r / 255,\n        g = o.g / 255,\n        b = o.b / 255,\n        min = Math.min(r, g, b),\n        max = Math.max(r, g, b),\n        h = NaN,\n        s = max - min,\n        l = (max + min) / 2;\n    if (s) {\n      if (r === max) h = (g - b) / s + (g < b) * 6;\n      else if (g === max) h = (b - r) / s + 2;\n      else h = (r - g) / s + 4;\n      s /= l < 0.5 ? max + min : 2 - max - min;\n      h *= 60;\n    } else {\n      s = l > 0 && l < 1 ? 0 : h;\n    }\n    return new Hsl(h, s, l, o.opacity);\n  }\n\n  function colorHsl(h, s, l, opacity) {\n    return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n  }\n\n  function Hsl(h, s, l, opacity) {\n    this.h = +h;\n    this.s = +s;\n    this.l = +l;\n    this.opacity = +opacity;\n  }\n\n  define(Hsl, colorHsl, extend(Color, {\n    brighter: function(k) {\n      k = k == null ? brighter : Math.pow(brighter, k);\n      return new Hsl(this.h, this.s, this.l * k, this.opacity);\n    },\n    darker: function(k) {\n      k = k == null ? darker : Math.pow(darker, k);\n      return new Hsl(this.h, this.s, this.l * k, this.opacity);\n    },\n    rgb: function() {\n      var h = this.h % 360 + (this.h < 0) * 360,\n          s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n          l = this.l,\n          m2 = l + (l < 0.5 ? l : 1 - l) * s,\n          m1 = 2 * l - m2;\n      return new Rgb(\n        hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n        hsl2rgb(h, m1, m2),\n        hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n        this.opacity\n      );\n    },\n    displayable: function() {\n      return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n          && (0 <= this.l && this.l <= 1)\n          && (0 <= this.opacity && this.opacity <= 1);\n    }\n  }));\n\n  /* From FvD 13.37, CSS Color Module Level 3 */\n  function hsl2rgb(h, m1, m2) {\n    return (h < 60 ? m1 + (m2 - m1) * h / 60\n        : h < 180 ? m2\n        : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n        : m1) * 255;\n  }\n\n  var deg2rad = Math.PI / 180;\n  var rad2deg = 180 / Math.PI;\n\n  var Kn = 18;\n  var Xn = 0.950470;\n  var Yn = 1;\n  var Zn = 1.088830;\n  var t0 = 4 / 29;\n  var t1 = 6 / 29;\n  var t2 = 3 * t1 * t1;\n  var t3 = t1 * t1 * t1;\n  function labConvert(o) {\n    if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n    if (o instanceof Hcl) {\n      var h = o.h * deg2rad;\n      return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n    }\n    if (!(o instanceof Rgb)) o = rgbConvert(o);\n    var b = rgb2xyz(o.r),\n        a = rgb2xyz(o.g),\n        l = rgb2xyz(o.b),\n        x = xyz2lab((0.4124564 * b + 0.3575761 * a + 0.1804375 * l) / Xn),\n        y = xyz2lab((0.2126729 * b + 0.7151522 * a + 0.0721750 * l) / Yn),\n        z = xyz2lab((0.0193339 * b + 0.1191920 * a + 0.9503041 * l) / Zn);\n    return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n  }\n\n  function lab(l, a, b, opacity) {\n    return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n  }\n\n  function Lab(l, a, b, opacity) {\n    this.l = +l;\n    this.a = +a;\n    this.b = +b;\n    this.opacity = +opacity;\n  }\n\n  define(Lab, lab, extend(Color, {\n    brighter: function(k) {\n      return new Lab(this.l + Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n    },\n    darker: function(k) {\n      return new Lab(this.l - Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n    },\n    rgb: function() {\n      var y = (this.l + 16) / 116,\n          x = isNaN(this.a) ? y : y + this.a / 500,\n          z = isNaN(this.b) ? y : y - this.b / 200;\n      y = Yn * lab2xyz(y);\n      x = Xn * lab2xyz(x);\n      z = Zn * lab2xyz(z);\n      return new Rgb(\n        xyz2rgb( 3.2404542 * x - 1.5371385 * y - 0.4985314 * z), // D65 -> sRGB\n        xyz2rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z),\n        xyz2rgb( 0.0556434 * x - 0.2040259 * y + 1.0572252 * z),\n        this.opacity\n      );\n    }\n  }));\n\n  function xyz2lab(t) {\n    return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n  }\n\n  function lab2xyz(t) {\n    return t > t1 ? t * t * t : t2 * (t - t0);\n  }\n\n  function xyz2rgb(x) {\n    return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n  }\n\n  function rgb2xyz(x) {\n    return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n  }\n\n  function hclConvert(o) {\n    if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n    if (!(o instanceof Lab)) o = labConvert(o);\n    var h = Math.atan2(o.b, o.a) * rad2deg;\n    return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n  }\n\n  function colorHcl(h, c, l, opacity) {\n    return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n  }\n\n  function Hcl(h, c, l, opacity) {\n    this.h = +h;\n    this.c = +c;\n    this.l = +l;\n    this.opacity = +opacity;\n  }\n\n  define(Hcl, colorHcl, extend(Color, {\n    brighter: function(k) {\n      return new Hcl(this.h, this.c, this.l + Kn * (k == null ? 1 : k), this.opacity);\n    },\n    darker: function(k) {\n      return new Hcl(this.h, this.c, this.l - Kn * (k == null ? 1 : k), this.opacity);\n    },\n    rgb: function() {\n      return labConvert(this).rgb();\n    }\n  }));\n\n  var A = -0.14861;\n  var B = +1.78277;\n  var C = -0.29227;\n  var D = -0.90649;\n  var E = +1.97294;\n  var ED = E * D;\n  var EB = E * B;\n  var BC_DA = B * C - D * A;\n  function cubehelixConvert(o) {\n    if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n    if (!(o instanceof Rgb)) o = rgbConvert(o);\n    var r = o.r / 255,\n        g = o.g / 255,\n        b = o.b / 255,\n        l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n        bl = b - l,\n        k = (E * (g - l) - C * bl) / D,\n        s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n        h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n    return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n  }\n\n  function cubehelix(h, s, l, opacity) {\n    return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n  }\n\n  function Cubehelix(h, s, l, opacity) {\n    this.h = +h;\n    this.s = +s;\n    this.l = +l;\n    this.opacity = +opacity;\n  }\n\n  define(Cubehelix, cubehelix, extend(Color, {\n    brighter: function(k) {\n      k = k == null ? brighter : Math.pow(brighter, k);\n      return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n    },\n    darker: function(k) {\n      k = k == null ? darker : Math.pow(darker, k);\n      return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n    },\n    rgb: function() {\n      var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n          l = +this.l,\n          a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n          cosh = Math.cos(h),\n          sinh = Math.sin(h);\n      return new Rgb(\n        255 * (l + a * (A * cosh + B * sinh)),\n        255 * (l + a * (C * cosh + D * sinh)),\n        255 * (l + a * (E * cosh)),\n        this.opacity\n      );\n    }\n  }));\n\n  function basis$1(t1, v0, v1, v2, v3) {\n    var t2 = t1 * t1, t3 = t2 * t1;\n    return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n        + (4 - 6 * t2 + 3 * t3) * v1\n        + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n        + t3 * v3) / 6;\n  }\n\n  function basis$2(values) {\n    var n = values.length - 1;\n    return function(t) {\n      var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n          v1 = values[i],\n          v2 = values[i + 1],\n          v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n          v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n      return basis$1((t - i / n) * n, v0, v1, v2, v3);\n    };\n  }\n\n  function basisClosed$1(values) {\n    var n = values.length;\n    return function(t) {\n      var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n          v0 = values[(i + n - 1) % n],\n          v1 = values[i % n],\n          v2 = values[(i + 1) % n],\n          v3 = values[(i + 2) % n];\n      return basis$1((t - i / n) * n, v0, v1, v2, v3);\n    };\n  }\n\n  function constant$2(x) {\n    return function() {\n      return x;\n    };\n  }\n\n  function linear$1(a, d) {\n    return function(t) {\n      return a + t * d;\n    };\n  }\n\n  function exponential$1(a, b, y) {\n    return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n      return Math.pow(a + t * b, y);\n    };\n  }\n\n  function hue(a, b) {\n    var d = b - a;\n    return d ? linear$1(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant$2(isNaN(a) ? b : a);\n  }\n\n  function gamma(y) {\n    return (y = +y) === 1 ? nogamma : function(a, b) {\n      return b - a ? exponential$1(a, b, y) : constant$2(isNaN(a) ? b : a);\n    };\n  }\n\n  function nogamma(a, b) {\n    var d = b - a;\n    return d ? linear$1(a, d) : constant$2(isNaN(a) ? b : a);\n  }\n\n  var interpolateRgb = (function rgbGamma(y) {\n    var color = gamma(y);\n\n    function rgb(start, end) {\n      var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n          g = color(start.g, end.g),\n          b = color(start.b, end.b),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.r = r(t);\n        start.g = g(t);\n        start.b = b(t);\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    rgb.gamma = rgbGamma;\n\n    return rgb;\n  })(1);\n\n  function rgbSpline(spline) {\n    return function(colors) {\n      var n = colors.length,\n          r = new Array(n),\n          g = new Array(n),\n          b = new Array(n),\n          i, color;\n      for (i = 0; i < n; ++i) {\n        color = colorRgb(colors[i]);\n        r[i] = color.r || 0;\n        g[i] = color.g || 0;\n        b[i] = color.b || 0;\n      }\n      r = spline(r);\n      g = spline(g);\n      b = spline(b);\n      color.opacity = 1;\n      return function(t) {\n        color.r = r(t);\n        color.g = g(t);\n        color.b = b(t);\n        return color + \"\";\n      };\n    };\n  }\n\n  var rgbBasis = rgbSpline(basis$2);\n  var rgbBasisClosed = rgbSpline(basisClosed$1);\n\n  function array$1(a, b) {\n    var nb = b ? b.length : 0,\n        na = a ? Math.min(nb, a.length) : 0,\n        x = new Array(nb),\n        c = new Array(nb),\n        i;\n\n    for (i = 0; i < na; ++i) x[i] = interpolate(a[i], b[i]);\n    for (; i < nb; ++i) c[i] = b[i];\n\n    return function(t) {\n      for (i = 0; i < na; ++i) c[i] = x[i](t);\n      return c;\n    };\n  }\n\n  function date(a, b) {\n    var d = new Date;\n    return a = +a, b -= a, function(t) {\n      return d.setTime(a + b * t), d;\n    };\n  }\n\n  function interpolateNumber(a, b) {\n    return a = +a, b -= a, function(t) {\n      return a + b * t;\n    };\n  }\n\n  function object(a, b) {\n    var i = {},\n        c = {},\n        k;\n\n    if (a === null || typeof a !== \"object\") a = {};\n    if (b === null || typeof b !== \"object\") b = {};\n\n    for (k in b) {\n      if (k in a) {\n        i[k] = interpolate(a[k], b[k]);\n      } else {\n        c[k] = b[k];\n      }\n    }\n\n    return function(t) {\n      for (k in i) c[k] = i[k](t);\n      return c;\n    };\n  }\n\n  var reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g;\n  var reB = new RegExp(reA.source, \"g\");\n  function zero(b) {\n    return function() {\n      return b;\n    };\n  }\n\n  function one(b) {\n    return function(t) {\n      return b(t) + \"\";\n    };\n  }\n\n  function interpolateString(a, b) {\n    var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n        am, // current match in a\n        bm, // current match in b\n        bs, // string preceding current number in b, if any\n        i = -1, // index in s\n        s = [], // string constants and placeholders\n        q = []; // number interpolators\n\n    // Coerce inputs to strings.\n    a = a + \"\", b = b + \"\";\n\n    // Interpolate pairs of numbers in a & b.\n    while ((am = reA.exec(a))\n        && (bm = reB.exec(b))) {\n      if ((bs = bm.index) > bi) { // a string precedes the next number in b\n        bs = b.slice(bi, bs);\n        if (s[i]) s[i] += bs; // coalesce with previous string\n        else s[++i] = bs;\n      }\n      if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n        if (s[i]) s[i] += bm; // coalesce with previous string\n        else s[++i] = bm;\n      } else { // interpolate non-matching numbers\n        s[++i] = null;\n        q.push({i: i, x: interpolateNumber(am, bm)});\n      }\n      bi = reB.lastIndex;\n    }\n\n    // Add remains of b.\n    if (bi < b.length) {\n      bs = b.slice(bi);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n\n    // Special optimization for only a single match.\n    // Otherwise, interpolate each of the numbers and rejoin the string.\n    return s.length < 2 ? (q[0]\n        ? one(q[0].x)\n        : zero(b))\n        : (b = q.length, function(t) {\n            for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n            return s.join(\"\");\n          });\n  }\n\n  function interpolate(a, b) {\n    var t = typeof b, c;\n    return b == null || t === \"boolean\" ? constant$2(b)\n        : (t === \"number\" ? interpolateNumber\n        : t === \"string\" ? ((c = color(b)) ? (b = c, interpolateRgb) : interpolateString)\n        : b instanceof color ? interpolateRgb\n        : b instanceof Date ? date\n        : Array.isArray(b) ? array$1\n        : isNaN(b) ? object\n        : interpolateNumber)(a, b);\n  }\n\n  function interpolateRound(a, b) {\n    return a = +a, b -= a, function(t) {\n      return Math.round(a + b * t);\n    };\n  }\n\n  var degrees = 180 / Math.PI;\n\n  var identity$2 = {\n    translateX: 0,\n    translateY: 0,\n    rotate: 0,\n    skewX: 0,\n    scaleX: 1,\n    scaleY: 1\n  };\n\n  function decompose(a, b, c, d, e, f) {\n    var scaleX, scaleY, skewX;\n    if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n    if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n    if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n    if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n    return {\n      translateX: e,\n      translateY: f,\n      rotate: Math.atan2(b, a) * degrees,\n      skewX: Math.atan(skewX) * degrees,\n      scaleX: scaleX,\n      scaleY: scaleY\n    };\n  }\n\n  var cssNode;\n  var cssRoot;\n  var cssView;\n  var svgNode;\n  function parseCss(value) {\n    if (value === \"none\") return identity$2;\n    if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n    cssNode.style.transform = value;\n    value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n    cssRoot.removeChild(cssNode);\n    value = value.slice(7, -1).split(\",\");\n    return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n  }\n\n  function parseSvg(value) {\n    if (value == null) return identity$2;\n    if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n    svgNode.setAttribute(\"transform\", value);\n    if (!(value = svgNode.transform.baseVal.consolidate())) return identity$2;\n    value = value.matrix;\n    return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n  }\n\n  function interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n    function pop(s) {\n      return s.length ? s.pop() + \" \" : \"\";\n    }\n\n    function translate(xa, ya, xb, yb, s, q) {\n      if (xa !== xb || ya !== yb) {\n        var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n        q.push({i: i - 4, x: interpolateNumber(xa, xb)}, {i: i - 2, x: interpolateNumber(ya, yb)});\n      } else if (xb || yb) {\n        s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n      }\n    }\n\n    function rotate(a, b, s, q) {\n      if (a !== b) {\n        if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n        q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: interpolateNumber(a, b)});\n      } else if (b) {\n        s.push(pop(s) + \"rotate(\" + b + degParen);\n      }\n    }\n\n    function skewX(a, b, s, q) {\n      if (a !== b) {\n        q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: interpolateNumber(a, b)});\n      } else if (b) {\n        s.push(pop(s) + \"skewX(\" + b + degParen);\n      }\n    }\n\n    function scale(xa, ya, xb, yb, s, q) {\n      if (xa !== xb || ya !== yb) {\n        var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n        q.push({i: i - 4, x: interpolateNumber(xa, xb)}, {i: i - 2, x: interpolateNumber(ya, yb)});\n      } else if (xb !== 1 || yb !== 1) {\n        s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n      }\n    }\n\n    return function(a, b) {\n      var s = [], // string constants and placeholders\n          q = []; // number interpolators\n      a = parse(a), b = parse(b);\n      translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n      rotate(a.rotate, b.rotate, s, q);\n      skewX(a.skewX, b.skewX, s, q);\n      scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n      a = b = null; // gc\n      return function(t) {\n        var i = -1, n = q.length, o;\n        while (++i < n) s[(o = q[i]).i] = o.x(t);\n        return s.join(\"\");\n      };\n    };\n  }\n\n  var interpolateTransform$1 = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\n  var interpolateTransform$2 = interpolateTransform(parseSvg, \", \", \")\", \")\");\n\n  var rho = Math.SQRT2;\n  var rho2 = 2;\n  var rho4 = 4;\n  var epsilon2 = 1e-12;\n  function cosh(x) {\n    return ((x = Math.exp(x)) + 1 / x) / 2;\n  }\n\n  function sinh(x) {\n    return ((x = Math.exp(x)) - 1 / x) / 2;\n  }\n\n  function tanh(x) {\n    return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n  }\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function interpolateZoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000;\n\n    return i;\n  }\n\n  function hsl(hue) {\n    return function(start, end) {\n      var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n          s = nogamma(start.s, end.s),\n          l = nogamma(start.l, end.l),\n          opacity = nogamma(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(t);\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n  }\n\n  var hsl$1 = hsl(hue);\n  var hslLong = hsl(nogamma);\n\n  function lab$1(start, end) {\n    var l = nogamma((start = lab(start)).l, (end = lab(end)).l),\n        a = nogamma(start.a, end.a),\n        b = nogamma(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.l = l(t);\n      start.a = a(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  function hcl(hue) {\n    return function(start, end) {\n      var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n          c = nogamma(start.c, end.c),\n          l = nogamma(start.l, end.l),\n          opacity = nogamma(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.c = c(t);\n        start.l = l(t);\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n  }\n\n  var hcl$1 = hcl(hue);\n  var hclLong = hcl(nogamma);\n\n  function cubehelix$1(hue) {\n    return (function cubehelixGamma(y) {\n      y = +y;\n\n      function cubehelix$$(start, end) {\n        var h = hue((start = cubehelix(start)).h, (end = cubehelix(end)).h),\n            s = nogamma(start.s, end.s),\n            l = nogamma(start.l, end.l),\n            opacity = nogamma(start.opacity, end.opacity);\n        return function(t) {\n          start.h = h(t);\n          start.s = s(t);\n          start.l = l(Math.pow(t, y));\n          start.opacity = opacity(t);\n          return start + \"\";\n        };\n      }\n\n      cubehelix$$.gamma = cubehelixGamma;\n\n      return cubehelix$$;\n    })(1);\n  }\n\n  var cubehelix$2 = cubehelix$1(hue);\n  var interpolateCubehelixLong = cubehelix$1(nogamma);\n\n  function quantize(interpolator, n) {\n    var samples = new Array(n);\n    for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n    return samples;\n  }\n\n  var noop$1 = {value: function() {}};\n\n  function dispatch() {\n    for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n      if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n      _[t] = [];\n    }\n    return new Dispatch(_);\n  }\n\n  function Dispatch(_) {\n    this._ = _;\n  }\n\n  function parseTypenames(typenames, types) {\n    return typenames.trim().split(/^|\\s+/).map(function(t) {\n      var name = \"\", i = t.indexOf(\".\");\n      if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n      if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n      return {type: t, name: name};\n    });\n  }\n\n  Dispatch.prototype = dispatch.prototype = {\n    constructor: Dispatch,\n    on: function(typename, callback) {\n      var _ = this._,\n          T = parseTypenames(typename + \"\", _),\n          t,\n          i = -1,\n          n = T.length;\n\n      // If no callback was specified, return the callback of the given type and name.\n      if (arguments.length < 2) {\n        while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n        return;\n      }\n\n      // If a type was specified, set the callback for the given type and name.\n      // Otherwise, if a null callback was specified, remove callbacks of the given name.\n      if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n      while (++i < n) {\n        if (t = (typename = T[i]).type) _[t] = set$1(_[t], typename.name, callback);\n        else if (callback == null) for (t in _) _[t] = set$1(_[t], typename.name, null);\n      }\n\n      return this;\n    },\n    copy: function() {\n      var copy = {}, _ = this._;\n      for (var t in _) copy[t] = _[t].slice();\n      return new Dispatch(copy);\n    },\n    call: function(type, that) {\n      if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n      if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n      for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n    },\n    apply: function(type, that, args) {\n      if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n      for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n    }\n  };\n\n  function get(type, name) {\n    for (var i = 0, n = type.length, c; i < n; ++i) {\n      if ((c = type[i]).name === name) {\n        return c.value;\n      }\n    }\n  }\n\n  function set$1(type, name, callback) {\n    for (var i = 0, n = type.length; i < n; ++i) {\n      if (type[i].name === name) {\n        type[i] = noop$1, type = type.slice(0, i).concat(type.slice(i + 1));\n        break;\n      }\n    }\n    if (callback != null) type.push({name: name, value: callback});\n    return type;\n  }\n\n  function objectConverter(columns) {\n    return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n      return JSON.stringify(name) + \": d[\" + i + \"]\";\n    }).join(\",\") + \"}\");\n  }\n\n  function customConverter(columns, f) {\n    var object = objectConverter(columns);\n    return function(row, i) {\n      return f(object(row), i, columns);\n    };\n  }\n\n  // Compute unique columns in order of discovery.\n  function inferColumns(rows) {\n    var columnSet = Object.create(null),\n        columns = [];\n\n    rows.forEach(function(row) {\n      for (var column in row) {\n        if (!(column in columnSet)) {\n          columns.push(columnSet[column] = column);\n        }\n      }\n    });\n\n    return columns;\n  }\n\n  function dsv(delimiter) {\n    var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n]\"),\n        delimiterCode = delimiter.charCodeAt(0);\n\n    function parse(text, f) {\n      var convert, columns, rows = parseRows(text, function(row, i) {\n        if (convert) return convert(row, i - 1);\n        columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n      });\n      rows.columns = columns;\n      return rows;\n    }\n\n    function parseRows(text, f) {\n      var EOL = {}, // sentinel value for end-of-line\n          EOF = {}, // sentinel value for end-of-file\n          rows = [], // output rows\n          N = text.length,\n          I = 0, // current character index\n          n = 0, // the current line number\n          t, // the current token\n          eol; // is the current token followed by EOL?\n\n      function token() {\n        if (I >= N) return EOF; // special case: end of file\n        if (eol) return eol = false, EOL; // special case: end of line\n\n        // special case: quotes\n        var j = I, c;\n        if (text.charCodeAt(j) === 34) {\n          var i = j;\n          while (i++ < N) {\n            if (text.charCodeAt(i) === 34) {\n              if (text.charCodeAt(i + 1) !== 34) break;\n              ++i;\n            }\n          }\n          I = i + 2;\n          c = text.charCodeAt(i + 1);\n          if (c === 13) {\n            eol = true;\n            if (text.charCodeAt(i + 2) === 10) ++I;\n          } else if (c === 10) {\n            eol = true;\n          }\n          return text.slice(j + 1, i).replace(/\"\"/g, \"\\\"\");\n        }\n\n        // common case: find next delimiter or newline\n        while (I < N) {\n          var k = 1;\n          c = text.charCodeAt(I++);\n          if (c === 10) eol = true; // \\n\n          else if (c === 13) { eol = true; if (text.charCodeAt(I) === 10) ++I, ++k; } // \\r|\\r\\n\n          else if (c !== delimiterCode) continue;\n          return text.slice(j, I - k);\n        }\n\n        // special case: last token before EOF\n        return text.slice(j);\n      }\n\n      while ((t = token()) !== EOF) {\n        var a = [];\n        while (t !== EOL && t !== EOF) {\n          a.push(t);\n          t = token();\n        }\n        if (f && (a = f(a, n++)) == null) continue;\n        rows.push(a);\n      }\n\n      return rows;\n    }\n\n    function format(rows, columns) {\n      if (columns == null) columns = inferColumns(rows);\n      return [columns.map(formatValue).join(delimiter)].concat(rows.map(function(row) {\n        return columns.map(function(column) {\n          return formatValue(row[column]);\n        }).join(delimiter);\n      })).join(\"\\n\");\n    }\n\n    function formatRows(rows) {\n      return rows.map(formatRow).join(\"\\n\");\n    }\n\n    function formatRow(row) {\n      return row.map(formatValue).join(delimiter);\n    }\n\n    function formatValue(text) {\n      return text == null ? \"\"\n          : reFormat.test(text += \"\") ? \"\\\"\" + text.replace(/\\\"/g, \"\\\"\\\"\") + \"\\\"\"\n          : text;\n    }\n\n    return {\n      parse: parse,\n      parseRows: parseRows,\n      format: format,\n      formatRows: formatRows\n    };\n  }\n\n  var csv = dsv(\",\");\n\n  var csvParse = csv.parse;\n  var csvParseRows = csv.parseRows;\n  var csvFormat = csv.format;\n  var csvFormatRows = csv.formatRows;\n\n  var tsv = dsv(\"\\t\");\n\n  var tsvParse = tsv.parse;\n  var tsvParseRows = tsv.parseRows;\n  var tsvFormat = tsv.format;\n  var tsvFormatRows = tsv.formatRows;\n\n  function request(url, callback) {\n    var request,\n        event = dispatch(\"beforesend\", \"progress\", \"load\", \"error\"),\n        mimeType,\n        headers = map$1(),\n        xhr = new XMLHttpRequest,\n        user = null,\n        password = null,\n        response,\n        responseType,\n        timeout = 0;\n\n    // If IE does not support CORS, use XDomainRequest.\n    if (typeof XDomainRequest !== \"undefined\"\n        && !(\"withCredentials\" in xhr)\n        && /^(http(s)?:)?\\/\\//.test(url)) xhr = new XDomainRequest;\n\n    \"onload\" in xhr\n        ? xhr.onload = xhr.onerror = xhr.ontimeout = respond\n        : xhr.onreadystatechange = function(o) { xhr.readyState > 3 && respond(o); };\n\n    function respond(o) {\n      var status = xhr.status, result;\n      if (!status && hasResponse(xhr)\n          || status >= 200 && status < 300\n          || status === 304) {\n        if (response) {\n          try {\n            result = response.call(request, xhr);\n          } catch (e) {\n            event.call(\"error\", request, e);\n            return;\n          }\n        } else {\n          result = xhr;\n        }\n        event.call(\"load\", request, result);\n      } else {\n        event.call(\"error\", request, o);\n      }\n    }\n\n    xhr.onprogress = function(e) {\n      event.call(\"progress\", request, e);\n    };\n\n    request = {\n      header: function(name, value) {\n        name = (name + \"\").toLowerCase();\n        if (arguments.length < 2) return headers.get(name);\n        if (value == null) headers.remove(name);\n        else headers.set(name, value + \"\");\n        return request;\n      },\n\n      // If mimeType is non-null and no Accept header is set, a default is used.\n      mimeType: function(value) {\n        if (!arguments.length) return mimeType;\n        mimeType = value == null ? null : value + \"\";\n        return request;\n      },\n\n      // Specifies what type the response value should take;\n      // for instance, arraybuffer, blob, document, or text.\n      responseType: function(value) {\n        if (!arguments.length) return responseType;\n        responseType = value;\n        return request;\n      },\n\n      timeout: function(value) {\n        if (!arguments.length) return timeout;\n        timeout = +value;\n        return request;\n      },\n\n      user: function(value) {\n        return arguments.length < 1 ? user : (user = value == null ? null : value + \"\", request);\n      },\n\n      password: function(value) {\n        return arguments.length < 1 ? password : (password = value == null ? null : value + \"\", request);\n      },\n\n      // Specify how to convert the response content to a specific type;\n      // changes the callback value on \"load\" events.\n      response: function(value) {\n        response = value;\n        return request;\n      },\n\n      // Alias for send(\"GET\", …).\n      get: function(data, callback) {\n        return request.send(\"GET\", data, callback);\n      },\n\n      // Alias for send(\"POST\", …).\n      post: function(data, callback) {\n        return request.send(\"POST\", data, callback);\n      },\n\n      // If callback is non-null, it will be used for error and load events.\n      send: function(method, data, callback) {\n        xhr.open(method, url, true, user, password);\n        if (mimeType != null && !headers.has(\"accept\")) headers.set(\"accept\", mimeType + \",*/*\");\n        if (xhr.setRequestHeader) headers.each(function(value, name) { xhr.setRequestHeader(name, value); });\n        if (mimeType != null && xhr.overrideMimeType) xhr.overrideMimeType(mimeType);\n        if (responseType != null) xhr.responseType = responseType;\n        if (timeout > 0) xhr.timeout = timeout;\n        if (callback == null && typeof data === \"function\") callback = data, data = null;\n        if (callback != null && callback.length === 1) callback = fixCallback(callback);\n        if (callback != null) request.on(\"error\", callback).on(\"load\", function(xhr) { callback(null, xhr); });\n        event.call(\"beforesend\", request, xhr);\n        xhr.send(data == null ? null : data);\n        return request;\n      },\n\n      abort: function() {\n        xhr.abort();\n        return request;\n      },\n\n      on: function() {\n        var value = event.on.apply(event, arguments);\n        return value === event ? request : value;\n      }\n    };\n\n    if (callback != null) {\n      if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n      return request.get(callback);\n    }\n\n    return request;\n  }\n\n  function fixCallback(callback) {\n    return function(error, xhr) {\n      callback(error == null ? xhr : null);\n    };\n  }\n\n  function hasResponse(xhr) {\n    var type = xhr.responseType;\n    return type && type !== \"text\"\n        ? xhr.response // null on error\n        : xhr.responseText; // \"\" on error\n  }\n\n  function type(defaultMimeType, response) {\n    return function(url, callback) {\n      var r = request(url).mimeType(defaultMimeType).response(response);\n      if (callback != null) {\n        if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n        return r.get(callback);\n      }\n      return r;\n    };\n  }\n\n  var html = type(\"text/html\", function(xhr) {\n    return document.createRange().createContextualFragment(xhr.responseText);\n  });\n\n  var json = type(\"application/json\", function(xhr) {\n    return JSON.parse(xhr.responseText);\n  });\n\n  var text = type(\"text/plain\", function(xhr) {\n    return xhr.responseText;\n  });\n\n  var xml = type(\"application/xml\", function(xhr) {\n    var xml = xhr.responseXML;\n    if (!xml) throw new Error(\"parse error\");\n    return xml;\n  });\n\n  function dsv$1(defaultMimeType, parse) {\n    return function(url, row, callback) {\n      if (arguments.length < 3) callback = row, row = null;\n      var r = request(url).mimeType(defaultMimeType);\n      r.row = function(_) { return arguments.length ? r.response(responseOf(parse, row = _)) : row; };\n      r.row(row);\n      return callback ? r.get(callback) : r;\n    };\n  }\n\n  function responseOf(parse, row) {\n    return function(request) {\n      return parse(request.responseText, row);\n    };\n  }\n\n  var csv$1 = dsv$1(\"text/csv\", csvParse);\n\n  var tsv$1 = dsv$1(\"text/tab-separated-values\", tsvParse);\n\n  var frame = 0;\n  var timeout = 0;\n  var interval = 0;\n  var pokeDelay = 1000;\n  var taskHead;\n  var taskTail;\n  var clockLast = 0;\n  var clockNow = 0;\n  var clockSkew = 0;\n  var clock = typeof performance === \"object\" && performance.now ? performance : Date;\n  var setFrame = typeof requestAnimationFrame === \"function\"\n          ? (clock === Date ? function(f) { requestAnimationFrame(function() { f(clock.now()); }); } : requestAnimationFrame)\n          : function(f) { setTimeout(f, 17); };\n  function now() {\n    return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n  }\n\n  function clearNow() {\n    clockNow = 0;\n  }\n\n  function Timer() {\n    this._call =\n    this._time =\n    this._next = null;\n  }\n\n  Timer.prototype = timer.prototype = {\n    constructor: Timer,\n    restart: function(callback, delay, time) {\n      if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n      time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n      if (!this._next && taskTail !== this) {\n        if (taskTail) taskTail._next = this;\n        else taskHead = this;\n        taskTail = this;\n      }\n      this._call = callback;\n      this._time = time;\n      sleep();\n    },\n    stop: function() {\n      if (this._call) {\n        this._call = null;\n        this._time = Infinity;\n        sleep();\n      }\n    }\n  };\n\n  function timer(callback, delay, time) {\n    var t = new Timer;\n    t.restart(callback, delay, time);\n    return t;\n  }\n\n  function timerFlush() {\n    now(); // Get the current time, if not already set.\n    ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n    var t = taskHead, e;\n    while (t) {\n      if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n      t = t._next;\n    }\n    --frame;\n  }\n\n  function wake(time) {\n    clockNow = (clockLast = time || clock.now()) + clockSkew;\n    frame = timeout = 0;\n    try {\n      timerFlush();\n    } finally {\n      frame = 0;\n      nap();\n      clockNow = 0;\n    }\n  }\n\n  function poke$1() {\n    var now = clock.now(), delay = now - clockLast;\n    if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n  }\n\n  function nap() {\n    var t0, t1 = taskHead, t2, time = Infinity;\n    while (t1) {\n      if (t1._call) {\n        if (time > t1._time) time = t1._time;\n        t0 = t1, t1 = t1._next;\n      } else {\n        t2 = t1._next, t1._next = null;\n        t1 = t0 ? t0._next = t2 : taskHead = t2;\n      }\n    }\n    taskTail = t0;\n    sleep(time);\n  }\n\n  function sleep(time) {\n    if (frame) return; // Soonest alarm already set, or will be.\n    if (timeout) timeout = clearTimeout(timeout);\n    var delay = time - clockNow;\n    if (delay > 24) {\n      if (time < Infinity) timeout = setTimeout(wake, delay);\n      if (interval) interval = clearInterval(interval);\n    } else {\n      if (!interval) interval = setInterval(poke$1, pokeDelay);\n      frame = 1, setFrame(wake);\n    }\n  }\n\n  function timeout$1(callback, delay, time) {\n    var t = new Timer;\n    delay = delay == null ? 0 : +delay;\n    t.restart(function(elapsed) {\n      t.stop();\n      callback(elapsed + delay);\n    }, delay, time);\n    return t;\n  }\n\n  function interval$1(callback, delay, time) {\n    var t = new Timer, total = delay;\n    if (delay == null) return t.restart(callback, delay, time), t;\n    delay = +delay, time = time == null ? now() : +time;\n    t.restart(function tick(elapsed) {\n      elapsed += total;\n      t.restart(tick, total += delay, time);\n      callback(elapsed);\n    }, delay, time);\n    return t;\n  }\n\nvar   t0$1 = new Date;\nvar   t1$1 = new Date;\n  function newInterval(floori, offseti, count, field) {\n\n    function interval(date) {\n      return floori(date = new Date(+date)), date;\n    }\n\n    interval.floor = interval;\n\n    interval.ceil = function(date) {\n      return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n    };\n\n    interval.round = function(date) {\n      var d0 = interval(date),\n          d1 = interval.ceil(date);\n      return date - d0 < d1 - date ? d0 : d1;\n    };\n\n    interval.offset = function(date, step) {\n      return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n    };\n\n    interval.range = function(start, stop, step) {\n      var range = [];\n      start = interval.ceil(start);\n      step = step == null ? 1 : Math.floor(step);\n      if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n      do range.push(new Date(+start)); while (offseti(start, step), floori(start), start < stop)\n      return range;\n    };\n\n    interval.filter = function(test) {\n      return newInterval(function(date) {\n        while (floori(date), !test(date)) date.setTime(date - 1);\n      }, function(date, step) {\n        while (--step >= 0) while (offseti(date, 1), !test(date));\n      });\n    };\n\n    if (count) {\n      interval.count = function(start, end) {\n        t0$1.setTime(+start), t1$1.setTime(+end);\n        floori(t0$1), floori(t1$1);\n        return Math.floor(count(t0$1, t1$1));\n      };\n\n      interval.every = function(step) {\n        step = Math.floor(step);\n        return !isFinite(step) || !(step > 0) ? null\n            : !(step > 1) ? interval\n            : interval.filter(field\n                ? function(d) { return field(d) % step === 0; }\n                : function(d) { return interval.count(0, d) % step === 0; });\n      };\n    }\n\n    return interval;\n  }\n\n  var millisecond = newInterval(function() {\n    // noop\n  }, function(date, step) {\n    date.setTime(+date + step);\n  }, function(start, end) {\n    return end - start;\n  });\n\n  // An optimized implementation for this simple case.\n  millisecond.every = function(k) {\n    k = Math.floor(k);\n    if (!isFinite(k) || !(k > 0)) return null;\n    if (!(k > 1)) return millisecond;\n    return newInterval(function(date) {\n      date.setTime(Math.floor(date / k) * k);\n    }, function(date, step) {\n      date.setTime(+date + step * k);\n    }, function(start, end) {\n      return (end - start) / k;\n    });\n  };\n\n  var milliseconds = millisecond.range;\n\n  var durationSecond = 1e3;\n  var durationMinute = 6e4;\n  var durationHour = 36e5;\n  var durationDay = 864e5;\n  var durationWeek = 6048e5;\n\n  var second = newInterval(function(date) {\n    date.setTime(Math.floor(date / durationSecond) * durationSecond);\n  }, function(date, step) {\n    date.setTime(+date + step * durationSecond);\n  }, function(start, end) {\n    return (end - start) / durationSecond;\n  }, function(date) {\n    return date.getUTCSeconds();\n  });\n\n  var seconds = second.range;\n\n  var minute = newInterval(function(date) {\n    date.setTime(Math.floor(date / durationMinute) * durationMinute);\n  }, function(date, step) {\n    date.setTime(+date + step * durationMinute);\n  }, function(start, end) {\n    return (end - start) / durationMinute;\n  }, function(date) {\n    return date.getMinutes();\n  });\n\n  var minutes = minute.range;\n\n  var hour = newInterval(function(date) {\n    var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n    if (offset < 0) offset += durationHour;\n    date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n  }, function(date, step) {\n    date.setTime(+date + step * durationHour);\n  }, function(start, end) {\n    return (end - start) / durationHour;\n  }, function(date) {\n    return date.getHours();\n  });\n\n  var hours = hour.range;\n\n  var day = newInterval(function(date) {\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n  }, function(date) {\n    return date.getDate() - 1;\n  });\n\n  var days = day.range;\n\n  function weekday(i) {\n    return newInterval(function(date) {\n      date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n      date.setHours(0, 0, 0, 0);\n    }, function(date, step) {\n      date.setDate(date.getDate() + step * 7);\n    }, function(start, end) {\n      return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n    });\n  }\n\n  var timeWeek = weekday(0);\n  var timeMonday = weekday(1);\n  var tuesday = weekday(2);\n  var wednesday = weekday(3);\n  var thursday = weekday(4);\n  var friday = weekday(5);\n  var saturday = weekday(6);\n\n  var sundays = timeWeek.range;\n  var mondays = timeMonday.range;\n  var tuesdays = tuesday.range;\n  var wednesdays = wednesday.range;\n  var thursdays = thursday.range;\n  var fridays = friday.range;\n  var saturdays = saturday.range;\n\n  var month = newInterval(function(date) {\n    date.setDate(1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setMonth(date.getMonth() + step);\n  }, function(start, end) {\n    return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n  }, function(date) {\n    return date.getMonth();\n  });\n\n  var months = month.range;\n\n  var year = newInterval(function(date) {\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step);\n  }, function(start, end) {\n    return end.getFullYear() - start.getFullYear();\n  }, function(date) {\n    return date.getFullYear();\n  });\n\n  // An optimized implementation for this simple case.\n  year.every = function(k) {\n    return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function(date) {\n      date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n      date.setMonth(0, 1);\n      date.setHours(0, 0, 0, 0);\n    }, function(date, step) {\n      date.setFullYear(date.getFullYear() + step * k);\n    });\n  };\n\n  var years = year.range;\n\n  var utcMinute = newInterval(function(date) {\n    date.setUTCSeconds(0, 0);\n  }, function(date, step) {\n    date.setTime(+date + step * durationMinute);\n  }, function(start, end) {\n    return (end - start) / durationMinute;\n  }, function(date) {\n    return date.getUTCMinutes();\n  });\n\n  var utcMinutes = utcMinute.range;\n\n  var utcHour = newInterval(function(date) {\n    date.setUTCMinutes(0, 0, 0);\n  }, function(date, step) {\n    date.setTime(+date + step * durationHour);\n  }, function(start, end) {\n    return (end - start) / durationHour;\n  }, function(date) {\n    return date.getUTCHours();\n  });\n\n  var utcHours = utcHour.range;\n\n  var utcDay = newInterval(function(date) {\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step);\n  }, function(start, end) {\n    return (end - start) / durationDay;\n  }, function(date) {\n    return date.getUTCDate() - 1;\n  });\n\n  var utcDays = utcDay.range;\n\n  function utcWeekday(i) {\n    return newInterval(function(date) {\n      date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n      date.setUTCHours(0, 0, 0, 0);\n    }, function(date, step) {\n      date.setUTCDate(date.getUTCDate() + step * 7);\n    }, function(start, end) {\n      return (end - start) / durationWeek;\n    });\n  }\n\n  var utcWeek = utcWeekday(0);\n  var utcMonday = utcWeekday(1);\n  var utcTuesday = utcWeekday(2);\n  var utcWednesday = utcWeekday(3);\n  var utcThursday = utcWeekday(4);\n  var utcFriday = utcWeekday(5);\n  var utcSaturday = utcWeekday(6);\n\n  var utcSundays = utcWeek.range;\n  var utcMondays = utcMonday.range;\n  var utcTuesdays = utcTuesday.range;\n  var utcWednesdays = utcWednesday.range;\n  var utcThursdays = utcThursday.range;\n  var utcFridays = utcFriday.range;\n  var utcSaturdays = utcSaturday.range;\n\n  var utcMonth = newInterval(function(date) {\n    date.setUTCDate(1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCMonth(date.getUTCMonth() + step);\n  }, function(start, end) {\n    return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n  }, function(date) {\n    return date.getUTCMonth();\n  });\n\n  var utcMonths = utcMonth.range;\n\n  var utcYear = newInterval(function(date) {\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step);\n  }, function(start, end) {\n    return end.getUTCFullYear() - start.getUTCFullYear();\n  }, function(date) {\n    return date.getUTCFullYear();\n  });\n\n  // An optimized implementation for this simple case.\n  utcYear.every = function(k) {\n    return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function(date) {\n      date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n      date.setUTCMonth(0, 1);\n      date.setUTCHours(0, 0, 0, 0);\n    }, function(date, step) {\n      date.setUTCFullYear(date.getUTCFullYear() + step * k);\n    });\n  };\n\n  var utcYears = utcYear.range;\n\n  // Computes the decimal coefficient and exponent of the specified number x with\n  // significant digits p, where x is positive and p is in [1, 21] or undefined.\n  // For example, formatDecimal(1.23) returns [\"123\", 0].\n  function formatDecimal(x, p) {\n    if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n    var i, coefficient = x.slice(0, i);\n\n    // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n    // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n    return [\n      coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n      +x.slice(i + 1)\n    ];\n  }\n\n  function exponent$1(x) {\n    return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n  }\n\n  function formatGroup(grouping, thousands) {\n    return function(value, width) {\n      var i = value.length,\n          t = [],\n          j = 0,\n          g = grouping[0],\n          length = 0;\n\n      while (i > 0 && g > 0) {\n        if (length + g + 1 > width) g = Math.max(1, width - length);\n        t.push(value.substring(i -= g, i + g));\n        if ((length += g + 1) > width) break;\n        g = grouping[j = (j + 1) % grouping.length];\n      }\n\n      return t.reverse().join(thousands);\n    };\n  }\n\n  function formatDefault(x, p) {\n    x = x.toPrecision(p);\n\n    out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n      switch (x[i]) {\n        case \".\": i0 = i1 = i; break;\n        case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n        case \"e\": break out;\n        default: if (i0 > 0) i0 = 0; break;\n      }\n    }\n\n    return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n  }\n\n  var prefixExponent;\n\n  function formatPrefixAuto(x, p) {\n    var d = formatDecimal(x, p);\n    if (!d) return x + \"\";\n    var coefficient = d[0],\n        exponent = d[1],\n        i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n        n = coefficient.length;\n    return i === n ? coefficient\n        : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n        : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n        : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n  }\n\n  function formatRounded(x, p) {\n    var d = formatDecimal(x, p);\n    if (!d) return x + \"\";\n    var coefficient = d[0],\n        exponent = d[1];\n    return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n        : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n        : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n  }\n\n  var formatTypes = {\n    \"\": formatDefault,\n    \"%\": function(x, p) { return (x * 100).toFixed(p); },\n    \"b\": function(x) { return Math.round(x).toString(2); },\n    \"c\": function(x) { return x + \"\"; },\n    \"d\": function(x) { return Math.round(x).toString(10); },\n    \"e\": function(x, p) { return x.toExponential(p); },\n    \"f\": function(x, p) { return x.toFixed(p); },\n    \"g\": function(x, p) { return x.toPrecision(p); },\n    \"o\": function(x) { return Math.round(x).toString(8); },\n    \"p\": function(x, p) { return formatRounded(x * 100, p); },\n    \"r\": formatRounded,\n    \"s\": formatPrefixAuto,\n    \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n    \"x\": function(x) { return Math.round(x).toString(16); }\n  };\n\n  // [[fill]align][sign][symbol][0][width][,][.precision][type]\n  var re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\n  function formatSpecifier(specifier) {\n    return new FormatSpecifier(specifier);\n  }\n\n  function FormatSpecifier(specifier) {\n    if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n    var match,\n        fill = match[1] || \" \",\n        align = match[2] || \">\",\n        sign = match[3] || \"-\",\n        symbol = match[4] || \"\",\n        zero = !!match[5],\n        width = match[6] && +match[6],\n        comma = !!match[7],\n        precision = match[8] && +match[8].slice(1),\n        type = match[9] || \"\";\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // Map invalid types to the default format.\n    else if (!formatTypes[type]) type = \"\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    this.fill = fill;\n    this.align = align;\n    this.sign = sign;\n    this.symbol = symbol;\n    this.zero = zero;\n    this.width = width;\n    this.comma = comma;\n    this.precision = precision;\n    this.type = type;\n  }\n\n  FormatSpecifier.prototype.toString = function() {\n    return this.fill\n        + this.align\n        + this.sign\n        + this.symbol\n        + (this.zero ? \"0\" : \"\")\n        + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n        + (this.comma ? \",\" : \"\")\n        + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n        + this.type;\n  };\n\n  var prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\\xB5\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\n  function identity$3(x) {\n    return x;\n  }\n\n  function formatLocale(locale) {\n    var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity$3,\n        currency = locale.currency,\n        decimal = locale.decimal;\n\n    function newFormat(specifier) {\n      specifier = formatSpecifier(specifier);\n\n      var fill = specifier.fill,\n          align = specifier.align,\n          sign = specifier.sign,\n          symbol = specifier.symbol,\n          zero = specifier.zero,\n          width = specifier.width,\n          comma = specifier.comma,\n          precision = specifier.precision,\n          type = specifier.type;\n\n      // Compute the prefix and suffix.\n      // For SI-prefix, the suffix is lazily computed.\n      var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n          suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? \"%\" : \"\";\n\n      // What format function should we use?\n      // Is this an integer type?\n      // Can this type generate exponential notation?\n      var formatType = formatTypes[type],\n          maybeSuffix = !type || /[defgprs%]/.test(type);\n\n      // Set the default precision if not specified,\n      // or clamp the specified precision to the supported range.\n      // For significant precision, it must be in [1, 21].\n      // For fixed precision, it must be in [0, 20].\n      precision = precision == null ? (type ? 6 : 12)\n          : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n          : Math.max(0, Math.min(20, precision));\n\n      function format(value) {\n        var valuePrefix = prefix,\n            valueSuffix = suffix,\n            i, n, c;\n\n        if (type === \"c\") {\n          valueSuffix = formatType(value) + valueSuffix;\n          value = \"\";\n        } else {\n          value = +value;\n\n          // Convert negative to positive, and compute the prefix.\n          // Note that -0 is not less than 0, but 1 / -0 is!\n          var valueNegative = (value < 0 || 1 / value < 0) && (value *= -1, true);\n\n          // Perform the initial formatting.\n          value = formatType(value, precision);\n\n          // If the original value was negative, it may be rounded to zero during\n          // formatting; treat this as (positive) zero.\n          if (valueNegative) {\n            i = -1, n = value.length;\n            valueNegative = false;\n            while (++i < n) {\n              if (c = value.charCodeAt(i), (48 < c && c < 58)\n                  || (type === \"x\" && 96 < c && c < 103)\n                  || (type === \"X\" && 64 < c && c < 71)) {\n                valueNegative = true;\n                break;\n              }\n            }\n          }\n\n          // Compute the prefix and suffix.\n          valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n          valueSuffix = valueSuffix + (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n          // Break the formatted value into the integer “value” part that can be\n          // grouped, and fractional or exponential “suffix” part that is not.\n          if (maybeSuffix) {\n            i = -1, n = value.length;\n            while (++i < n) {\n              if (c = value.charCodeAt(i), 48 > c || c > 57) {\n                valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n                value = value.slice(0, i);\n                break;\n              }\n            }\n          }\n        }\n\n        // If the fill character is not \"0\", grouping is applied before padding.\n        if (comma && !zero) value = group(value, Infinity);\n\n        // Compute the padding.\n        var length = valuePrefix.length + value.length + valueSuffix.length,\n            padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n        // If the fill character is \"0\", grouping is applied after padding.\n        if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n        // Reconstruct the final output based on the desired alignment.\n        switch (align) {\n          case \"<\": return valuePrefix + value + valueSuffix + padding;\n          case \"=\": return valuePrefix + padding + value + valueSuffix;\n          case \"^\": return padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);\n        }\n        return padding + valuePrefix + value + valueSuffix;\n      }\n\n      format.toString = function() {\n        return specifier + \"\";\n      };\n\n      return format;\n    }\n\n    function formatPrefix(specifier, value) {\n      var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n          e = Math.max(-8, Math.min(8, Math.floor(exponent$1(value) / 3))) * 3,\n          k = Math.pow(10, -e),\n          prefix = prefixes[8 + e / 3];\n      return function(value) {\n        return f(k * value) + prefix;\n      };\n    }\n\n    return {\n      format: newFormat,\n      formatPrefix: formatPrefix\n    };\n  }\n\n  var locale;\n  defaultLocale({\n    decimal: \".\",\n    thousands: \",\",\n    grouping: [3],\n    currency: [\"$\", \"\"]\n  });\n\n  function defaultLocale(definition) {\n    locale = formatLocale(definition);\n    exports.format = locale.format;\n    exports.formatPrefix = locale.formatPrefix;\n    return locale;\n  }\n\n  function precisionFixed(step) {\n    return Math.max(0, -exponent$1(Math.abs(step)));\n  }\n\n  function precisionPrefix(step, value) {\n    return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent$1(value) / 3))) * 3 - exponent$1(Math.abs(step)));\n  }\n\n  function precisionRound(step, max) {\n    step = Math.abs(step), max = Math.abs(max) - step;\n    return Math.max(0, exponent$1(max) - exponent$1(step)) + 1;\n  }\n\n  function localDate(d) {\n    if (0 <= d.y && d.y < 100) {\n      var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n      date.setFullYear(d.y);\n      return date;\n    }\n    return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n  }\n\n  function utcDate(d) {\n    if (0 <= d.y && d.y < 100) {\n      var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n      date.setUTCFullYear(d.y);\n      return date;\n    }\n    return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n  }\n\n  function newYear(y) {\n    return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n  }\n\n  function formatLocale$1(locale) {\n    var locale_dateTime = locale.dateTime,\n        locale_date = locale.date,\n        locale_time = locale.time,\n        locale_periods = locale.periods,\n        locale_weekdays = locale.days,\n        locale_shortWeekdays = locale.shortDays,\n        locale_months = locale.months,\n        locale_shortMonths = locale.shortMonths;\n\n    var periodRe = formatRe(locale_periods),\n        periodLookup = formatLookup(locale_periods),\n        weekdayRe = formatRe(locale_weekdays),\n        weekdayLookup = formatLookup(locale_weekdays),\n        shortWeekdayRe = formatRe(locale_shortWeekdays),\n        shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n        monthRe = formatRe(locale_months),\n        monthLookup = formatLookup(locale_months),\n        shortMonthRe = formatRe(locale_shortMonths),\n        shortMonthLookup = formatLookup(locale_shortMonths);\n\n    var formats = {\n      \"a\": formatShortWeekday,\n      \"A\": formatWeekday,\n      \"b\": formatShortMonth,\n      \"B\": formatMonth,\n      \"c\": null,\n      \"d\": formatDayOfMonth,\n      \"e\": formatDayOfMonth,\n      \"H\": formatHour24,\n      \"I\": formatHour12,\n      \"j\": formatDayOfYear,\n      \"L\": formatMilliseconds,\n      \"m\": formatMonthNumber,\n      \"M\": formatMinutes,\n      \"p\": formatPeriod,\n      \"S\": formatSeconds,\n      \"U\": formatWeekNumberSunday,\n      \"w\": formatWeekdayNumber,\n      \"W\": formatWeekNumberMonday,\n      \"x\": null,\n      \"X\": null,\n      \"y\": formatYear,\n      \"Y\": formatFullYear,\n      \"Z\": formatZone,\n      \"%\": formatLiteralPercent\n    };\n\n    var utcFormats = {\n      \"a\": formatUTCShortWeekday,\n      \"A\": formatUTCWeekday,\n      \"b\": formatUTCShortMonth,\n      \"B\": formatUTCMonth,\n      \"c\": null,\n      \"d\": formatUTCDayOfMonth,\n      \"e\": formatUTCDayOfMonth,\n      \"H\": formatUTCHour24,\n      \"I\": formatUTCHour12,\n      \"j\": formatUTCDayOfYear,\n      \"L\": formatUTCMilliseconds,\n      \"m\": formatUTCMonthNumber,\n      \"M\": formatUTCMinutes,\n      \"p\": formatUTCPeriod,\n      \"S\": formatUTCSeconds,\n      \"U\": formatUTCWeekNumberSunday,\n      \"w\": formatUTCWeekdayNumber,\n      \"W\": formatUTCWeekNumberMonday,\n      \"x\": null,\n      \"X\": null,\n      \"y\": formatUTCYear,\n      \"Y\": formatUTCFullYear,\n      \"Z\": formatUTCZone,\n      \"%\": formatLiteralPercent\n    };\n\n    var parses = {\n      \"a\": parseShortWeekday,\n      \"A\": parseWeekday,\n      \"b\": parseShortMonth,\n      \"B\": parseMonth,\n      \"c\": parseLocaleDateTime,\n      \"d\": parseDayOfMonth,\n      \"e\": parseDayOfMonth,\n      \"H\": parseHour24,\n      \"I\": parseHour24,\n      \"j\": parseDayOfYear,\n      \"L\": parseMilliseconds,\n      \"m\": parseMonthNumber,\n      \"M\": parseMinutes,\n      \"p\": parsePeriod,\n      \"S\": parseSeconds,\n      \"U\": parseWeekNumberSunday,\n      \"w\": parseWeekdayNumber,\n      \"W\": parseWeekNumberMonday,\n      \"x\": parseLocaleDate,\n      \"X\": parseLocaleTime,\n      \"y\": parseYear,\n      \"Y\": parseFullYear,\n      \"Z\": parseZone,\n      \"%\": parseLiteralPercent\n    };\n\n    // These recursive directive definitions must be deferred.\n    formats.x = newFormat(locale_date, formats);\n    formats.X = newFormat(locale_time, formats);\n    formats.c = newFormat(locale_dateTime, formats);\n    utcFormats.x = newFormat(locale_date, utcFormats);\n    utcFormats.X = newFormat(locale_time, utcFormats);\n    utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n    function newFormat(specifier, formats) {\n      return function(date) {\n        var string = [],\n            i = -1,\n            j = 0,\n            n = specifier.length,\n            c,\n            pad,\n            format;\n\n        if (!(date instanceof Date)) date = new Date(+date);\n\n        while (++i < n) {\n          if (specifier.charCodeAt(i) === 37) {\n            string.push(specifier.slice(j, i));\n            if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n            else pad = c === \"e\" ? \" \" : \"0\";\n            if (format = formats[c]) c = format(date, pad);\n            string.push(c);\n            j = i + 1;\n          }\n        }\n\n        string.push(specifier.slice(j, i));\n        return string.join(\"\");\n      };\n    }\n\n    function newParse(specifier, newDate) {\n      return function(string) {\n        var d = newYear(1900),\n            i = parseSpecifier(d, specifier, string += \"\", 0);\n        if (i != string.length) return null;\n\n        // The am-pm flag is 0 for AM, and 1 for PM.\n        if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n        // Convert day-of-week and week-of-year to day-of-year.\n        if (\"W\" in d || \"U\" in d) {\n          if (!(\"w\" in d)) d.w = \"W\" in d ? 1 : 0;\n          var day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n          d.m = 0;\n          d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n        }\n\n        // If a time zone is specified, all fields are interpreted as UTC and then\n        // offset according to the specified time zone.\n        if (\"Z\" in d) {\n          d.H += d.Z / 100 | 0;\n          d.M += d.Z % 100;\n          return utcDate(d);\n        }\n\n        // Otherwise, all fields are in local time.\n        return newDate(d);\n      };\n    }\n\n    function parseSpecifier(d, specifier, string, j) {\n      var i = 0,\n          n = specifier.length,\n          m = string.length,\n          c,\n          parse;\n\n      while (i < n) {\n        if (j >= m) return -1;\n        c = specifier.charCodeAt(i++);\n        if (c === 37) {\n          c = specifier.charAt(i++);\n          parse = parses[c in pads ? specifier.charAt(i++) : c];\n          if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n        } else if (c != string.charCodeAt(j++)) {\n          return -1;\n        }\n      }\n\n      return j;\n    }\n\n    function parsePeriod(d, string, i) {\n      var n = periodRe.exec(string.slice(i));\n      return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n\n    function parseShortWeekday(d, string, i) {\n      var n = shortWeekdayRe.exec(string.slice(i));\n      return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n\n    function parseWeekday(d, string, i) {\n      var n = weekdayRe.exec(string.slice(i));\n      return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n\n    function parseShortMonth(d, string, i) {\n      var n = shortMonthRe.exec(string.slice(i));\n      return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n\n    function parseMonth(d, string, i) {\n      var n = monthRe.exec(string.slice(i));\n      return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n\n    function parseLocaleDateTime(d, string, i) {\n      return parseSpecifier(d, locale_dateTime, string, i);\n    }\n\n    function parseLocaleDate(d, string, i) {\n      return parseSpecifier(d, locale_date, string, i);\n    }\n\n    function parseLocaleTime(d, string, i) {\n      return parseSpecifier(d, locale_time, string, i);\n    }\n\n    function formatShortWeekday(d) {\n      return locale_shortWeekdays[d.getDay()];\n    }\n\n    function formatWeekday(d) {\n      return locale_weekdays[d.getDay()];\n    }\n\n    function formatShortMonth(d) {\n      return locale_shortMonths[d.getMonth()];\n    }\n\n    function formatMonth(d) {\n      return locale_months[d.getMonth()];\n    }\n\n    function formatPeriod(d) {\n      return locale_periods[+(d.getHours() >= 12)];\n    }\n\n    function formatUTCShortWeekday(d) {\n      return locale_shortWeekdays[d.getUTCDay()];\n    }\n\n    function formatUTCWeekday(d) {\n      return locale_weekdays[d.getUTCDay()];\n    }\n\n    function formatUTCShortMonth(d) {\n      return locale_shortMonths[d.getUTCMonth()];\n    }\n\n    function formatUTCMonth(d) {\n      return locale_months[d.getUTCMonth()];\n    }\n\n    function formatUTCPeriod(d) {\n      return locale_periods[+(d.getUTCHours() >= 12)];\n    }\n\n    return {\n      format: function(specifier) {\n        var f = newFormat(specifier += \"\", formats);\n        f.toString = function() { return specifier; };\n        return f;\n      },\n      parse: function(specifier) {\n        var p = newParse(specifier += \"\", localDate);\n        p.toString = function() { return specifier; };\n        return p;\n      },\n      utcFormat: function(specifier) {\n        var f = newFormat(specifier += \"\", utcFormats);\n        f.toString = function() { return specifier; };\n        return f;\n      },\n      utcParse: function(specifier) {\n        var p = newParse(specifier, utcDate);\n        p.toString = function() { return specifier; };\n        return p;\n      }\n    };\n  }\n\n  var pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"};\n  var numberRe = /^\\s*\\d+/;\n  var percentRe = /^%/;\n  var requoteRe = /[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;\n  function pad(value, fill, width) {\n    var sign = value < 0 ? \"-\" : \"\",\n        string = (sign ? -value : value) + \"\",\n        length = string.length;\n    return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n  }\n\n  function requote(s) {\n    return s.replace(requoteRe, \"\\\\$&\");\n  }\n\n  function formatRe(names) {\n    return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n  }\n\n  function formatLookup(names) {\n    var map = {}, i = -1, n = names.length;\n    while (++i < n) map[names[i].toLowerCase()] = i;\n    return map;\n  }\n\n  function parseWeekdayNumber(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 1));\n    return n ? (d.w = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseWeekNumberSunday(d, string, i) {\n    var n = numberRe.exec(string.slice(i));\n    return n ? (d.U = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseWeekNumberMonday(d, string, i) {\n    var n = numberRe.exec(string.slice(i));\n    return n ? (d.W = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseFullYear(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 4));\n    return n ? (d.y = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseYear(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n  }\n\n  function parseZone(d, string, i) {\n    var n = /^(Z)|([+-]\\d\\d)(?:\\:?(\\d\\d))?/.exec(string.slice(i, i + 6));\n    return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n  }\n\n  function parseMonthNumber(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n  }\n\n  function parseDayOfMonth(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.d = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseDayOfYear(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 3));\n    return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseHour24(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.H = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseMinutes(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.M = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseSeconds(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.S = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseMilliseconds(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 3));\n    return n ? (d.L = +n[0], i + n[0].length) : -1;\n  }\n\n  function parseLiteralPercent(d, string, i) {\n    var n = percentRe.exec(string.slice(i, i + 1));\n    return n ? i + n[0].length : -1;\n  }\n\n  function formatDayOfMonth(d, p) {\n    return pad(d.getDate(), p, 2);\n  }\n\n  function formatHour24(d, p) {\n    return pad(d.getHours(), p, 2);\n  }\n\n  function formatHour12(d, p) {\n    return pad(d.getHours() % 12 || 12, p, 2);\n  }\n\n  function formatDayOfYear(d, p) {\n    return pad(1 + day.count(year(d), d), p, 3);\n  }\n\n  function formatMilliseconds(d, p) {\n    return pad(d.getMilliseconds(), p, 3);\n  }\n\n  function formatMonthNumber(d, p) {\n    return pad(d.getMonth() + 1, p, 2);\n  }\n\n  function formatMinutes(d, p) {\n    return pad(d.getMinutes(), p, 2);\n  }\n\n  function formatSeconds(d, p) {\n    return pad(d.getSeconds(), p, 2);\n  }\n\n  function formatWeekNumberSunday(d, p) {\n    return pad(timeWeek.count(year(d), d), p, 2);\n  }\n\n  function formatWeekdayNumber(d) {\n    return d.getDay();\n  }\n\n  function formatWeekNumberMonday(d, p) {\n    return pad(timeMonday.count(year(d), d), p, 2);\n  }\n\n  function formatYear(d, p) {\n    return pad(d.getFullYear() % 100, p, 2);\n  }\n\n  function formatFullYear(d, p) {\n    return pad(d.getFullYear() % 10000, p, 4);\n  }\n\n  function formatZone(d) {\n    var z = d.getTimezoneOffset();\n    return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n        + pad(z / 60 | 0, \"0\", 2)\n        + pad(z % 60, \"0\", 2);\n  }\n\n  function formatUTCDayOfMonth(d, p) {\n    return pad(d.getUTCDate(), p, 2);\n  }\n\n  function formatUTCHour24(d, p) {\n    return pad(d.getUTCHours(), p, 2);\n  }\n\n  function formatUTCHour12(d, p) {\n    return pad(d.getUTCHours() % 12 || 12, p, 2);\n  }\n\n  function formatUTCDayOfYear(d, p) {\n    return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n  }\n\n  function formatUTCMilliseconds(d, p) {\n    return pad(d.getUTCMilliseconds(), p, 3);\n  }\n\n  function formatUTCMonthNumber(d, p) {\n    return pad(d.getUTCMonth() + 1, p, 2);\n  }\n\n  function formatUTCMinutes(d, p) {\n    return pad(d.getUTCMinutes(), p, 2);\n  }\n\n  function formatUTCSeconds(d, p) {\n    return pad(d.getUTCSeconds(), p, 2);\n  }\n\n  function formatUTCWeekNumberSunday(d, p) {\n    return pad(utcWeek.count(utcYear(d), d), p, 2);\n  }\n\n  function formatUTCWeekdayNumber(d) {\n    return d.getUTCDay();\n  }\n\n  function formatUTCWeekNumberMonday(d, p) {\n    return pad(utcMonday.count(utcYear(d), d), p, 2);\n  }\n\n  function formatUTCYear(d, p) {\n    return pad(d.getUTCFullYear() % 100, p, 2);\n  }\n\n  function formatUTCFullYear(d, p) {\n    return pad(d.getUTCFullYear() % 10000, p, 4);\n  }\n\n  function formatUTCZone() {\n    return \"+0000\";\n  }\n\n  function formatLiteralPercent() {\n    return \"%\";\n  }\n\n  var locale$1;\n  defaultLocale$1({\n    dateTime: \"%x, %X\",\n    date: \"%-m/%-d/%Y\",\n    time: \"%-I:%M:%S %p\",\n    periods: [\"AM\", \"PM\"],\n    days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n    shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n    months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n    shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n  });\n\n  function defaultLocale$1(definition) {\n    locale$1 = formatLocale$1(definition);\n    exports.timeFormat = locale$1.format;\n    exports.timeParse = locale$1.parse;\n    exports.utcFormat = locale$1.utcFormat;\n    exports.utcParse = locale$1.utcParse;\n    return locale$1;\n  }\n\n  var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\n  function formatIsoNative(date) {\n    return date.toISOString();\n  }\n\n  var formatIso = Date.prototype.toISOString\n      ? formatIsoNative\n      : exports.utcFormat(isoSpecifier);\n\n  function parseIsoNative(string) {\n    var date = new Date(string);\n    return isNaN(date) ? null : date;\n  }\n\n  var parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n      ? parseIsoNative\n      : exports.utcParse(isoSpecifier);\n\n  var array$2 = Array.prototype;\n\n  var map$2 = array$2.map;\n  var slice$3 = array$2.slice;\n\n  var implicit = {name: \"implicit\"};\n\n  function ordinal(range) {\n    var index = map$1(),\n        domain = [],\n        unknown = implicit;\n\n    range = range == null ? [] : slice$3.call(range);\n\n    function scale(d) {\n      var key = d + \"\", i = index.get(key);\n      if (!i) {\n        if (unknown !== implicit) return unknown;\n        index.set(key, i = domain.push(d));\n      }\n      return range[(i - 1) % range.length];\n    }\n\n    scale.domain = function(_) {\n      if (!arguments.length) return domain.slice();\n      domain = [], index = map$1();\n      var i = -1, n = _.length, d, key;\n      while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n      return scale;\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = slice$3.call(_), scale) : range.slice();\n    };\n\n    scale.unknown = function(_) {\n      return arguments.length ? (unknown = _, scale) : unknown;\n    };\n\n    scale.copy = function() {\n      return ordinal()\n          .domain(domain)\n          .range(range)\n          .unknown(unknown);\n    };\n\n    return scale;\n  }\n\n  function band() {\n    var scale = ordinal().unknown(undefined),\n        domain = scale.domain,\n        ordinalRange = scale.range,\n        range$$ = [0, 1],\n        step,\n        bandwidth,\n        round = false,\n        paddingInner = 0,\n        paddingOuter = 0,\n        align = 0.5;\n\n    delete scale.unknown;\n\n    function rescale() {\n      var n = domain().length,\n          reverse = range$$[1] < range$$[0],\n          start = range$$[reverse - 0],\n          stop = range$$[1 - reverse];\n      step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n      if (round) step = Math.floor(step);\n      start += (stop - start - step * (n - paddingInner)) * align;\n      bandwidth = step * (1 - paddingInner);\n      if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n      var values = range(n).map(function(i) { return start + step * i; });\n      return ordinalRange(reverse ? values.reverse() : values);\n    }\n\n    scale.domain = function(_) {\n      return arguments.length ? (domain(_), rescale()) : domain();\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range$$ = [+_[0], +_[1]], rescale()) : range$$.slice();\n    };\n\n    scale.rangeRound = function(_) {\n      return range$$ = [+_[0], +_[1]], round = true, rescale();\n    };\n\n    scale.bandwidth = function() {\n      return bandwidth;\n    };\n\n    scale.step = function() {\n      return step;\n    };\n\n    scale.round = function(_) {\n      return arguments.length ? (round = !!_, rescale()) : round;\n    };\n\n    scale.padding = function(_) {\n      return arguments.length ? (paddingInner = paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n    };\n\n    scale.paddingInner = function(_) {\n      return arguments.length ? (paddingInner = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n    };\n\n    scale.paddingOuter = function(_) {\n      return arguments.length ? (paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingOuter;\n    };\n\n    scale.align = function(_) {\n      return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n    };\n\n    scale.copy = function() {\n      return band()\n          .domain(domain())\n          .range(range$$)\n          .round(round)\n          .paddingInner(paddingInner)\n          .paddingOuter(paddingOuter)\n          .align(align);\n    };\n\n    return rescale();\n  }\n\n  function pointish(scale) {\n    var copy = scale.copy;\n\n    scale.padding = scale.paddingOuter;\n    delete scale.paddingInner;\n    delete scale.paddingOuter;\n\n    scale.copy = function() {\n      return pointish(copy());\n    };\n\n    return scale;\n  }\n\n  function point$4() {\n    return pointish(band().paddingInner(1));\n  }\n\n  function constant$3(x) {\n    return function() {\n      return x;\n    };\n  }\n\n  function number$1(x) {\n    return +x;\n  }\n\n  var unit = [0, 1];\n\n  function deinterpolate(a, b) {\n    return (b -= (a = +a))\n        ? function(x) { return (x - a) / b; }\n        : constant$3(b);\n  }\n\n  function deinterpolateClamp(deinterpolate) {\n    return function(a, b) {\n      var d = deinterpolate(a = +a, b = +b);\n      return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n    };\n  }\n\n  function reinterpolateClamp(reinterpolate) {\n    return function(a, b) {\n      var r = reinterpolate(a = +a, b = +b);\n      return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n    };\n  }\n\n  function bimap(domain, range, deinterpolate, reinterpolate) {\n    var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n    if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n    else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n    return function(x) { return r0(d0(x)); };\n  }\n\n  function polymap(domain, range, deinterpolate, reinterpolate) {\n    var j = Math.min(domain.length, range.length) - 1,\n        d = new Array(j),\n        r = new Array(j),\n        i = -1;\n\n    // Reverse descending domains.\n    if (domain[j] < domain[0]) {\n      domain = domain.slice().reverse();\n      range = range.slice().reverse();\n    }\n\n    while (++i < j) {\n      d[i] = deinterpolate(domain[i], domain[i + 1]);\n      r[i] = reinterpolate(range[i], range[i + 1]);\n    }\n\n    return function(x) {\n      var i = bisectRight(domain, x, 1, j) - 1;\n      return r[i](d[i](x));\n    };\n  }\n\n  function copy(source, target) {\n    return target\n        .domain(source.domain())\n        .range(source.range())\n        .interpolate(source.interpolate())\n        .clamp(source.clamp());\n  }\n\n  // deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n  // reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\n  function continuous(deinterpolate$$, reinterpolate) {\n    var domain = unit,\n        range = unit,\n        interpolate$$ = interpolate,\n        clamp = false,\n        piecewise,\n        output,\n        input;\n\n    function rescale() {\n      piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n      output = input = null;\n      return scale;\n    }\n\n    function scale(x) {\n      return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate$$) : deinterpolate$$, interpolate$$)))(+x);\n    }\n\n    scale.invert = function(y) {\n      return (input || (input = piecewise(range, domain, deinterpolate, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n    };\n\n    scale.domain = function(_) {\n      return arguments.length ? (domain = map$2.call(_, number$1), rescale()) : domain.slice();\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = slice$3.call(_), rescale()) : range.slice();\n    };\n\n    scale.rangeRound = function(_) {\n      return range = slice$3.call(_), interpolate$$ = interpolateRound, rescale();\n    };\n\n    scale.clamp = function(_) {\n      return arguments.length ? (clamp = !!_, rescale()) : clamp;\n    };\n\n    scale.interpolate = function(_) {\n      return arguments.length ? (interpolate$$ = _, rescale()) : interpolate$$;\n    };\n\n    return rescale();\n  }\n\n  function tickFormat(domain, count, specifier) {\n    var start = domain[0],\n        stop = domain[domain.length - 1],\n        step = tickStep(start, stop, count == null ? 10 : count),\n        precision;\n    specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n    switch (specifier.type) {\n      case \"s\": {\n        var value = Math.max(Math.abs(start), Math.abs(stop));\n        if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n        return exports.formatPrefix(specifier, value);\n      }\n      case \"\":\n      case \"e\":\n      case \"g\":\n      case \"p\":\n      case \"r\": {\n        if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n        break;\n      }\n      case \"f\":\n      case \"%\": {\n        if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n        break;\n      }\n    }\n    return exports.format(specifier);\n  }\n\n  function linearish(scale) {\n    var domain = scale.domain;\n\n    scale.ticks = function(count) {\n      var d = domain();\n      return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n    };\n\n    scale.tickFormat = function(count, specifier) {\n      return tickFormat(domain(), count, specifier);\n    };\n\n    scale.nice = function(count) {\n      var d = domain(),\n          i = d.length - 1,\n          n = count == null ? 10 : count,\n          start = d[0],\n          stop = d[i],\n          step = tickStep(start, stop, n);\n\n      if (step) {\n        step = tickStep(Math.floor(start / step) * step, Math.ceil(stop / step) * step, n);\n        d[0] = Math.floor(start / step) * step;\n        d[i] = Math.ceil(stop / step) * step;\n        domain(d);\n      }\n\n      return scale;\n    };\n\n    return scale;\n  }\n\n  function linear$2() {\n    var scale = continuous(deinterpolate, interpolateNumber);\n\n    scale.copy = function() {\n      return copy(scale, linear$2());\n    };\n\n    return linearish(scale);\n  }\n\n  function identity$4() {\n    var domain = [0, 1];\n\n    function scale(x) {\n      return +x;\n    }\n\n    scale.invert = scale;\n\n    scale.domain = scale.range = function(_) {\n      return arguments.length ? (domain = map$2.call(_, number$1), scale) : domain.slice();\n    };\n\n    scale.copy = function() {\n      return identity$4().domain(domain);\n    };\n\n    return linearish(scale);\n  }\n\n  function nice(domain, interval) {\n    domain = domain.slice();\n\n    var i0 = 0,\n        i1 = domain.length - 1,\n        x0 = domain[i0],\n        x1 = domain[i1],\n        t;\n\n    if (x1 < x0) {\n      t = i0, i0 = i1, i1 = t;\n      t = x0, x0 = x1, x1 = t;\n    }\n\n    domain[i0] = interval.floor(x0);\n    domain[i1] = interval.ceil(x1);\n    return domain;\n  }\n\n  function deinterpolate$1(a, b) {\n    return (b = Math.log(b / a))\n        ? function(x) { return Math.log(x / a) / b; }\n        : constant$3(b);\n  }\n\n  function reinterpolate(a, b) {\n    return a < 0\n        ? function(t) { return -Math.pow(-b, t) * Math.pow(-a, 1 - t); }\n        : function(t) { return Math.pow(b, t) * Math.pow(a, 1 - t); };\n  }\n\n  function pow10(x) {\n    return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n  }\n\n  function powp(base) {\n    return base === 10 ? pow10\n        : base === Math.E ? Math.exp\n        : function(x) { return Math.pow(base, x); };\n  }\n\n  function logp(base) {\n    return base === Math.E ? Math.log\n        : base === 10 && Math.log10\n        || base === 2 && Math.log2\n        || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n  }\n\n  function reflect(f) {\n    return function(x) {\n      return -f(-x);\n    };\n  }\n\n  function log() {\n    var scale = continuous(deinterpolate$1, reinterpolate).domain([1, 10]),\n        domain = scale.domain,\n        base = 10,\n        logs = logp(10),\n        pows = powp(10);\n\n    function rescale() {\n      logs = logp(base), pows = powp(base);\n      if (domain()[0] < 0) logs = reflect(logs), pows = reflect(pows);\n      return scale;\n    }\n\n    scale.base = function(_) {\n      return arguments.length ? (base = +_, rescale()) : base;\n    };\n\n    scale.domain = function(_) {\n      return arguments.length ? (domain(_), rescale()) : domain();\n    };\n\n    scale.ticks = function(count) {\n      var d = domain(),\n          u = d[0],\n          v = d[d.length - 1],\n          r;\n\n      if (r = v < u) i = u, u = v, v = i;\n\n      var i = logs(u),\n          j = logs(v),\n          p,\n          k,\n          t,\n          n = count == null ? 10 : +count,\n          z = [];\n\n      if (!(base % 1) && j - i < n) {\n        i = Math.round(i) - 1, j = Math.round(j) + 1;\n        if (u > 0) for (; i < j; ++i) {\n          for (k = 1, p = pows(i); k < base; ++k) {\n            t = p * k;\n            if (t < u) continue;\n            if (t > v) break;\n            z.push(t);\n          }\n        } else for (; i < j; ++i) {\n          for (k = base - 1, p = pows(i); k >= 1; --k) {\n            t = p * k;\n            if (t < u) continue;\n            if (t > v) break;\n            z.push(t);\n          }\n        }\n      } else {\n        z = ticks(i, j, Math.min(j - i, n)).map(pows);\n      }\n\n      return r ? z.reverse() : z;\n    };\n\n    scale.tickFormat = function(count, specifier) {\n      if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n      if (typeof specifier !== \"function\") specifier = exports.format(specifier);\n      if (count === Infinity) return specifier;\n      if (count == null) count = 10;\n      var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n      return function(d) {\n        var i = d / pows(Math.round(logs(d)));\n        if (i * base < base - 0.5) i *= base;\n        return i <= k ? specifier(d) : \"\";\n      };\n    };\n\n    scale.nice = function() {\n      return domain(nice(domain(), {\n        floor: function(x) { return pows(Math.floor(logs(x))); },\n        ceil: function(x) { return pows(Math.ceil(logs(x))); }\n      }));\n    };\n\n    scale.copy = function() {\n      return copy(scale, log().base(base));\n    };\n\n    return scale;\n  }\n\n  function raise(x, exponent) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  }\n\n  function pow() {\n    var exponent = 1,\n        scale = continuous(deinterpolate, reinterpolate),\n        domain = scale.domain;\n\n    function deinterpolate(a, b) {\n      return (b = raise(b, exponent) - (a = raise(a, exponent)))\n          ? function(x) { return (raise(x, exponent) - a) / b; }\n          : constant$3(b);\n    }\n\n    function reinterpolate(a, b) {\n      b = raise(b, exponent) - (a = raise(a, exponent));\n      return function(t) { return raise(a + b * t, 1 / exponent); };\n    }\n\n    scale.exponent = function(_) {\n      return arguments.length ? (exponent = +_, domain(domain())) : exponent;\n    };\n\n    scale.copy = function() {\n      return copy(scale, pow().exponent(exponent));\n    };\n\n    return linearish(scale);\n  }\n\n  function sqrt() {\n    return pow().exponent(0.5);\n  }\n\n  function quantile() {\n    var domain = [],\n        range = [],\n        thresholds = [];\n\n    function rescale() {\n      var i = 0, n = Math.max(1, range.length);\n      thresholds = new Array(n - 1);\n      while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n      return scale;\n    }\n\n    function scale(x) {\n      if (!isNaN(x = +x)) return range[bisectRight(thresholds, x)];\n    }\n\n    scale.invertExtent = function(y) {\n      var i = range.indexOf(y);\n      return i < 0 ? [NaN, NaN] : [\n        i > 0 ? thresholds[i - 1] : domain[0],\n        i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n      ];\n    };\n\n    scale.domain = function(_) {\n      if (!arguments.length) return domain.slice();\n      domain = [];\n      for (var i = 0, n = _.length, d; i < n; ++i) if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n      domain.sort(ascending);\n      return rescale();\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = slice$3.call(_), rescale()) : range.slice();\n    };\n\n    scale.quantiles = function() {\n      return thresholds.slice();\n    };\n\n    scale.copy = function() {\n      return quantile()\n          .domain(domain)\n          .range(range);\n    };\n\n    return scale;\n  }\n\n  function quantize$1() {\n    var x0 = 0,\n        x1 = 1,\n        n = 1,\n        domain = [0.5],\n        range = [0, 1];\n\n    function scale(x) {\n      if (x <= x) return range[bisectRight(domain, x, 0, n)];\n    }\n\n    function rescale() {\n      var i = -1;\n      domain = new Array(n);\n      while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n      return scale;\n    }\n\n    scale.domain = function(_) {\n      return arguments.length ? (x0 = +_[0], x1 = +_[1], rescale()) : [x0, x1];\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (n = (range = slice$3.call(_)).length - 1, rescale()) : range.slice();\n    };\n\n    scale.invertExtent = function(y) {\n      var i = range.indexOf(y);\n      return i < 0 ? [NaN, NaN]\n          : i < 1 ? [x0, domain[0]]\n          : i >= n ? [domain[n - 1], x1]\n          : [domain[i - 1], domain[i]];\n    };\n\n    scale.copy = function() {\n      return quantize$1()\n          .domain([x0, x1])\n          .range(range);\n    };\n\n    return linearish(scale);\n  }\n\n  function threshold$1() {\n    var domain = [0.5],\n        range = [0, 1],\n        n = 1;\n\n    function scale(x) {\n      if (x <= x) return range[bisectRight(domain, x, 0, n)];\n    }\n\n    scale.domain = function(_) {\n      return arguments.length ? (domain = slice$3.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = slice$3.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n    };\n\n    scale.invertExtent = function(y) {\n      var i = range.indexOf(y);\n      return [domain[i - 1], domain[i]];\n    };\n\n    scale.copy = function() {\n      return threshold$1()\n          .domain(domain)\n          .range(range);\n    };\n\n    return scale;\n  }\n\nvar   durationSecond$1 = 1000;\nvar   durationMinute$1 = durationSecond$1 * 60;\nvar   durationHour$1 = durationMinute$1 * 60;\nvar   durationDay$1 = durationHour$1 * 24;\nvar   durationWeek$1 = durationDay$1 * 7;\n  var durationMonth = durationDay$1 * 30;\n  var durationYear = durationDay$1 * 365;\n  function date$1(t) {\n    return new Date(t);\n  }\n\n  function number$2(t) {\n    return t instanceof Date ? +t : +new Date(+t);\n  }\n\n  function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n    var scale = continuous(deinterpolate, interpolateNumber),\n        invert = scale.invert,\n        domain = scale.domain;\n\n    var formatMillisecond = format(\".%L\"),\n        formatSecond = format(\":%S\"),\n        formatMinute = format(\"%I:%M\"),\n        formatHour = format(\"%I %p\"),\n        formatDay = format(\"%a %d\"),\n        formatWeek = format(\"%b %d\"),\n        formatMonth = format(\"%B\"),\n        formatYear = format(\"%Y\");\n\n    var tickIntervals = [\n      [second,  1,      durationSecond$1],\n      [second,  5,  5 * durationSecond$1],\n      [second, 15, 15 * durationSecond$1],\n      [second, 30, 30 * durationSecond$1],\n      [minute,  1,      durationMinute$1],\n      [minute,  5,  5 * durationMinute$1],\n      [minute, 15, 15 * durationMinute$1],\n      [minute, 30, 30 * durationMinute$1],\n      [  hour,  1,      durationHour$1  ],\n      [  hour,  3,  3 * durationHour$1  ],\n      [  hour,  6,  6 * durationHour$1  ],\n      [  hour, 12, 12 * durationHour$1  ],\n      [   day,  1,      durationDay$1   ],\n      [   day,  2,  2 * durationDay$1   ],\n      [  week,  1,      durationWeek$1  ],\n      [ month,  1,      durationMonth ],\n      [ month,  3,  3 * durationMonth ],\n      [  year,  1,      durationYear  ]\n    ];\n\n    function tickFormat(date) {\n      return (second(date) < date ? formatMillisecond\n          : minute(date) < date ? formatSecond\n          : hour(date) < date ? formatMinute\n          : day(date) < date ? formatHour\n          : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n          : year(date) < date ? formatMonth\n          : formatYear)(date);\n    }\n\n    function tickInterval(interval, start, stop, step) {\n      if (interval == null) interval = 10;\n\n      // If a desired tick count is specified, pick a reasonable tick interval\n      // based on the extent of the domain and a rough estimate of tick size.\n      // Otherwise, assume interval is already a time interval and use it.\n      if (typeof interval === \"number\") {\n        var target = Math.abs(stop - start) / interval,\n            i = bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n        if (i === tickIntervals.length) {\n          step = tickStep(start / durationYear, stop / durationYear, interval);\n          interval = year;\n        } else if (i) {\n          i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n          step = i[1];\n          interval = i[0];\n        } else {\n          step = tickStep(start, stop, interval);\n          interval = millisecond;\n        }\n      }\n\n      return step == null ? interval : interval.every(step);\n    }\n\n    scale.invert = function(y) {\n      return new Date(invert(y));\n    };\n\n    scale.domain = function(_) {\n      return arguments.length ? domain(map$2.call(_, number$2)) : domain().map(date$1);\n    };\n\n    scale.ticks = function(interval, step) {\n      var d = domain(),\n          t0 = d[0],\n          t1 = d[d.length - 1],\n          r = t1 < t0,\n          t;\n      if (r) t = t0, t0 = t1, t1 = t;\n      t = tickInterval(interval, t0, t1, step);\n      t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n      return r ? t.reverse() : t;\n    };\n\n    scale.tickFormat = function(count, specifier) {\n      return specifier == null ? tickFormat : format(specifier);\n    };\n\n    scale.nice = function(interval, step) {\n      var d = domain();\n      return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n          ? domain(nice(d, interval))\n          : scale;\n    };\n\n    scale.copy = function() {\n      return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n    };\n\n    return scale;\n  }\n\n  function time() {\n    return calendar(year, month, timeWeek, day, hour, minute, second, millisecond, exports.timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]);\n  }\n\n  function utcTime() {\n    return calendar(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, second, millisecond, exports.utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]);\n  }\n\n  function colors(s) {\n    return s.match(/.{6}/g).map(function(x) {\n      return \"#\" + x;\n    });\n  }\n\n  var category10 = colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n\n  var category20b = colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n\n  var category20c = colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n\n  var category20 = colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n\n  var cubehelix$3 = interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n\n  var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\n  var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\n  var rainbow = cubehelix();\n\n  function rainbow$1(t) {\n    if (t < 0 || t > 1) t -= Math.floor(t);\n    var ts = Math.abs(t - 0.5);\n    rainbow.h = 360 * t - 100;\n    rainbow.s = 1.5 - 1.5 * ts;\n    rainbow.l = 0.8 - 0.9 * ts;\n    return rainbow + \"\";\n  }\n\n  function ramp(range) {\n    var n = range.length;\n    return function(t) {\n      return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n    };\n  }\n\n  var viridis = ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\n  var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\n  var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\n  var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n\n  function sequential(interpolator) {\n    var x0 = 0,\n        x1 = 1,\n        clamp = false;\n\n    function scale(x) {\n      var t = (x - x0) / (x1 - x0);\n      return interpolator(clamp ? Math.max(0, Math.min(1, t)) : t);\n    }\n\n    scale.domain = function(_) {\n      return arguments.length ? (x0 = +_[0], x1 = +_[1], scale) : [x0, x1];\n    };\n\n    scale.clamp = function(_) {\n      return arguments.length ? (clamp = !!_, scale) : clamp;\n    };\n\n    scale.interpolator = function(_) {\n      return arguments.length ? (interpolator = _, scale) : interpolator;\n    };\n\n    scale.copy = function() {\n      return sequential(interpolator).domain([x0, x1]).clamp(clamp);\n    };\n\n    return linearish(scale);\n  }\n\n  var xhtml = \"http://www.w3.org/1999/xhtml\";\n\n  var namespaces = {\n    svg: \"http://www.w3.org/2000/svg\",\n    xhtml: xhtml,\n    xlink: \"http://www.w3.org/1999/xlink\",\n    xml: \"http://www.w3.org/XML/1998/namespace\",\n    xmlns: \"http://www.w3.org/2000/xmlns/\"\n  };\n\n  function namespace(name) {\n    var prefix = name += \"\", i = prefix.indexOf(\":\");\n    if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n    return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n  }\n\n  function creatorInherit(name) {\n    return function() {\n      var document = this.ownerDocument,\n          uri = this.namespaceURI;\n      return uri === xhtml && document.documentElement.namespaceURI === xhtml\n          ? document.createElement(name)\n          : document.createElementNS(uri, name);\n    };\n  }\n\n  function creatorFixed(fullname) {\n    return function() {\n      return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n    };\n  }\n\n  function creator(name) {\n    var fullname = namespace(name);\n    return (fullname.local\n        ? creatorFixed\n        : creatorInherit)(fullname);\n  }\n\n  var nextId = 0;\n\n  function local() {\n    return new Local;\n  }\n\n  function Local() {\n    this._ = \"@\" + (++nextId).toString(36);\n  }\n\n  Local.prototype = local.prototype = {\n    constructor: Local,\n    get: function(node) {\n      var id = this._;\n      while (!(id in node)) if (!(node = node.parentNode)) return;\n      return node[id];\n    },\n    set: function(node, value) {\n      return node[this._] = value;\n    },\n    remove: function(node) {\n      return this._ in node && delete node[this._];\n    },\n    toString: function() {\n      return this._;\n    }\n  };\n\n  var matcher = function(selector) {\n    return function() {\n      return this.matches(selector);\n    };\n  };\n\n  if (typeof document !== \"undefined\") {\n    var element = document.documentElement;\n    if (!element.matches) {\n      var vendorMatches = element.webkitMatchesSelector\n          || element.msMatchesSelector\n          || element.mozMatchesSelector\n          || element.oMatchesSelector;\n      matcher = function(selector) {\n        return function() {\n          return vendorMatches.call(this, selector);\n        };\n      };\n    }\n  }\n\n  var matcher$1 = matcher;\n\n  var filterEvents = {};\n\n  exports.event = null;\n\n  if (typeof document !== \"undefined\") {\n    var element$1 = document.documentElement;\n    if (!(\"onmouseenter\" in element$1)) {\n      filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n    }\n  }\n\n  function filterContextListener(listener, index, group) {\n    listener = contextListener(listener, index, group);\n    return function(event) {\n      var related = event.relatedTarget;\n      if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n        listener.call(this, event);\n      }\n    };\n  }\n\n  function contextListener(listener, index, group) {\n    return function(event1) {\n      var event0 = exports.event; // Events can be reentrant (e.g., focus).\n      exports.event = event1;\n      try {\n        listener.call(this, this.__data__, index, group);\n      } finally {\n        exports.event = event0;\n      }\n    };\n  }\n\n  function parseTypenames$1(typenames) {\n    return typenames.trim().split(/^|\\s+/).map(function(t) {\n      var name = \"\", i = t.indexOf(\".\");\n      if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n      return {type: t, name: name};\n    });\n  }\n\n  function onRemove(typename) {\n    return function() {\n      var on = this.__on;\n      if (!on) return;\n      for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n        if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n          this.removeEventListener(o.type, o.listener, o.capture);\n        } else {\n          on[++i] = o;\n        }\n      }\n      if (++i) on.length = i;\n      else delete this.__on;\n    };\n  }\n\n  function onAdd(typename, value, capture) {\n    var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n    return function(d, i, group) {\n      var on = this.__on, o, listener = wrap(value, i, group);\n      if (on) for (var j = 0, m = on.length; j < m; ++j) {\n        if ((o = on[j]).type === typename.type && o.name === typename.name) {\n          this.removeEventListener(o.type, o.listener, o.capture);\n          this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n          o.value = value;\n          return;\n        }\n      }\n      this.addEventListener(typename.type, listener, capture);\n      o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n      if (!on) this.__on = [o];\n      else on.push(o);\n    };\n  }\n\n  function selection_on(typename, value, capture) {\n    var typenames = parseTypenames$1(typename + \"\"), i, n = typenames.length, t;\n\n    if (arguments.length < 2) {\n      var on = this.node().__on;\n      if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n        for (i = 0, o = on[j]; i < n; ++i) {\n          if ((t = typenames[i]).type === o.type && t.name === o.name) {\n            return o.value;\n          }\n        }\n      }\n      return;\n    }\n\n    on = value ? onAdd : onRemove;\n    if (capture == null) capture = false;\n    for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n    return this;\n  }\n\n  function customEvent(event1, listener, that, args) {\n    var event0 = exports.event;\n    event1.sourceEvent = exports.event;\n    exports.event = event1;\n    try {\n      return listener.apply(that, args);\n    } finally {\n      exports.event = event0;\n    }\n  }\n\n  function sourceEvent() {\n    var current = exports.event, source;\n    while (source = current.sourceEvent) current = source;\n    return current;\n  }\n\n  function point$5(node, event) {\n    var svg = node.ownerSVGElement || node;\n\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n\n    var rect = node.getBoundingClientRect();\n    return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n  }\n\n  function mouse(node) {\n    var event = sourceEvent();\n    if (event.changedTouches) event = event.changedTouches[0];\n    return point$5(node, event);\n  }\n\n  function none$2() {}\n\n  function selector(selector) {\n    return selector == null ? none$2 : function() {\n      return this.querySelector(selector);\n    };\n  }\n\n  function selection_select(select) {\n    if (typeof select !== \"function\") select = selector(select);\n\n    for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n      for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n        if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n          if (\"__data__\" in node) subnode.__data__ = node.__data__;\n          subgroup[i] = subnode;\n        }\n      }\n    }\n\n    return new Selection(subgroups, this._parents);\n  }\n\n  function empty() {\n    return [];\n  }\n\n  function selectorAll(selector) {\n    return selector == null ? empty : function() {\n      return this.querySelectorAll(selector);\n    };\n  }\n\n  function selection_selectAll(select) {\n    if (typeof select !== \"function\") select = selectorAll(select);\n\n    for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n      for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n        if (node = group[i]) {\n          subgroups.push(select.call(node, node.__data__, i, group));\n          parents.push(node);\n        }\n      }\n    }\n\n    return new Selection(subgroups, parents);\n  }\n\n  function selection_filter(match) {\n    if (typeof match !== \"function\") match = matcher$1(match);\n\n    for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n      for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n        if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n          subgroup.push(node);\n        }\n      }\n    }\n\n    return new Selection(subgroups, this._parents);\n  }\n\n  function sparse(update) {\n    return new Array(update.length);\n  }\n\n  function selection_enter() {\n    return new Selection(this._enter || this._groups.map(sparse), this._parents);\n  }\n\n  function EnterNode(parent, datum) {\n    this.ownerDocument = parent.ownerDocument;\n    this.namespaceURI = parent.namespaceURI;\n    this._next = null;\n    this._parent = parent;\n    this.__data__ = datum;\n  }\n\n  EnterNode.prototype = {\n    constructor: EnterNode,\n    appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n    insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n    querySelector: function(selector) { return this._parent.querySelector(selector); },\n    querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n  };\n\n  function constant$4(x) {\n    return function() {\n      return x;\n    };\n  }\n\n  var keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\n  function bindIndex(parent, group, enter, update, exit, data) {\n    var i = 0,\n        node,\n        groupLength = group.length,\n        dataLength = data.length;\n\n    // Put any non-null nodes that fit into update.\n    // Put any null nodes into enter.\n    // Put any remaining data into enter.\n    for (; i < dataLength; ++i) {\n      if (node = group[i]) {\n        node.__data__ = data[i];\n        update[i] = node;\n      } else {\n        enter[i] = new EnterNode(parent, data[i]);\n      }\n    }\n\n    // Put any non-null nodes that don’t fit into exit.\n    for (; i < groupLength; ++i) {\n      if (node = group[i]) {\n        exit[i] = node;\n      }\n    }\n  }\n\n  function bindKey(parent, group, enter, update, exit, data, key) {\n    var i,\n        node,\n        nodeByKeyValue = {},\n        groupLength = group.length,\n        dataLength = data.length,\n        keyValues = new Array(groupLength),\n        keyValue;\n\n    // Compute the key for each node.\n    // If multiple nodes have the same key, the duplicates are added to exit.\n    for (i = 0; i < groupLength; ++i) {\n      if (node = group[i]) {\n        keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n        if (keyValue in nodeByKeyValue) {\n          exit[i] = node;\n        } else {\n          nodeByKeyValue[keyValue] = node;\n        }\n      }\n    }\n\n    // Compute the key for each datum.\n    // If there a node associated with this key, join and add it to update.\n    // If there is not (or the key is a duplicate), add it to enter.\n    for (i = 0; i < dataLength; ++i) {\n      keyValue = keyPrefix + key.call(parent, data[i], i, data);\n      if (node = nodeByKeyValue[keyValue]) {\n        update[i] = node;\n        node.__data__ = data[i];\n        nodeByKeyValue[keyValue] = null;\n      } else {\n        enter[i] = new EnterNode(parent, data[i]);\n      }\n    }\n\n    // Add any remaining nodes that were not bound to data to exit.\n    for (i = 0; i < groupLength; ++i) {\n      if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n        exit[i] = node;\n      }\n    }\n  }\n\n  function selection_data(value, key) {\n    if (!value) {\n      data = new Array(this.size()), j = -1;\n      this.each(function(d) { data[++j] = d; });\n      return data;\n    }\n\n    var bind = key ? bindKey : bindIndex,\n        parents = this._parents,\n        groups = this._groups;\n\n    if (typeof value !== \"function\") value = constant$4(value);\n\n    for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n      var parent = parents[j],\n          group = groups[j],\n          groupLength = group.length,\n          data = value.call(parent, parent && parent.__data__, j, parents),\n          dataLength = data.length,\n          enterGroup = enter[j] = new Array(dataLength),\n          updateGroup = update[j] = new Array(dataLength),\n          exitGroup = exit[j] = new Array(groupLength);\n\n      bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n      // Now connect the enter nodes to their following update node, such that\n      // appendChild can insert the materialized enter node before this node,\n      // rather than at the end of the parent node.\n      for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n        if (previous = enterGroup[i0]) {\n          if (i0 >= i1) i1 = i0 + 1;\n          while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n          previous._next = next || null;\n        }\n      }\n    }\n\n    update = new Selection(update, parents);\n    update._enter = enter;\n    update._exit = exit;\n    return update;\n  }\n\n  function selection_exit() {\n    return new Selection(this._exit || this._groups.map(sparse), this._parents);\n  }\n\n  function selection_merge(selection) {\n\n    for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n      for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n        if (node = group0[i] || group1[i]) {\n          merge[i] = node;\n        }\n      }\n    }\n\n    for (; j < m0; ++j) {\n      merges[j] = groups0[j];\n    }\n\n    return new Selection(merges, this._parents);\n  }\n\n  function selection_order() {\n\n    for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n      for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n        if (node = group[i]) {\n          if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n          next = node;\n        }\n      }\n    }\n\n    return this;\n  }\n\n  function selection_sort(compare) {\n    if (!compare) compare = ascending$2;\n\n    function compareNode(a, b) {\n      return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n    }\n\n    for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n      for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n        if (node = group[i]) {\n          sortgroup[i] = node;\n        }\n      }\n      sortgroup.sort(compareNode);\n    }\n\n    return new Selection(sortgroups, this._parents).order();\n  }\n\n  function ascending$2(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n  }\n\n  function selection_call() {\n    var callback = arguments[0];\n    arguments[0] = this;\n    callback.apply(null, arguments);\n    return this;\n  }\n\n  function selection_nodes() {\n    var nodes = new Array(this.size()), i = -1;\n    this.each(function() { nodes[++i] = this; });\n    return nodes;\n  }\n\n  function selection_node() {\n\n    for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n      for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n        var node = group[i];\n        if (node) return node;\n      }\n    }\n\n    return null;\n  }\n\n  function selection_size() {\n    var size = 0;\n    this.each(function() { ++size; });\n    return size;\n  }\n\n  function selection_empty() {\n    return !this.node();\n  }\n\n  function selection_each(callback) {\n\n    for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n      for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n        if (node = group[i]) callback.call(node, node.__data__, i, group);\n      }\n    }\n\n    return this;\n  }\n\n  function attrRemove(name) {\n    return function() {\n      this.removeAttribute(name);\n    };\n  }\n\n  function attrRemoveNS(fullname) {\n    return function() {\n      this.removeAttributeNS(fullname.space, fullname.local);\n    };\n  }\n\n  function attrConstant(name, value) {\n    return function() {\n      this.setAttribute(name, value);\n    };\n  }\n\n  function attrConstantNS(fullname, value) {\n    return function() {\n      this.setAttributeNS(fullname.space, fullname.local, value);\n    };\n  }\n\n  function attrFunction(name, value) {\n    return function() {\n      var v = value.apply(this, arguments);\n      if (v == null) this.removeAttribute(name);\n      else this.setAttribute(name, v);\n    };\n  }\n\n  function attrFunctionNS(fullname, value) {\n    return function() {\n      var v = value.apply(this, arguments);\n      if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n      else this.setAttributeNS(fullname.space, fullname.local, v);\n    };\n  }\n\n  function selection_attr(name, value) {\n    var fullname = namespace(name);\n\n    if (arguments.length < 2) {\n      var node = this.node();\n      return fullname.local\n          ? node.getAttributeNS(fullname.space, fullname.local)\n          : node.getAttribute(fullname);\n    }\n\n    return this.each((value == null\n        ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n        ? (fullname.local ? attrFunctionNS : attrFunction)\n        : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n  }\n\n  function window(node) {\n    return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n        || (node.document && node) // node is a Window\n        || node.defaultView; // node is a Document\n  }\n\n  function styleRemove(name) {\n    return function() {\n      this.style.removeProperty(name);\n    };\n  }\n\n  function styleConstant(name, value, priority) {\n    return function() {\n      this.style.setProperty(name, value, priority);\n    };\n  }\n\n  function styleFunction(name, value, priority) {\n    return function() {\n      var v = value.apply(this, arguments);\n      if (v == null) this.style.removeProperty(name);\n      else this.style.setProperty(name, v, priority);\n    };\n  }\n\n  function selection_style(name, value, priority) {\n    var node;\n    return arguments.length > 1\n        ? this.each((value == null\n              ? styleRemove : typeof value === \"function\"\n              ? styleFunction\n              : styleConstant)(name, value, priority == null ? \"\" : priority))\n        : window(node = this.node())\n            .getComputedStyle(node, null)\n            .getPropertyValue(name);\n  }\n\n  function propertyRemove(name) {\n    return function() {\n      delete this[name];\n    };\n  }\n\n  function propertyConstant(name, value) {\n    return function() {\n      this[name] = value;\n    };\n  }\n\n  function propertyFunction(name, value) {\n    return function() {\n      var v = value.apply(this, arguments);\n      if (v == null) delete this[name];\n      else this[name] = v;\n    };\n  }\n\n  function selection_property(name, value) {\n    return arguments.length > 1\n        ? this.each((value == null\n            ? propertyRemove : typeof value === \"function\"\n            ? propertyFunction\n            : propertyConstant)(name, value))\n        : this.node()[name];\n  }\n\n  function classArray(string) {\n    return string.trim().split(/^|\\s+/);\n  }\n\n  function classList(node) {\n    return node.classList || new ClassList(node);\n  }\n\n  function ClassList(node) {\n    this._node = node;\n    this._names = classArray(node.getAttribute(\"class\") || \"\");\n  }\n\n  ClassList.prototype = {\n    add: function(name) {\n      var i = this._names.indexOf(name);\n      if (i < 0) {\n        this._names.push(name);\n        this._node.setAttribute(\"class\", this._names.join(\" \"));\n      }\n    },\n    remove: function(name) {\n      var i = this._names.indexOf(name);\n      if (i >= 0) {\n        this._names.splice(i, 1);\n        this._node.setAttribute(\"class\", this._names.join(\" \"));\n      }\n    },\n    contains: function(name) {\n      return this._names.indexOf(name) >= 0;\n    }\n  };\n\n  function classedAdd(node, names) {\n    var list = classList(node), i = -1, n = names.length;\n    while (++i < n) list.add(names[i]);\n  }\n\n  function classedRemove(node, names) {\n    var list = classList(node), i = -1, n = names.length;\n    while (++i < n) list.remove(names[i]);\n  }\n\n  function classedTrue(names) {\n    return function() {\n      classedAdd(this, names);\n    };\n  }\n\n  function classedFalse(names) {\n    return function() {\n      classedRemove(this, names);\n    };\n  }\n\n  function classedFunction(names, value) {\n    return function() {\n      (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n    };\n  }\n\n  function selection_classed(name, value) {\n    var names = classArray(name + \"\");\n\n    if (arguments.length < 2) {\n      var list = classList(this.node()), i = -1, n = names.length;\n      while (++i < n) if (!list.contains(names[i])) return false;\n      return true;\n    }\n\n    return this.each((typeof value === \"function\"\n        ? classedFunction : value\n        ? classedTrue\n        : classedFalse)(names, value));\n  }\n\n  function textRemove() {\n    this.textContent = \"\";\n  }\n\n  function textConstant(value) {\n    return function() {\n      this.textContent = value;\n    };\n  }\n\n  function textFunction(value) {\n    return function() {\n      var v = value.apply(this, arguments);\n      this.textContent = v == null ? \"\" : v;\n    };\n  }\n\n  function selection_text(value) {\n    return arguments.length\n        ? this.each(value == null\n            ? textRemove : (typeof value === \"function\"\n            ? textFunction\n            : textConstant)(value))\n        : this.node().textContent;\n  }\n\n  function htmlRemove() {\n    this.innerHTML = \"\";\n  }\n\n  function htmlConstant(value) {\n    return function() {\n      this.innerHTML = value;\n    };\n  }\n\n  function htmlFunction(value) {\n    return function() {\n      var v = value.apply(this, arguments);\n      this.innerHTML = v == null ? \"\" : v;\n    };\n  }\n\n  function selection_html(value) {\n    return arguments.length\n        ? this.each(value == null\n            ? htmlRemove : (typeof value === \"function\"\n            ? htmlFunction\n            : htmlConstant)(value))\n        : this.node().innerHTML;\n  }\n\n  function raise$1() {\n    if (this.nextSibling) this.parentNode.appendChild(this);\n  }\n\n  function selection_raise() {\n    return this.each(raise$1);\n  }\n\n  function lower() {\n    if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n  }\n\n  function selection_lower() {\n    return this.each(lower);\n  }\n\n  function selection_append(name) {\n    var create = typeof name === \"function\" ? name : creator(name);\n    return this.select(function() {\n      return this.appendChild(create.apply(this, arguments));\n    });\n  }\n\n  function constantNull() {\n    return null;\n  }\n\n  function selection_insert(name, before) {\n    var create = typeof name === \"function\" ? name : creator(name),\n        select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n    return this.select(function() {\n      return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n    });\n  }\n\n  function remove() {\n    var parent = this.parentNode;\n    if (parent) parent.removeChild(this);\n  }\n\n  function selection_remove() {\n    return this.each(remove);\n  }\n\n  function selection_datum(value) {\n    return arguments.length\n        ? this.property(\"__data__\", value)\n        : this.node().__data__;\n  }\n\n  function dispatchEvent(node, type, params) {\n    var window$$ = window(node),\n        event = window$$.CustomEvent;\n\n    if (event) {\n      event = new event(type, params);\n    } else {\n      event = window$$.document.createEvent(\"Event\");\n      if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n      else event.initEvent(type, false, false);\n    }\n\n    node.dispatchEvent(event);\n  }\n\n  function dispatchConstant(type, params) {\n    return function() {\n      return dispatchEvent(this, type, params);\n    };\n  }\n\n  function dispatchFunction(type, params) {\n    return function() {\n      return dispatchEvent(this, type, params.apply(this, arguments));\n    };\n  }\n\n  function selection_dispatch(type, params) {\n    return this.each((typeof params === \"function\"\n        ? dispatchFunction\n        : dispatchConstant)(type, params));\n  }\n\n  var root = [null];\n\n  function Selection(groups, parents) {\n    this._groups = groups;\n    this._parents = parents;\n  }\n\n  function selection() {\n    return new Selection([[document.documentElement]], root);\n  }\n\n  Selection.prototype = selection.prototype = {\n    constructor: Selection,\n    select: selection_select,\n    selectAll: selection_selectAll,\n    filter: selection_filter,\n    data: selection_data,\n    enter: selection_enter,\n    exit: selection_exit,\n    merge: selection_merge,\n    order: selection_order,\n    sort: selection_sort,\n    call: selection_call,\n    nodes: selection_nodes,\n    node: selection_node,\n    size: selection_size,\n    empty: selection_empty,\n    each: selection_each,\n    attr: selection_attr,\n    style: selection_style,\n    property: selection_property,\n    classed: selection_classed,\n    text: selection_text,\n    html: selection_html,\n    raise: selection_raise,\n    lower: selection_lower,\n    append: selection_append,\n    insert: selection_insert,\n    remove: selection_remove,\n    datum: selection_datum,\n    on: selection_on,\n    dispatch: selection_dispatch\n  };\n\n  function select(selector) {\n    return typeof selector === \"string\"\n        ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n        : new Selection([[selector]], root);\n  }\n\n  function selectAll(selector) {\n    return typeof selector === \"string\"\n        ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n        : new Selection([selector == null ? [] : selector], root);\n  }\n\n  function touch(node, touches, identifier) {\n    if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n    for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n      if ((touch = touches[i]).identifier === identifier) {\n        return point$5(node, touch);\n      }\n    }\n\n    return null;\n  }\n\n  function touches(node, touches) {\n    if (touches == null) touches = sourceEvent().touches;\n\n    for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n      points[i] = point$5(node, touches[i]);\n    }\n\n    return points;\n  }\n\n  var emptyOn = dispatch(\"start\", \"end\", \"interrupt\");\n  var emptyTween = [];\n\n  var CREATED = 0;\n  var SCHEDULED = 1;\n  var STARTING = 2;\n  var STARTED = 3;\n  var ENDING = 4;\n  var ENDED = 5;\n\n  function schedule(node, name, id, index, group, timing) {\n    var schedules = node.__transition;\n    if (!schedules) node.__transition = {};\n    else if (id in schedules) return;\n    create(node, id, {\n      name: name,\n      index: index, // For context during callback.\n      group: group, // For context during callback.\n      on: emptyOn,\n      tween: emptyTween,\n      time: timing.time,\n      delay: timing.delay,\n      duration: timing.duration,\n      ease: timing.ease,\n      timer: null,\n      state: CREATED\n    });\n  }\n\n  function init(node, id) {\n    var schedule = node.__transition;\n    if (!schedule || !(schedule = schedule[id]) || schedule.state > CREATED) throw new Error(\"too late\");\n    return schedule;\n  }\n\n  function set$2(node, id) {\n    var schedule = node.__transition;\n    if (!schedule || !(schedule = schedule[id]) || schedule.state > STARTING) throw new Error(\"too late\");\n    return schedule;\n  }\n\n  function get$1(node, id) {\n    var schedule = node.__transition;\n    if (!schedule || !(schedule = schedule[id])) throw new Error(\"too late\");\n    return schedule;\n  }\n\n  function create(node, id, self) {\n    var schedules = node.__transition,\n        tween;\n\n    // Initialize the self timer when the transition is created.\n    // Note the actual delay is not known until the first callback!\n    schedules[id] = self;\n    self.timer = timer(schedule, 0, self.time);\n\n    // If the delay is greater than this first sleep, sleep some more;\n    // otherwise, start immediately.\n    function schedule(elapsed) {\n      self.state = SCHEDULED;\n      if (self.delay <= elapsed) start(elapsed - self.delay);\n      else self.timer.restart(start, self.delay, self.time);\n    }\n\n    function start(elapsed) {\n      var i, j, n, o;\n\n      for (i in schedules) {\n        o = schedules[i];\n        if (o.name !== self.name) continue;\n\n        // Interrupt the active transition, if any.\n        // Dispatch the interrupt event.\n        if (o.state === STARTED) {\n          o.state = ENDED;\n          o.timer.stop();\n          o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n          delete schedules[i];\n        }\n\n        // Cancel any pre-empted transitions. No interrupt event is dispatched\n        // because the cancelled transitions never started. Note that this also\n        // removes this transition from the pending list!\n        else if (+i < id) {\n          o.state = ENDED;\n          o.timer.stop();\n          delete schedules[i];\n        }\n      }\n\n      // Defer the first tick to end of the current frame; see mbostock/d3#1576.\n      // Note the transition may be canceled after start and before the first tick!\n      // Note this must be scheduled before the start event; see d3/d3-transition#16!\n      // Assuming this is successful, subsequent callbacks go straight to tick.\n      timeout$1(function() {\n        if (self.state === STARTED) {\n          self.timer.restart(tick, self.delay, self.time);\n          tick(elapsed);\n        }\n      });\n\n      // Dispatch the start event.\n      // Note this must be done before the tween are initialized.\n      self.state = STARTING;\n      self.on.call(\"start\", node, node.__data__, self.index, self.group);\n      if (self.state !== STARTING) return; // interrupted\n      self.state = STARTED;\n\n      // Initialize the tween, deleting null tween.\n      tween = new Array(n = self.tween.length);\n      for (i = 0, j = -1; i < n; ++i) {\n        if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n          tween[++j] = o;\n        }\n      }\n      tween.length = j + 1;\n    }\n\n    function tick(elapsed) {\n      var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.state = ENDING, 1),\n          i = -1,\n          n = tween.length;\n\n      while (++i < n) {\n        tween[i].call(null, t);\n      }\n\n      // Dispatch the end event.\n      if (self.state === ENDING) {\n        self.state = ENDED;\n        self.timer.stop();\n        self.on.call(\"end\", node, node.__data__, self.index, self.group);\n        for (i in schedules) if (+i !== id) return void delete schedules[id];\n        delete node.__transition;\n      }\n    }\n  }\n\n  function interrupt(node, name) {\n    var schedules = node.__transition,\n        schedule,\n        active,\n        empty = true,\n        i;\n\n    if (!schedules) return;\n\n    name = name == null ? null : name + \"\";\n\n    for (i in schedules) {\n      if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n      active = schedule.state === STARTED;\n      schedule.state = ENDED;\n      schedule.timer.stop();\n      if (active) schedule.on.call(\"interrupt\", node, node.__data__, schedule.index, schedule.group);\n      delete schedules[i];\n    }\n\n    if (empty) delete node.__transition;\n  }\n\n  function selection_interrupt(name) {\n    return this.each(function() {\n      interrupt(this, name);\n    });\n  }\n\n  function tweenRemove(id, name) {\n    var tween0, tween1;\n    return function() {\n      var schedule = set$2(this, id),\n          tween = schedule.tween;\n\n      // If this node shared tween with the previous node,\n      // just assign the updated shared tween and we’re done!\n      // Otherwise, copy-on-write.\n      if (tween !== tween0) {\n        tween1 = tween0 = tween;\n        for (var i = 0, n = tween1.length; i < n; ++i) {\n          if (tween1[i].name === name) {\n            tween1 = tween1.slice();\n            tween1.splice(i, 1);\n            break;\n          }\n        }\n      }\n\n      schedule.tween = tween1;\n    };\n  }\n\n  function tweenFunction(id, name, value) {\n    var tween0, tween1;\n    if (typeof value !== \"function\") throw new Error;\n    return function() {\n      var schedule = set$2(this, id),\n          tween = schedule.tween;\n\n      // If this node shared tween with the previous node,\n      // just assign the updated shared tween and we’re done!\n      // Otherwise, copy-on-write.\n      if (tween !== tween0) {\n        tween1 = (tween0 = tween).slice();\n        for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n          if (tween1[i].name === name) {\n            tween1[i] = t;\n            break;\n          }\n        }\n        if (i === n) tween1.push(t);\n      }\n\n      schedule.tween = tween1;\n    };\n  }\n\n  function transition_tween(name, value) {\n    var id = this._id;\n\n    name += \"\";\n\n    if (arguments.length < 2) {\n      var tween = get$1(this.node(), id).tween;\n      for (var i = 0, n = tween.length, t; i < n; ++i) {\n        if ((t = tween[i]).name === name) {\n          return t.value;\n        }\n      }\n      return null;\n    }\n\n    return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n  }\n\n  function tweenValue(transition, name, value) {\n    var id = transition._id;\n\n    transition.each(function() {\n      var schedule = set$2(this, id);\n      (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n    });\n\n    return function(node) {\n      return get$1(node, id).value[name];\n    };\n  }\n\n  function interpolate$1(a, b) {\n    var c;\n    return (typeof b === \"number\" ? interpolateNumber\n        : b instanceof color ? interpolateRgb\n        : (c = color(b)) ? (b = c, interpolateRgb)\n        : interpolateString)(a, b);\n  }\n\n  function attrRemove$1(name) {\n    return function() {\n      this.removeAttribute(name);\n    };\n  }\n\n  function attrRemoveNS$1(fullname) {\n    return function() {\n      this.removeAttributeNS(fullname.space, fullname.local);\n    };\n  }\n\n  function attrConstant$1(name, interpolate, value1) {\n    var value00,\n        interpolate0;\n    return function() {\n      var value0 = this.getAttribute(name);\n      return value0 === value1 ? null\n          : value0 === value00 ? interpolate0\n          : interpolate0 = interpolate(value00 = value0, value1);\n    };\n  }\n\n  function attrConstantNS$1(fullname, interpolate, value1) {\n    var value00,\n        interpolate0;\n    return function() {\n      var value0 = this.getAttributeNS(fullname.space, fullname.local);\n      return value0 === value1 ? null\n          : value0 === value00 ? interpolate0\n          : interpolate0 = interpolate(value00 = value0, value1);\n    };\n  }\n\n  function attrFunction$1(name, interpolate, value) {\n    var value00,\n        value10,\n        interpolate0;\n    return function() {\n      var value0, value1 = value(this);\n      if (value1 == null) return void this.removeAttribute(name);\n      value0 = this.getAttribute(name);\n      return value0 === value1 ? null\n          : value0 === value00 && value1 === value10 ? interpolate0\n          : interpolate0 = interpolate(value00 = value0, value10 = value1);\n    };\n  }\n\n  function attrFunctionNS$1(fullname, interpolate, value) {\n    var value00,\n        value10,\n        interpolate0;\n    return function() {\n      var value0, value1 = value(this);\n      if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n      value0 = this.getAttributeNS(fullname.space, fullname.local);\n      return value0 === value1 ? null\n          : value0 === value00 && value1 === value10 ? interpolate0\n          : interpolate0 = interpolate(value00 = value0, value10 = value1);\n    };\n  }\n\n  function transition_attr(name, value) {\n    var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform$2 : interpolate$1;\n    return this.attrTween(name, typeof value === \"function\"\n        ? (fullname.local ? attrFunctionNS$1 : attrFunction$1)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n        : value == null ? (fullname.local ? attrRemoveNS$1 : attrRemove$1)(fullname)\n        : (fullname.local ? attrConstantNS$1 : attrConstant$1)(fullname, i, value));\n  }\n\n  function attrTweenNS(fullname, value) {\n    function tween() {\n      var node = this, i = value.apply(node, arguments);\n      return i && function(t) {\n        node.setAttributeNS(fullname.space, fullname.local, i(t));\n      };\n    }\n    tween._value = value;\n    return tween;\n  }\n\n  function attrTween(name, value) {\n    function tween() {\n      var node = this, i = value.apply(node, arguments);\n      return i && function(t) {\n        node.setAttribute(name, i(t));\n      };\n    }\n    tween._value = value;\n    return tween;\n  }\n\n  function transition_attrTween(name, value) {\n    var key = \"attr.\" + name;\n    if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n    if (value == null) return this.tween(key, null);\n    if (typeof value !== \"function\") throw new Error;\n    var fullname = namespace(name);\n    return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n  }\n\n  function delayFunction(id, value) {\n    return function() {\n      init(this, id).delay = +value.apply(this, arguments);\n    };\n  }\n\n  function delayConstant(id, value) {\n    return value = +value, function() {\n      init(this, id).delay = value;\n    };\n  }\n\n  function transition_delay(value) {\n    var id = this._id;\n\n    return arguments.length\n        ? this.each((typeof value === \"function\"\n            ? delayFunction\n            : delayConstant)(id, value))\n        : get$1(this.node(), id).delay;\n  }\n\n  function durationFunction(id, value) {\n    return function() {\n      set$2(this, id).duration = +value.apply(this, arguments);\n    };\n  }\n\n  function durationConstant(id, value) {\n    return value = +value, function() {\n      set$2(this, id).duration = value;\n    };\n  }\n\n  function transition_duration(value) {\n    var id = this._id;\n\n    return arguments.length\n        ? this.each((typeof value === \"function\"\n            ? durationFunction\n            : durationConstant)(id, value))\n        : get$1(this.node(), id).duration;\n  }\n\n  function easeConstant(id, value) {\n    if (typeof value !== \"function\") throw new Error;\n    return function() {\n      set$2(this, id).ease = value;\n    };\n  }\n\n  function transition_ease(value) {\n    var id = this._id;\n\n    return arguments.length\n        ? this.each(easeConstant(id, value))\n        : get$1(this.node(), id).ease;\n  }\n\n  function transition_filter(match) {\n    if (typeof match !== \"function\") match = matcher$1(match);\n\n    for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n      for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n        if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n          subgroup.push(node);\n        }\n      }\n    }\n\n    return new Transition(subgroups, this._parents, this._name, this._id);\n  }\n\n  function transition_merge(transition) {\n    if (transition._id !== this._id) throw new Error;\n\n    for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n      for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n        if (node = group0[i] || group1[i]) {\n          merge[i] = node;\n        }\n      }\n    }\n\n    for (; j < m0; ++j) {\n      merges[j] = groups0[j];\n    }\n\n    return new Transition(merges, this._parents, this._name, this._id);\n  }\n\n  function start$1(name) {\n    return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n      var i = t.indexOf(\".\");\n      if (i >= 0) t = t.slice(0, i);\n      return !t || t === \"start\";\n    });\n  }\n\n  function onFunction(id, name, listener) {\n    var on0, on1, sit = start$1(name) ? init : set$2;\n    return function() {\n      var schedule = sit(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n      schedule.on = on1;\n    };\n  }\n\n  function transition_on(name, listener) {\n    var id = this._id;\n\n    return arguments.length < 2\n        ? get$1(this.node(), id).on.on(name)\n        : this.each(onFunction(id, name, listener));\n  }\n\n  function removeFunction(id) {\n    return function() {\n      var parent = this.parentNode;\n      for (var i in this.__transition) if (+i !== id) return;\n      if (parent) parent.removeChild(this);\n    };\n  }\n\n  function transition_remove() {\n    return this.on(\"end.remove\", removeFunction(this._id));\n  }\n\n  function transition_select(select) {\n    var name = this._name,\n        id = this._id;\n\n    if (typeof select !== \"function\") select = selector(select);\n\n    for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n      for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n        if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n          if (\"__data__\" in node) subnode.__data__ = node.__data__;\n          subgroup[i] = subnode;\n          schedule(subgroup[i], name, id, i, subgroup, get$1(node, id));\n        }\n      }\n    }\n\n    return new Transition(subgroups, this._parents, name, id);\n  }\n\n  function transition_selectAll(select) {\n    var name = this._name,\n        id = this._id;\n\n    if (typeof select !== \"function\") select = selectorAll(select);\n\n    for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n      for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n        if (node = group[i]) {\n          for (var children = select.call(node, node.__data__, i, group), child, inherit = get$1(node, id), k = 0, l = children.length; k < l; ++k) {\n            if (child = children[k]) {\n              schedule(child, name, id, k, children, inherit);\n            }\n          }\n          subgroups.push(children);\n          parents.push(node);\n        }\n      }\n    }\n\n    return new Transition(subgroups, parents, name, id);\n  }\n\n  var Selection$1 = selection.prototype.constructor;\n\n  function transition_selection() {\n    return new Selection$1(this._groups, this._parents);\n  }\n\n  function styleRemove$1(name, interpolate) {\n    var value00,\n        value10,\n        interpolate0;\n    return function() {\n      var style = window(this).getComputedStyle(this, null),\n          value0 = style.getPropertyValue(name),\n          value1 = (this.style.removeProperty(name), style.getPropertyValue(name));\n      return value0 === value1 ? null\n          : value0 === value00 && value1 === value10 ? interpolate0\n          : interpolate0 = interpolate(value00 = value0, value10 = value1);\n    };\n  }\n\n  function styleRemoveEnd(name) {\n    return function() {\n      this.style.removeProperty(name);\n    };\n  }\n\n  function styleConstant$1(name, interpolate, value1) {\n    var value00,\n        interpolate0;\n    return function() {\n      var value0 = window(this).getComputedStyle(this, null).getPropertyValue(name);\n      return value0 === value1 ? null\n          : value0 === value00 ? interpolate0\n          : interpolate0 = interpolate(value00 = value0, value1);\n    };\n  }\n\n  function styleFunction$1(name, interpolate, value) {\n    var value00,\n        value10,\n        interpolate0;\n    return function() {\n      var style = window(this).getComputedStyle(this, null),\n          value0 = style.getPropertyValue(name),\n          value1 = value(this);\n      if (value1 == null) value1 = (this.style.removeProperty(name), style.getPropertyValue(name));\n      return value0 === value1 ? null\n          : value0 === value00 && value1 === value10 ? interpolate0\n          : interpolate0 = interpolate(value00 = value0, value10 = value1);\n    };\n  }\n\n  function transition_style(name, value, priority) {\n    var i = (name += \"\") === \"transform\" ? interpolateTransform$1 : interpolate$1;\n    return value == null ? this\n            .styleTween(name, styleRemove$1(name, i))\n            .on(\"end.style.\" + name, styleRemoveEnd(name))\n        : this.styleTween(name, typeof value === \"function\"\n            ? styleFunction$1(name, i, tweenValue(this, \"style.\" + name, value))\n            : styleConstant$1(name, i, value), priority);\n  }\n\n  function styleTween(name, value, priority) {\n    function tween() {\n      var node = this, i = value.apply(node, arguments);\n      return i && function(t) {\n        node.style.setProperty(name, i(t), priority);\n      };\n    }\n    tween._value = value;\n    return tween;\n  }\n\n  function transition_styleTween(name, value, priority) {\n    var key = \"style.\" + (name += \"\");\n    if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n    if (value == null) return this.tween(key, null);\n    if (typeof value !== \"function\") throw new Error;\n    return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n  }\n\n  function textConstant$1(value) {\n    return function() {\n      this.textContent = value;\n    };\n  }\n\n  function textFunction$1(value) {\n    return function() {\n      var value1 = value(this);\n      this.textContent = value1 == null ? \"\" : value1;\n    };\n  }\n\n  function transition_text(value) {\n    return this.tween(\"text\", typeof value === \"function\"\n        ? textFunction$1(tweenValue(this, \"text\", value))\n        : textConstant$1(value == null ? \"\" : value + \"\"));\n  }\n\n  function transition_transition() {\n    var name = this._name,\n        id0 = this._id,\n        id1 = newId();\n\n    for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n      for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n        if (node = group[i]) {\n          var inherit = get$1(node, id0);\n          schedule(node, name, id1, i, group, {\n            time: inherit.time + inherit.delay + inherit.duration,\n            delay: 0,\n            duration: inherit.duration,\n            ease: inherit.ease\n          });\n        }\n      }\n    }\n\n    return new Transition(groups, this._parents, name, id1);\n  }\n\n  var id = 0;\n\n  function Transition(groups, parents, name, id) {\n    this._groups = groups;\n    this._parents = parents;\n    this._name = name;\n    this._id = id;\n  }\n\n  function transition(name) {\n    return selection().transition(name);\n  }\n\n  function newId() {\n    return ++id;\n  }\n\n  var selection_prototype = selection.prototype;\n\n  Transition.prototype = transition.prototype = {\n    constructor: Transition,\n    select: transition_select,\n    selectAll: transition_selectAll,\n    filter: transition_filter,\n    merge: transition_merge,\n    selection: transition_selection,\n    transition: transition_transition,\n    call: selection_prototype.call,\n    nodes: selection_prototype.nodes,\n    node: selection_prototype.node,\n    size: selection_prototype.size,\n    empty: selection_prototype.empty,\n    each: selection_prototype.each,\n    on: transition_on,\n    attr: transition_attr,\n    attrTween: transition_attrTween,\n    style: transition_style,\n    styleTween: transition_styleTween,\n    text: transition_text,\n    remove: transition_remove,\n    tween: transition_tween,\n    delay: transition_delay,\n    duration: transition_duration,\n    ease: transition_ease\n  };\n\n  var defaultTiming = {\n    time: null, // Set on use.\n    delay: 0,\n    duration: 250,\n    ease: easeCubicInOut\n  };\n\n  function inherit(node, id) {\n    var timing;\n    while (!(timing = node.__transition) || !(timing = timing[id])) {\n      if (!(node = node.parentNode)) {\n        return defaultTiming.time = now(), defaultTiming;\n      }\n    }\n    return timing;\n  }\n\n  function selection_transition(name) {\n    var id,\n        timing;\n\n    if (name instanceof Transition) {\n      id = name._id, name = name._name;\n    } else {\n      id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n    }\n\n    for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n      for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n        if (node = group[i]) {\n          schedule(node, name, id, i, group, timing || inherit(node, id));\n        }\n      }\n    }\n\n    return new Transition(groups, this._parents, name, id);\n  }\n\n  selection.prototype.interrupt = selection_interrupt;\n  selection.prototype.transition = selection_transition;\n\n  var root$1 = [null];\n\n  function active(node, name) {\n    var schedules = node.__transition,\n        schedule,\n        i;\n\n    if (schedules) {\n      name = name == null ? null : name + \"\";\n      for (i in schedules) {\n        if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n          return new Transition([[node]], root$1, name, +i);\n        }\n      }\n    }\n\n    return null;\n  }\n\n  var slice$4 = Array.prototype.slice;\n\n  function identity$5(x) {\n    return x;\n  }\n\n  var top = 1;\n  var right = 2;\n  var bottom = 3;\n  var left = 4;\nvar   epsilon$2 = 1e-6;\n  function translateX(scale0, scale1, d) {\n    var x = scale0(d);\n    return \"translate(\" + (isFinite(x) ? x : scale1(d)) + \",0)\";\n  }\n\n  function translateY(scale0, scale1, d) {\n    var y = scale0(d);\n    return \"translate(0,\" + (isFinite(y) ? y : scale1(d)) + \")\";\n  }\n\n  function center(scale) {\n    var offset = scale.bandwidth() / 2;\n    if (scale.round()) offset = Math.round(offset);\n    return function(d) {\n      return scale(d) + offset;\n    };\n  }\n\n  function entering() {\n    return !this.__axis;\n  }\n\n  function axis(orient, scale) {\n    var tickArguments = [],\n        tickValues = null,\n        tickFormat = null,\n        tickSizeInner = 6,\n        tickSizeOuter = 6,\n        tickPadding = 3;\n\n    function axis(context) {\n      var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n          format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity$5) : tickFormat,\n          spacing = Math.max(tickSizeInner, 0) + tickPadding,\n          transform = orient === top || orient === bottom ? translateX : translateY,\n          range = scale.range(),\n          range0 = range[0] + 0.5,\n          range1 = range[range.length - 1] + 0.5,\n          position = (scale.bandwidth ? center : identity$5)(scale.copy()),\n          selection = context.selection ? context.selection() : context,\n          path = selection.selectAll(\".domain\").data([null]),\n          tick = selection.selectAll(\".tick\").data(values, scale).order(),\n          tickExit = tick.exit(),\n          tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n          line = tick.select(\"line\"),\n          text = tick.select(\"text\"),\n          k = orient === top || orient === left ? -1 : 1,\n          x, y = orient === left || orient === right ? (x = \"x\", \"y\") : (x = \"y\", \"x\");\n\n      path = path.merge(path.enter().insert(\"path\", \".tick\")\n          .attr(\"class\", \"domain\")\n          .attr(\"stroke\", \"#000\"));\n\n      tick = tick.merge(tickEnter);\n\n      line = line.merge(tickEnter.append(\"line\")\n          .attr(\"stroke\", \"#000\")\n          .attr(x + \"2\", k * tickSizeInner)\n          .attr(y + \"1\", 0.5)\n          .attr(y + \"2\", 0.5));\n\n      text = text.merge(tickEnter.append(\"text\")\n          .attr(\"fill\", \"#000\")\n          .attr(x, k * spacing)\n          .attr(y, 0.5)\n          .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n      if (context !== selection) {\n        path = path.transition(context);\n        tick = tick.transition(context);\n        line = line.transition(context);\n        text = text.transition(context);\n\n        tickExit = tickExit.transition(context)\n            .attr(\"opacity\", epsilon$2)\n            .attr(\"transform\", function(d) { return transform(position, this.parentNode.__axis || position, d); });\n\n        tickEnter\n            .attr(\"opacity\", epsilon$2)\n            .attr(\"transform\", function(d) { return transform(this.parentNode.__axis || position, position, d); });\n      }\n\n      tickExit.remove();\n\n      path\n          .attr(\"d\", orient === left || orient == right\n              ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter\n              : \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter);\n\n      tick\n          .attr(\"opacity\", 1)\n          .attr(\"transform\", function(d) { return transform(position, position, d); });\n\n      line\n          .attr(x + \"2\", k * tickSizeInner);\n\n      text\n          .attr(x, k * spacing)\n          .text(format);\n\n      selection.filter(entering)\n          .attr(\"fill\", \"none\")\n          .attr(\"font-size\", 10)\n          .attr(\"font-family\", \"sans-serif\")\n          .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n      selection\n          .each(function() { this.__axis = position; });\n    }\n\n    axis.scale = function(_) {\n      return arguments.length ? (scale = _, axis) : scale;\n    };\n\n    axis.ticks = function() {\n      return tickArguments = slice$4.call(arguments), axis;\n    };\n\n    axis.tickArguments = function(_) {\n      return arguments.length ? (tickArguments = _ == null ? [] : slice$4.call(_), axis) : tickArguments.slice();\n    };\n\n    axis.tickValues = function(_) {\n      return arguments.length ? (tickValues = _ == null ? null : slice$4.call(_), axis) : tickValues && tickValues.slice();\n    };\n\n    axis.tickFormat = function(_) {\n      return arguments.length ? (tickFormat = _, axis) : tickFormat;\n    };\n\n    axis.tickSize = function(_) {\n      return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n    };\n\n    axis.tickSizeInner = function(_) {\n      return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n    };\n\n    axis.tickSizeOuter = function(_) {\n      return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n    };\n\n    axis.tickPadding = function(_) {\n      return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n    };\n\n    return axis;\n  }\n\n  function axisTop(scale) {\n    return axis(top, scale);\n  }\n\n  function axisRight(scale) {\n    return axis(right, scale);\n  }\n\n  function axisBottom(scale) {\n    return axis(bottom, scale);\n  }\n\n  function axisLeft(scale) {\n    return axis(left, scale);\n  }\n\n  function defaultSeparation(a, b) {\n    return a.parent === b.parent ? 1 : 2;\n  }\n\n  function meanX(children) {\n    return children.reduce(meanXReduce, 0) / children.length;\n  }\n\n  function meanXReduce(x, c) {\n    return x + c.x;\n  }\n\n  function maxY(children) {\n    return 1 + children.reduce(maxYReduce, 0);\n  }\n\n  function maxYReduce(y, c) {\n    return Math.max(y, c.y);\n  }\n\n  function leafLeft(node) {\n    var children;\n    while (children = node.children) node = children[0];\n    return node;\n  }\n\n  function leafRight(node) {\n    var children;\n    while (children = node.children) node = children[children.length - 1];\n    return node;\n  }\n\n  function cluster() {\n    var separation = defaultSeparation,\n        dx = 1,\n        dy = 1,\n        nodeSize = false;\n\n    function cluster(root) {\n      var previousNode,\n          x = 0;\n\n      // First walk, computing the initial x & y values.\n      root.eachAfter(function(node) {\n        var children = node.children;\n        if (children) {\n          node.x = meanX(children);\n          node.y = maxY(children);\n        } else {\n          node.x = previousNode ? x += separation(node, previousNode) : 0;\n          node.y = 0;\n          previousNode = node;\n        }\n      });\n\n      var left = leafLeft(root),\n          right = leafRight(root),\n          x0 = left.x - separation(left, right) / 2,\n          x1 = right.x + separation(right, left) / 2;\n\n      // Second walk, normalizing x & y to the desired size.\n      return root.eachAfter(nodeSize ? function(node) {\n        node.x = (node.x - root.x) * dx;\n        node.y = (root.y - node.y) * dy;\n      } : function(node) {\n        node.x = (node.x - x0) / (x1 - x0) * dx;\n        node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n      });\n    }\n\n    cluster.separation = function(x) {\n      return arguments.length ? (separation = x, cluster) : separation;\n    };\n\n    cluster.size = function(x) {\n      return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n    };\n\n    cluster.nodeSize = function(x) {\n      return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n    };\n\n    return cluster;\n  }\n\n  function node_each(callback) {\n    var node = this, current, next = [node], children, i, n;\n    do {\n      current = next.reverse(), next = [];\n      while (node = current.pop()) {\n        callback(node), children = node.children;\n        if (children) for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    } while (next.length);\n    return this;\n  }\n\n  function node_eachBefore(callback) {\n    var node = this, nodes = [node], children, i;\n    while (node = nodes.pop()) {\n      callback(node), children = node.children;\n      if (children) for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n    return this;\n  }\n\n  function node_eachAfter(callback) {\n    var node = this, nodes = [node], next = [], children, i, n;\n    while (node = nodes.pop()) {\n      next.push(node), children = node.children;\n      if (children) for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n    while (node = next.pop()) {\n      callback(node);\n    }\n    return this;\n  }\n\n  function node_sum(value) {\n    return this.eachAfter(function(node) {\n      var sum = +value(node.data) || 0,\n          children = node.children,\n          i = children && children.length;\n      while (--i >= 0) sum += children[i].value;\n      node.value = sum;\n    });\n  }\n\n  function node_sort(compare) {\n    return this.eachBefore(function(node) {\n      if (node.children) {\n        node.children.sort(compare);\n      }\n    });\n  }\n\n  function node_path(end) {\n    var start = this,\n        ancestor = leastCommonAncestor(start, end),\n        nodes = [start];\n    while (start !== ancestor) {\n      start = start.parent;\n      nodes.push(start);\n    }\n    var k = nodes.length;\n    while (end !== ancestor) {\n      nodes.splice(k, 0, end);\n      end = end.parent;\n    }\n    return nodes;\n  }\n\n  function leastCommonAncestor(a, b) {\n    if (a === b) return a;\n    var aNodes = a.ancestors(),\n        bNodes = b.ancestors(),\n        c = null;\n    a = aNodes.pop();\n    b = bNodes.pop();\n    while (a === b) {\n      c = a;\n      a = aNodes.pop();\n      b = bNodes.pop();\n    }\n    return c;\n  }\n\n  function node_ancestors() {\n    var node = this, nodes = [node];\n    while (node = node.parent) {\n      nodes.push(node);\n    }\n    return nodes;\n  }\n\n  function node_descendants() {\n    var nodes = [];\n    this.each(function(node) {\n      nodes.push(node);\n    });\n    return nodes;\n  }\n\n  function node_leaves() {\n    var leaves = [];\n    this.eachBefore(function(node) {\n      if (!node.children) {\n        leaves.push(node);\n      }\n    });\n    return leaves;\n  }\n\n  function node_links() {\n    var root = this, links = [];\n    root.each(function(node) {\n      if (node !== root) { // Don’t include the root’s parent, if any.\n        links.push({source: node.parent, target: node});\n      }\n    });\n    return links;\n  }\n\n  function hierarchy(data, children) {\n    var root = new Node(data),\n        valued = +data.value && (root.value = data.value),\n        node,\n        nodes = [root],\n        child,\n        childs,\n        i,\n        n;\n\n    if (children == null) children = defaultChildren;\n\n    while (node = nodes.pop()) {\n      if (valued) node.value = +node.data.value;\n      if ((childs = children(node.data)) && (n = childs.length)) {\n        node.children = new Array(n);\n        for (i = n - 1; i >= 0; --i) {\n          nodes.push(child = node.children[i] = new Node(childs[i]));\n          child.parent = node;\n          child.depth = node.depth + 1;\n        }\n      }\n    }\n\n    return root.eachBefore(computeHeight);\n  }\n\n  function node_copy() {\n    return hierarchy(this).eachBefore(copyData);\n  }\n\n  function defaultChildren(d) {\n    return d.children;\n  }\n\n  function copyData(node) {\n    node.data = node.data.data;\n  }\n\n  function computeHeight(node) {\n    var height = 0;\n    do node.height = height;\n    while ((node = node.parent) && (node.height < ++height));\n  }\n\n  function Node(data) {\n    this.data = data;\n    this.depth =\n    this.height = 0;\n    this.parent = null;\n  }\n\n  Node.prototype = hierarchy.prototype = {\n    constructor: Node,\n    each: node_each,\n    eachAfter: node_eachAfter,\n    eachBefore: node_eachBefore,\n    sum: node_sum,\n    sort: node_sort,\n    path: node_path,\n    ancestors: node_ancestors,\n    descendants: node_descendants,\n    leaves: node_leaves,\n    links: node_links,\n    copy: node_copy\n  };\n\n  function Node$2(value) {\n    this._ = value;\n    this.next = null;\n  }\n\n  function shuffle$1(array) {\n    var i,\n        n = (array = array.slice()).length,\n        head = null,\n        node = head;\n\n    while (n) {\n      var next = new Node$2(array[n - 1]);\n      if (node) node = node.next = next;\n      else node = head = next;\n      array[i] = array[--n];\n    }\n\n    return {\n      head: head,\n      tail: node\n    };\n  }\n\n  function enclose(circles) {\n    return encloseN(shuffle$1(circles), []);\n  }\n\n  function encloses(a, b) {\n    var dx = b.x - a.x,\n        dy = b.y - a.y,\n        dr = a.r - b.r;\n    return dr * dr + 1e-6 > dx * dx + dy * dy;\n  }\n\n  // Returns the smallest circle that contains circles L and intersects circles B.\n  function encloseN(L, B) {\n    var circle,\n        l0 = null,\n        l1 = L.head,\n        l2,\n        p1;\n\n    switch (B.length) {\n      case 1: circle = enclose1(B[0]); break;\n      case 2: circle = enclose2(B[0], B[1]); break;\n      case 3: circle = enclose3(B[0], B[1], B[2]); break;\n    }\n\n    while (l1) {\n      p1 = l1._, l2 = l1.next;\n      if (!circle || !encloses(circle, p1)) {\n\n        // Temporarily truncate L before l1.\n        if (l0) L.tail = l0, l0.next = null;\n        else L.head = L.tail = null;\n\n        B.push(p1);\n        circle = encloseN(L, B); // Note: reorders L!\n        B.pop();\n\n        // Move l1 to the front of L and reconnect the truncated list L.\n        if (L.head) l1.next = L.head, L.head = l1;\n        else l1.next = null, L.head = L.tail = l1;\n        l0 = L.tail, l0.next = l2;\n\n      } else {\n        l0 = l1;\n      }\n      l1 = l2;\n    }\n\n    L.tail = l0;\n    return circle;\n  }\n\n  function enclose1(a) {\n    return {\n      x: a.x,\n      y: a.y,\n      r: a.r\n    };\n  }\n\n  function enclose2(a, b) {\n    var x1 = a.x, y1 = a.y, r1 = a.r,\n        x2 = b.x, y2 = b.y, r2 = b.r,\n        x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n        l = Math.sqrt(x21 * x21 + y21 * y21);\n    return {\n      x: (x1 + x2 + x21 / l * r21) / 2,\n      y: (y1 + y2 + y21 / l * r21) / 2,\n      r: (l + r1 + r2) / 2\n    };\n  }\n\n  function enclose3(a, b, c) {\n    var x1 = a.x, y1 = a.y, r1 = a.r,\n        x2 = b.x, y2 = b.y, r2 = b.r,\n        x3 = c.x, y3 = c.y, r3 = c.r,\n        a2 = 2 * (x1 - x2),\n        b2 = 2 * (y1 - y2),\n        c2 = 2 * (r2 - r1),\n        d2 = x1 * x1 + y1 * y1 - r1 * r1 - x2 * x2 - y2 * y2 + r2 * r2,\n        a3 = 2 * (x1 - x3),\n        b3 = 2 * (y1 - y3),\n        c3 = 2 * (r3 - r1),\n        d3 = x1 * x1 + y1 * y1 - r1 * r1 - x3 * x3 - y3 * y3 + r3 * r3,\n        ab = a3 * b2 - a2 * b3,\n        xa = (b2 * d3 - b3 * d2) / ab - x1,\n        xb = (b3 * c2 - b2 * c3) / ab,\n        ya = (a3 * d2 - a2 * d3) / ab - y1,\n        yb = (a2 * c3 - a3 * c2) / ab,\n        A = xb * xb + yb * yb - 1,\n        B = 2 * (xa * xb + ya * yb + r1),\n        C = xa * xa + ya * ya - r1 * r1,\n        r = (-B - Math.sqrt(B * B - 4 * A * C)) / (2 * A);\n    return {\n      x: xa + xb * r + x1,\n      y: ya + yb * r + y1,\n      r: r\n    };\n  }\n\n  function place(a, b, c) {\n    var ax = a.x,\n        ay = a.y,\n        da = b.r + c.r,\n        db = a.r + c.r,\n        dx = b.x - ax,\n        dy = b.y - ay,\n        dc = dx * dx + dy * dy;\n    if (dc) {\n      var x = 0.5 + ((db *= db) - (da *= da)) / (2 * dc),\n          y = Math.sqrt(Math.max(0, 2 * da * (db + dc) - (db -= dc) * db - da * da)) / (2 * dc);\n      c.x = ax + x * dx + y * dy;\n      c.y = ay + x * dy - y * dx;\n    } else {\n      c.x = ax + db;\n      c.y = ay;\n    }\n  }\n\n  function intersects(a, b) {\n    var dx = b.x - a.x,\n        dy = b.y - a.y,\n        dr = a.r + b.r;\n    return dr * dr > dx * dx + dy * dy;\n  }\n\n  function distance2(circle, x, y) {\n    var dx = circle.x - x,\n        dy = circle.y - y;\n    return dx * dx + dy * dy;\n  }\n\n  function Node$1(circle) {\n    this._ = circle;\n    this.next = null;\n    this.previous = null;\n  }\n\n  function packEnclose(circles) {\n    if (!(n = circles.length)) return 0;\n\n    var a, b, c, n;\n\n    // Place the first circle.\n    a = circles[0], a.x = 0, a.y = 0;\n    if (!(n > 1)) return a.r;\n\n    // Place the second circle.\n    b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n    if (!(n > 2)) return a.r + b.r;\n\n    // Place the third circle.\n    place(b, a, c = circles[2]);\n\n    // Initialize the weighted centroid.\n    var aa = a.r * a.r,\n        ba = b.r * b.r,\n        ca = c.r * c.r,\n        oa = aa + ba + ca,\n        ox = aa * a.x + ba * b.x + ca * c.x,\n        oy = aa * a.y + ba * b.y + ca * c.y,\n        cx, cy, i, j, k, sj, sk;\n\n    // Initialize the front-chain using the first three circles a, b and c.\n    a = new Node$1(a), b = new Node$1(b), c = new Node$1(c);\n    a.next = c.previous = b;\n    b.next = a.previous = c;\n    c.next = b.previous = a;\n\n    // Attempt to place each remaining circle…\n    pack: for (i = 3; i < n; ++i) {\n      place(a._, b._, c = circles[i]), c = new Node$1(c);\n\n      // If there are only three elements in the front-chain…\n      if ((k = a.previous) === (j = b.next)) {\n        // If the new circle intersects the third circle,\n        // rotate the front chain to try the next position.\n        if (intersects(j._, c._)) {\n          a = b, b = j, --i;\n          continue pack;\n        }\n      }\n\n      // Find the closest intersecting circle on the front-chain, if any.\n      else {\n        sj = j._.r, sk = k._.r;\n        do {\n          if (sj <= sk) {\n            if (intersects(j._, c._)) {\n              b = j, a.next = b, b.previous = a, --i;\n              continue pack;\n            }\n            j = j.next, sj += j._.r;\n          } else {\n            if (intersects(k._, c._)) {\n              a = k, a.next = b, b.previous = a, --i;\n              continue pack;\n            }\n            k = k.previous, sk += k._.r;\n          }\n        } while (j !== k.next);\n      }\n\n      // Success! Insert the new circle c between a and b.\n      c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n      // Update the weighted centroid.\n      oa += ca = c._.r * c._.r;\n      ox += ca * c._.x;\n      oy += ca * c._.y;\n\n      // Compute the new closest circle a to centroid.\n      aa = distance2(a._, cx = ox / oa, cy = oy / oa);\n      while ((c = c.next) !== b) {\n        if ((ca = distance2(c._, cx, cy)) < aa) {\n          a = c, aa = ca;\n        }\n      }\n      b = a.next;\n    }\n\n    // Compute the enclosing circle of the front chain.\n    a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n    // Translate the circles to put the enclosing circle around the origin.\n    for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n    return c.r;\n  }\n\n  function siblings(circles) {\n    packEnclose(circles);\n    return circles;\n  }\n\n  function optional(f) {\n    return f == null ? null : required(f);\n  }\n\n  function required(f) {\n    if (typeof f !== \"function\") throw new Error;\n    return f;\n  }\n\n  function constantZero() {\n    return 0;\n  }\n\n  function constant$5(x) {\n    return function() {\n      return x;\n    };\n  }\n\n  function defaultRadius(d) {\n    return Math.sqrt(d.value);\n  }\n\n  function index() {\n    var radius = null,\n        dx = 1,\n        dy = 1,\n        padding = constantZero;\n\n    function pack(root) {\n      root.x = dx / 2, root.y = dy / 2;\n      if (radius) {\n        root.eachBefore(radiusLeaf(radius))\n            .eachAfter(packChildren(padding, 0.5))\n            .eachBefore(translateChild(1));\n      } else {\n        root.eachBefore(radiusLeaf(defaultRadius))\n            .eachAfter(packChildren(constantZero, 1))\n            .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n            .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n      }\n      return root;\n    }\n\n    pack.radius = function(x) {\n      return arguments.length ? (radius = optional(x), pack) : radius;\n    };\n\n    pack.size = function(x) {\n      return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n    };\n\n    pack.padding = function(x) {\n      return arguments.length ? (padding = typeof x === \"function\" ? x : constant$5(+x), pack) : padding;\n    };\n\n    return pack;\n  }\n\n  function radiusLeaf(radius) {\n    return function(node) {\n      if (!node.children) {\n        node.r = Math.max(0, +radius(node) || 0);\n      }\n    };\n  }\n\n  function packChildren(padding, k) {\n    return function(node) {\n      if (children = node.children) {\n        var children,\n            i,\n            n = children.length,\n            r = padding(node) * k || 0,\n            e;\n\n        if (r) for (i = 0; i < n; ++i) children[i].r += r;\n        e = packEnclose(children);\n        if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n        node.r = e + r;\n      }\n    };\n  }\n\n  function translateChild(k) {\n    return function(node) {\n      var parent = node.parent;\n      node.r *= k;\n      if (parent) {\n        node.x = parent.x + k * node.x;\n        node.y = parent.y + k * node.y;\n      }\n    };\n  }\n\n  function roundNode(node) {\n    node.x0 = Math.round(node.x0);\n    node.y0 = Math.round(node.y0);\n    node.x1 = Math.round(node.x1);\n    node.y1 = Math.round(node.y1);\n  }\n\n  function treemapDice(parent, x0, y0, x1, y1) {\n    var nodes = parent.children,\n        node,\n        i = -1,\n        n = nodes.length,\n        k = parent.value && (x1 - x0) / parent.value;\n\n    while (++i < n) {\n      node = nodes[i], node.y0 = y0, node.y1 = y1;\n      node.x0 = x0, node.x1 = x0 += node.value * k;\n    }\n  }\n\n  function partition() {\n    var dx = 1,\n        dy = 1,\n        padding = 0,\n        round = false;\n\n    function partition(root) {\n      var n = root.height + 1;\n      root.x0 =\n      root.y0 = padding;\n      root.x1 = dx;\n      root.y1 = dy / n;\n      root.eachBefore(positionNode(dy, n));\n      if (round) root.eachBefore(roundNode);\n      return root;\n    }\n\n    function positionNode(dy, n) {\n      return function(node) {\n        if (node.children) {\n          treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n        }\n        var x0 = node.x0,\n            y0 = node.y0,\n            x1 = node.x1 - padding,\n            y1 = node.y1 - padding;\n        if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n        if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n        node.x0 = x0;\n        node.y0 = y0;\n        node.x1 = x1;\n        node.y1 = y1;\n      };\n    }\n\n    partition.round = function(x) {\n      return arguments.length ? (round = !!x, partition) : round;\n    };\n\n    partition.size = function(x) {\n      return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n    };\n\n    partition.padding = function(x) {\n      return arguments.length ? (padding = +x, partition) : padding;\n    };\n\n    return partition;\n  }\n\nvar   keyPrefix$1 = \"$\";\n  var preroot = {depth: -1};\n  var ambiguous = {};\n  function defaultId(d) {\n    return d.id;\n  }\n\n  function defaultParentId(d) {\n    return d.parentId;\n  }\n\n  function stratify() {\n    var id = defaultId,\n        parentId = defaultParentId;\n\n    function stratify(data) {\n      var d,\n          i,\n          n = data.length,\n          root,\n          parent,\n          node,\n          nodes = new Array(n),\n          nodeId,\n          nodeKey,\n          nodeByKey = {};\n\n      for (i = 0; i < n; ++i) {\n        d = data[i], node = nodes[i] = new Node(d);\n        if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n          nodeKey = keyPrefix$1 + (node.id = nodeId);\n          nodeByKey[nodeKey] = nodeKey in nodeByKey ? ambiguous : node;\n        }\n      }\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i], nodeId = parentId(data[i], i, data);\n        if (nodeId == null || !(nodeId += \"\")) {\n          if (root) throw new Error(\"multiple roots\");\n          root = node;\n        } else {\n          parent = nodeByKey[keyPrefix$1 + nodeId];\n          if (!parent) throw new Error(\"missing: \" + nodeId);\n          if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n          if (parent.children) parent.children.push(node);\n          else parent.children = [node];\n          node.parent = parent;\n        }\n      }\n\n      if (!root) throw new Error(\"no root\");\n      root.parent = preroot;\n      root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n      root.parent = null;\n      if (n > 0) throw new Error(\"cycle\");\n\n      return root;\n    }\n\n    stratify.id = function(x) {\n      return arguments.length ? (id = required(x), stratify) : id;\n    };\n\n    stratify.parentId = function(x) {\n      return arguments.length ? (parentId = required(x), stratify) : parentId;\n    };\n\n    return stratify;\n  }\n\n  function defaultSeparation$1(a, b) {\n    return a.parent === b.parent ? 1 : 2;\n  }\n\n  // function radialSeparation(a, b) {\n  //   return (a.parent === b.parent ? 1 : 2) / a.depth;\n  // }\n\n  // This function is used to traverse the left contour of a subtree (or\n  // subforest). It returns the successor of v on this contour. This successor is\n  // either given by the leftmost child of v or by the thread of v. The function\n  // returns null if and only if v is on the highest level of its subtree.\n  function nextLeft(v) {\n    var children = v.children;\n    return children ? children[0] : v.t;\n  }\n\n  // This function works analogously to nextLeft.\n  function nextRight(v) {\n    var children = v.children;\n    return children ? children[children.length - 1] : v.t;\n  }\n\n  // Shifts the current subtree rooted at w+. This is done by increasing\n  // prelim(w+) and mod(w+) by shift.\n  function moveSubtree(wm, wp, shift) {\n    var change = shift / (wp.i - wm.i);\n    wp.c -= change;\n    wp.s += shift;\n    wm.c += change;\n    wp.z += shift;\n    wp.m += shift;\n  }\n\n  // All other shifts, applied to the smaller subtrees between w- and w+, are\n  // performed by this function. To prepare the shifts, we have to adjust\n  // change(w+), shift(w+), and change(w-).\n  function executeShifts(v) {\n    var shift = 0,\n        change = 0,\n        children = v.children,\n        i = children.length,\n        w;\n    while (--i >= 0) {\n      w = children[i];\n      w.z += shift;\n      w.m += shift;\n      shift += w.s + (change += w.c);\n    }\n  }\n\n  // If vi-’s ancestor is a sibling of v, returns vi-’s ancestor. Otherwise,\n  // returns the specified (default) ancestor.\n  function nextAncestor(vim, v, ancestor) {\n    return vim.a.parent === v.parent ? vim.a : ancestor;\n  }\n\n  function TreeNode(node, i) {\n    this._ = node;\n    this.parent = null;\n    this.children = null;\n    this.A = null; // default ancestor\n    this.a = this; // ancestor\n    this.z = 0; // prelim\n    this.m = 0; // mod\n    this.c = 0; // change\n    this.s = 0; // shift\n    this.t = null; // thread\n    this.i = i; // number\n  }\n\n  TreeNode.prototype = Object.create(Node.prototype);\n\n  function treeRoot(root) {\n    var tree = new TreeNode(root, 0),\n        node,\n        nodes = [tree],\n        child,\n        children,\n        i,\n        n;\n\n    while (node = nodes.pop()) {\n      if (children = node._.children) {\n        node.children = new Array(n = children.length);\n        for (i = n - 1; i >= 0; --i) {\n          nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n          child.parent = node;\n        }\n      }\n    }\n\n    (tree.parent = new TreeNode(null, 0)).children = [tree];\n    return tree;\n  }\n\n  // Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\n  function tree() {\n    var separation = defaultSeparation$1,\n        dx = 1,\n        dy = 1,\n        nodeSize = null;\n\n    function tree(root) {\n      var t = treeRoot(root);\n\n      // Compute the layout using Buchheim et al.’s algorithm.\n      t.eachAfter(firstWalk), t.parent.m = -t.z;\n      t.eachBefore(secondWalk);\n\n      // If a fixed node size is specified, scale x and y.\n      if (nodeSize) root.eachBefore(sizeNode);\n\n      // If a fixed tree size is specified, scale x and y based on the extent.\n      // Compute the left-most, right-most, and depth-most nodes for extents.\n      else {\n        var left = root,\n            right = root,\n            bottom = root;\n        root.eachBefore(function(node) {\n          if (node.x < left.x) left = node;\n          if (node.x > right.x) right = node;\n          if (node.depth > bottom.depth) bottom = node;\n        });\n        var s = left === right ? 1 : separation(left, right) / 2,\n            tx = s - left.x,\n            kx = dx / (right.x + s + tx),\n            ky = dy / (bottom.depth || 1);\n        root.eachBefore(function(node) {\n          node.x = (node.x + tx) * kx;\n          node.y = node.depth * ky;\n        });\n      }\n\n      return root;\n    }\n\n    // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n    // applied recursively to the children of v, as well as the function\n    // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n    // node v is placed to the midpoint of its outermost children.\n    function firstWalk(v) {\n      var children = v.children,\n          siblings = v.parent.children,\n          w = v.i ? siblings[v.i - 1] : null;\n      if (children) {\n        executeShifts(v);\n        var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n        if (w) {\n          v.z = w.z + separation(v._, w._);\n          v.m = v.z - midpoint;\n        } else {\n          v.z = midpoint;\n        }\n      } else if (w) {\n        v.z = w.z + separation(v._, w._);\n      }\n      v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n    }\n\n    // Computes all real x-coordinates by summing up the modifiers recursively.\n    function secondWalk(v) {\n      v._.x = v.z + v.parent.m;\n      v.m += v.parent.m;\n    }\n\n    // The core of the algorithm. Here, a new subtree is combined with the\n    // previous subtrees. Threads are used to traverse the inside and outside\n    // contours of the left and right subtree up to the highest common level. The\n    // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n    // superscript o means outside and i means inside, the subscript - means left\n    // subtree and + means right subtree. For summing up the modifiers along the\n    // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n    // nodes of the inside contours conflict, we compute the left one of the\n    // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n    // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n    // Finally, we add a new thread (if necessary).\n    function apportion(v, w, ancestor) {\n      if (w) {\n        var vip = v,\n            vop = v,\n            vim = w,\n            vom = vip.parent.children[0],\n            sip = vip.m,\n            sop = vop.m,\n            sim = vim.m,\n            som = vom.m,\n            shift;\n        while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n          vom = nextLeft(vom);\n          vop = nextRight(vop);\n          vop.a = v;\n          shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n          if (shift > 0) {\n            moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n            sip += shift;\n            sop += shift;\n          }\n          sim += vim.m;\n          sip += vip.m;\n          som += vom.m;\n          sop += vop.m;\n        }\n        if (vim && !nextRight(vop)) {\n          vop.t = vim;\n          vop.m += sim - sop;\n        }\n        if (vip && !nextLeft(vom)) {\n          vom.t = vip;\n          vom.m += sip - som;\n          ancestor = v;\n        }\n      }\n      return ancestor;\n    }\n\n    function sizeNode(node) {\n      node.x *= dx;\n      node.y = node.depth * dy;\n    }\n\n    tree.separation = function(x) {\n      return arguments.length ? (separation = x, tree) : separation;\n    };\n\n    tree.size = function(x) {\n      return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n    };\n\n    tree.nodeSize = function(x) {\n      return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n    };\n\n    return tree;\n  }\n\n  function treemapSlice(parent, x0, y0, x1, y1) {\n    var nodes = parent.children,\n        node,\n        i = -1,\n        n = nodes.length,\n        k = parent.value && (y1 - y0) / parent.value;\n\n    while (++i < n) {\n      node = nodes[i], node.x0 = x0, node.x1 = x1;\n      node.y0 = y0, node.y1 = y0 += node.value * k;\n    }\n  }\n\n  var phi = (1 + Math.sqrt(5)) / 2;\n\n  function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n    var rows = [],\n        nodes = parent.children,\n        row,\n        nodeValue,\n        i0 = 0,\n        i1,\n        n = nodes.length,\n        dx, dy,\n        value = parent.value,\n        sumValue,\n        minValue,\n        maxValue,\n        newRatio,\n        minRatio,\n        alpha,\n        beta;\n\n    while (i0 < n) {\n      dx = x1 - x0, dy = y1 - y0;\n      minValue = maxValue = sumValue = nodes[i0].value;\n      alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n      beta = sumValue * sumValue * alpha;\n      minRatio = Math.max(maxValue / beta, beta / minValue);\n\n      // Keep adding nodes while the aspect ratio maintains or improves.\n      for (i1 = i0 + 1; i1 < n; ++i1) {\n        sumValue += nodeValue = nodes[i1].value;\n        if (nodeValue < minValue) minValue = nodeValue;\n        if (nodeValue > maxValue) maxValue = nodeValue;\n        beta = sumValue * sumValue * alpha;\n        newRatio = Math.max(maxValue / beta, beta / minValue);\n        if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n        minRatio = newRatio;\n      }\n\n      // Position and record the row orientation.\n      rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n      if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n      else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n      value -= sumValue, i0 = i1;\n    }\n\n    return rows;\n  }\n\n  var squarify = (function custom(ratio) {\n\n    function squarify(parent, x0, y0, x1, y1) {\n      squarifyRatio(ratio, parent, x0, y0, x1, y1);\n    }\n\n    squarify.ratio = function(x) {\n      return custom((x = +x) > 1 ? x : 1);\n    };\n\n    return squarify;\n  })(phi);\n\n  function index$1() {\n    var tile = squarify,\n        round = false,\n        dx = 1,\n        dy = 1,\n        paddingStack = [0],\n        paddingInner = constantZero,\n        paddingTop = constantZero,\n        paddingRight = constantZero,\n        paddingBottom = constantZero,\n        paddingLeft = constantZero;\n\n    function treemap(root) {\n      root.x0 =\n      root.y0 = 0;\n      root.x1 = dx;\n      root.y1 = dy;\n      root.eachBefore(positionNode);\n      paddingStack = [0];\n      if (round) root.eachBefore(roundNode);\n      return root;\n    }\n\n    function positionNode(node) {\n      var p = paddingStack[node.depth],\n          x0 = node.x0 + p,\n          y0 = node.y0 + p,\n          x1 = node.x1 - p,\n          y1 = node.y1 - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n      if (node.children) {\n        p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n        x0 += paddingLeft(node) - p;\n        y0 += paddingTop(node) - p;\n        x1 -= paddingRight(node) - p;\n        y1 -= paddingBottom(node) - p;\n        if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n        if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n        tile(node, x0, y0, x1, y1);\n      }\n    }\n\n    treemap.round = function(x) {\n      return arguments.length ? (round = !!x, treemap) : round;\n    };\n\n    treemap.size = function(x) {\n      return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n    };\n\n    treemap.tile = function(x) {\n      return arguments.length ? (tile = required(x), treemap) : tile;\n    };\n\n    treemap.padding = function(x) {\n      return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n    };\n\n    treemap.paddingInner = function(x) {\n      return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant$5(+x), treemap) : paddingInner;\n    };\n\n    treemap.paddingOuter = function(x) {\n      return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n    };\n\n    treemap.paddingTop = function(x) {\n      return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant$5(+x), treemap) : paddingTop;\n    };\n\n    treemap.paddingRight = function(x) {\n      return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant$5(+x), treemap) : paddingRight;\n    };\n\n    treemap.paddingBottom = function(x) {\n      return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant$5(+x), treemap) : paddingBottom;\n    };\n\n    treemap.paddingLeft = function(x) {\n      return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant$5(+x), treemap) : paddingLeft;\n    };\n\n    return treemap;\n  }\n\n  function binary(parent, x0, y0, x1, y1) {\n    var nodes = parent.children,\n        i, n = nodes.length,\n        sum, sums = new Array(n + 1);\n\n    for (sums[0] = sum = i = 0; i < n; ++i) {\n      sums[i + 1] = sum += nodes[i].value;\n    }\n\n    partition(0, n, parent.value, x0, y0, x1, y1);\n\n    function partition(i, j, value, x0, y0, x1, y1) {\n      if (i >= j - 1) {\n        var node = nodes[i];\n        node.x0 = x0, node.y0 = y0;\n        node.x1 = x1, node.y1 = y1;\n        return;\n      }\n\n      var valueOffset = sums[i],\n          valueTarget = (value / 2) + valueOffset,\n          k = i + 1,\n          hi = j - 1;\n\n      while (k < hi) {\n        var mid = k + hi >>> 1;\n        if (sums[mid] < valueTarget) k = mid + 1;\n        else hi = mid;\n      }\n\n      var valueLeft = sums[k] - valueOffset,\n          valueRight = value - valueLeft;\n\n      if ((y1 - y0) > (x1 - x0)) {\n        var yk = (y0 * valueRight + y1 * valueLeft) / value;\n        partition(i, k, valueLeft, x0, y0, x1, yk);\n        partition(k, j, valueRight, x0, yk, x1, y1);\n      } else {\n        var xk = (x0 * valueRight + x1 * valueLeft) / value;\n        partition(i, k, valueLeft, x0, y0, xk, y1);\n        partition(k, j, valueRight, xk, y0, x1, y1);\n      }\n    }\n  }\n\n  function sliceDice(parent, x0, y0, x1, y1) {\n    (parent.depth & 1 ? treemapSlice : treemapDice)(parent, x0, y0, x1, y1);\n  }\n\n  var resquarify = (function custom(ratio) {\n\n    function resquarify(parent, x0, y0, x1, y1) {\n      if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n        var rows,\n            row,\n            nodes,\n            i,\n            j = -1,\n            n,\n            m = rows.length,\n            value = parent.value;\n\n        while (++j < m) {\n          row = rows[j], nodes = row.children;\n          for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n          if (row.dice) treemapDice(row, x0, y0, x1, y0 += (y1 - y0) * row.value / value);\n          else treemapSlice(row, x0, y0, x0 += (x1 - x0) * row.value / value, y1);\n          value -= row.value;\n        }\n      } else {\n        parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n        rows.ratio = ratio;\n      }\n    }\n\n    resquarify.ratio = function(x) {\n      return custom((x = +x) > 1 ? x : 1);\n    };\n\n    return resquarify;\n  })(phi);\n\n  function center$1(x, y) {\n    var nodes;\n\n    if (x == null) x = 0;\n    if (y == null) y = 0;\n\n    function force() {\n      var i,\n          n = nodes.length,\n          node,\n          sx = 0,\n          sy = 0;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i], sx += node.x, sy += node.y;\n      }\n\n      for (sx = sx / n - x, sy = sy / n - y, i = 0; i < n; ++i) {\n        node = nodes[i], node.x -= sx, node.y -= sy;\n      }\n    }\n\n    force.initialize = function(_) {\n      nodes = _;\n    };\n\n    force.x = function(_) {\n      return arguments.length ? (x = +_, force) : x;\n    };\n\n    force.y = function(_) {\n      return arguments.length ? (y = +_, force) : y;\n    };\n\n    return force;\n  }\n\n  function constant$6(x) {\n    return function() {\n      return x;\n    };\n  }\n\n  function jiggle() {\n    return (Math.random() - 0.5) * 1e-6;\n  }\n\n  function x$1(d) {\n    return d.x + d.vx;\n  }\n\n  function y$1(d) {\n    return d.y + d.vy;\n  }\n\n  function collide(radius) {\n    var nodes,\n        radii,\n        strength = 1,\n        iterations = 1;\n\n    if (typeof radius !== \"function\") radius = constant$6(radius == null ? 1 : +radius);\n\n    function force() {\n      var i, n = nodes.length,\n          tree,\n          node,\n          xi,\n          yi,\n          ri,\n          ri2;\n\n      for (var k = 0; k < iterations; ++k) {\n        tree = quadtree(nodes, x$1, y$1).visitAfter(prepare);\n        for (i = 0; i < n; ++i) {\n          node = nodes[i];\n          ri = radii[i], ri2 = ri * ri;\n          xi = node.x + node.vx;\n          yi = node.y + node.vy;\n          tree.visit(apply);\n        }\n      }\n\n      function apply(quad, x0, y0, x1, y1) {\n        var data = quad.data, rj = quad.r, r = ri + rj;\n        if (data) {\n          if (data.index > i) {\n            var x = xi - data.x - data.vx,\n                y = yi - data.y - data.vy,\n                l = x * x + y * y;\n            if (l < r * r) {\n              if (x === 0) x = jiggle(), l += x * x;\n              if (y === 0) y = jiggle(), l += y * y;\n              l = (r - (l = Math.sqrt(l))) / l * strength;\n              node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n              node.vy += (y *= l) * r;\n              data.vx -= x * (r = 1 - r);\n              data.vy -= y * r;\n            }\n          }\n          return;\n        }\n        return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n      }\n    }\n\n    function prepare(quad) {\n      if (quad.data) return quad.r = radii[quad.data.index];\n      for (var i = quad.r = 0; i < 4; ++i) {\n        if (quad[i] && quad[i].r > quad.r) {\n          quad.r = quad[i].r;\n        }\n      }\n    }\n\n    force.initialize = function(_) {\n      var i, n = (nodes = _).length; radii = new Array(n);\n      for (i = 0; i < n; ++i) radii[i] = +radius(nodes[i], i, nodes);\n    };\n\n    force.iterations = function(_) {\n      return arguments.length ? (iterations = +_, force) : iterations;\n    };\n\n    force.strength = function(_) {\n      return arguments.length ? (strength = +_, force) : strength;\n    };\n\n    force.radius = function(_) {\n      return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant$6(+_), force) : radius;\n    };\n\n    return force;\n  }\n\n  function index$2(d, i) {\n    return i;\n  }\n\n  function link(links) {\n    var id = index$2,\n        strength = defaultStrength,\n        strengths,\n        distance = constant$6(30),\n        distances,\n        nodes,\n        count,\n        bias,\n        iterations = 1;\n\n    if (links == null) links = [];\n\n    function defaultStrength(link) {\n      return 1 / Math.min(count[link.source.index], count[link.target.index]);\n    }\n\n    function force(alpha) {\n      for (var k = 0, n = links.length; k < iterations; ++k) {\n        for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n          link = links[i], source = link.source, target = link.target;\n          x = target.x + target.vx - source.x - source.vx || jiggle();\n          y = target.y + target.vy - source.y - source.vy || jiggle();\n          l = Math.sqrt(x * x + y * y);\n          l = (l - distances[i]) / l * alpha * strengths[i];\n          x *= l, y *= l;\n          target.vx -= x * (b = bias[i]);\n          target.vy -= y * b;\n          source.vx += x * (b = 1 - b);\n          source.vy += y * b;\n        }\n      }\n    }\n\n    function initialize() {\n      if (!nodes) return;\n\n      var i,\n          n = nodes.length,\n          m = links.length,\n          nodeById = map$1(nodes, id),\n          link;\n\n      for (i = 0, count = new Array(n); i < n; ++i) {\n        count[i] = 0;\n      }\n\n      for (i = 0; i < m; ++i) {\n        link = links[i], link.index = i;\n        if (typeof link.source !== \"object\") link.source = nodeById.get(link.source);\n        if (typeof link.target !== \"object\") link.target = nodeById.get(link.target);\n        ++count[link.source.index], ++count[link.target.index];\n      }\n\n      for (i = 0, bias = new Array(m); i < m; ++i) {\n        link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n      }\n\n      strengths = new Array(m), initializeStrength();\n      distances = new Array(m), initializeDistance();\n    }\n\n    function initializeStrength() {\n      if (!nodes) return;\n\n      for (var i = 0, n = links.length; i < n; ++i) {\n        strengths[i] = +strength(links[i], i, links);\n      }\n    }\n\n    function initializeDistance() {\n      if (!nodes) return;\n\n      for (var i = 0, n = links.length; i < n; ++i) {\n        distances[i] = +distance(links[i], i, links);\n      }\n    }\n\n    force.initialize = function(_) {\n      nodes = _;\n      initialize();\n    };\n\n    force.links = function(_) {\n      return arguments.length ? (links = _, initialize(), force) : links;\n    };\n\n    force.id = function(_) {\n      return arguments.length ? (id = _, force) : id;\n    };\n\n    force.iterations = function(_) {\n      return arguments.length ? (iterations = +_, force) : iterations;\n    };\n\n    force.strength = function(_) {\n      return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant$6(+_), initializeStrength(), force) : strength;\n    };\n\n    force.distance = function(_) {\n      return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant$6(+_), initializeDistance(), force) : distance;\n    };\n\n    return force;\n  }\n\n  function x$2(d) {\n    return d.x;\n  }\n\n  function y$2(d) {\n    return d.y;\n  }\n\n  var initialRadius = 10;\n  var initialAngle = Math.PI * (3 - Math.sqrt(5));\n  function simulation(nodes) {\n    var simulation,\n        alpha = 1,\n        alphaMin = 0.001,\n        alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n        alphaTarget = 0,\n        velocityDecay = 0.6,\n        forces = map$1(),\n        stepper = timer(step),\n        event = dispatch(\"tick\", \"end\");\n\n    if (nodes == null) nodes = [];\n\n    function step() {\n      tick();\n      event.call(\"tick\", simulation);\n      if (alpha < alphaMin) {\n        stepper.stop();\n        event.call(\"end\", simulation);\n      }\n    }\n\n    function tick() {\n      var i, n = nodes.length, node;\n\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.each(function(force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    function initializeNodes() {\n      for (var i = 0, n = nodes.length, node; i < n; ++i) {\n        node = nodes[i], node.index = i;\n        if (isNaN(node.x) || isNaN(node.y)) {\n          var radius = initialRadius * Math.sqrt(i), angle = i * initialAngle;\n          node.x = radius * Math.cos(angle);\n          node.y = radius * Math.sin(angle);\n        }\n        if (isNaN(node.vx) || isNaN(node.vy)) {\n          node.vx = node.vy = 0;\n        }\n      }\n    }\n\n    function initializeForce(force) {\n      if (force.initialize) force.initialize(nodes);\n      return force;\n    }\n\n    initializeNodes();\n\n    return simulation = {\n      tick: tick,\n\n      restart: function() {\n        return stepper.restart(step), simulation;\n      },\n\n      stop: function() {\n        return stepper.stop(), simulation;\n      },\n\n      nodes: function(_) {\n        return arguments.length ? (nodes = _, initializeNodes(), forces.each(initializeForce), simulation) : nodes;\n      },\n\n      alpha: function(_) {\n        return arguments.length ? (alpha = +_, simulation) : alpha;\n      },\n\n      alphaMin: function(_) {\n        return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n      },\n\n      alphaDecay: function(_) {\n        return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n      },\n\n      alphaTarget: function(_) {\n        return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n      },\n\n      velocityDecay: function(_) {\n        return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n      },\n\n      force: function(name, _) {\n        return arguments.length > 1 ? ((_ == null ? forces.remove(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n      },\n\n      find: function(x, y, radius) {\n        var i = 0,\n            n = nodes.length,\n            dx,\n            dy,\n            d2,\n            node,\n            closest;\n\n        if (radius == null) radius = Infinity;\n        else radius *= radius;\n\n        for (i = 0; i < n; ++i) {\n          node = nodes[i];\n          dx = x - node.x;\n          dy = y - node.y;\n          d2 = dx * dx + dy * dy;\n          if (d2 < radius) closest = node, radius = d2;\n        }\n\n        return closest;\n      },\n\n      on: function(name, _) {\n        return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n      }\n    };\n  }\n\n  function manyBody() {\n    var nodes,\n        node,\n        alpha,\n        strength = constant$6(-30),\n        strengths,\n        distanceMin2 = 1,\n        distanceMax2 = Infinity,\n        theta2 = 0.81;\n\n    function force(_) {\n      var i, n = nodes.length, tree = quadtree(nodes, x$2, y$2).visitAfter(accumulate);\n      for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n    }\n\n    function initialize() {\n      if (!nodes) return;\n      var i, n = nodes.length;\n      strengths = new Array(n);\n      for (i = 0; i < n; ++i) strengths[i] = +strength(nodes[i], i, nodes);\n    }\n\n    function accumulate(quad) {\n      var strength = 0, q, c, x, y, i;\n\n      // For internal nodes, accumulate forces from child quadrants.\n      if (quad.length) {\n        for (x = y = i = 0; i < 4; ++i) {\n          if ((q = quad[i]) && (c = q.value)) {\n            strength += c, x += c * q.x, y += c * q.y;\n          }\n        }\n        quad.x = x / strength;\n        quad.y = y / strength;\n      }\n\n      // For leaf nodes, accumulate forces from coincident quadrants.\n      else {\n        q = quad;\n        q.x = q.data.x;\n        q.y = q.data.y;\n        do strength += strengths[q.data.index];\n        while (q = q.next);\n      }\n\n      quad.value = strength;\n    }\n\n    function apply(quad, x1, _, x2) {\n      if (!quad.value) return true;\n\n      var x = quad.x - node.x,\n          y = quad.y - node.y,\n          w = x2 - x1,\n          l = x * x + y * y;\n\n      // Apply the Barnes-Hut approximation if possible.\n      // Limit forces for very close nodes; randomize direction if coincident.\n      if (w * w / theta2 < l) {\n        if (l < distanceMax2) {\n          if (x === 0) x = jiggle(), l += x * x;\n          if (y === 0) y = jiggle(), l += y * y;\n          if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n          node.vx += x * quad.value * alpha / l;\n          node.vy += y * quad.value * alpha / l;\n        }\n        return true;\n      }\n\n      // Otherwise, process points directly.\n      else if (quad.length || l >= distanceMax2) return;\n\n      // Limit forces for very close nodes; randomize direction if coincident.\n      if (quad.data !== node || quad.next) {\n        if (x === 0) x = jiggle(), l += x * x;\n        if (y === 0) y = jiggle(), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n      }\n\n      do if (quad.data !== node) {\n        w = strengths[quad.data.index] * alpha / l;\n        node.vx += x * w;\n        node.vy += y * w;\n      } while (quad = quad.next);\n    }\n\n    force.initialize = function(_) {\n      nodes = _;\n      initialize();\n    };\n\n    force.strength = function(_) {\n      return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant$6(+_), initialize(), force) : strength;\n    };\n\n    force.distanceMin = function(_) {\n      return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n    };\n\n    force.distanceMax = function(_) {\n      return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n    };\n\n    force.theta = function(_) {\n      return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n    };\n\n    return force;\n  }\n\n  function x$3(x) {\n    var strength = constant$6(0.1),\n        nodes,\n        strengths,\n        xz;\n\n    if (typeof x !== \"function\") x = constant$6(x == null ? 0 : +x);\n\n    function force(alpha) {\n      for (var i = 0, n = nodes.length, node; i < n; ++i) {\n        node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n      }\n    }\n\n    function initialize() {\n      if (!nodes) return;\n      var i, n = nodes.length;\n      strengths = new Array(n);\n      xz = new Array(n);\n      for (i = 0; i < n; ++i) {\n        strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n      }\n    }\n\n    force.initialize = function(_) {\n      nodes = _;\n      initialize();\n    };\n\n    force.strength = function(_) {\n      return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant$6(+_), initialize(), force) : strength;\n    };\n\n    force.x = function(_) {\n      return arguments.length ? (x = typeof _ === \"function\" ? _ : constant$6(+_), initialize(), force) : x;\n    };\n\n    return force;\n  }\n\n  function y$3(y) {\n    var strength = constant$6(0.1),\n        nodes,\n        strengths,\n        yz;\n\n    if (typeof y !== \"function\") y = constant$6(y == null ? 0 : +y);\n\n    function force(alpha) {\n      for (var i = 0, n = nodes.length, node; i < n; ++i) {\n        node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n      }\n    }\n\n    function initialize() {\n      if (!nodes) return;\n      var i, n = nodes.length;\n      strengths = new Array(n);\n      yz = new Array(n);\n      for (i = 0; i < n; ++i) {\n        strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n      }\n    }\n\n    force.initialize = function(_) {\n      nodes = _;\n      initialize();\n    };\n\n    force.strength = function(_) {\n      return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant$6(+_), initialize(), force) : strength;\n    };\n\n    force.y = function(_) {\n      return arguments.length ? (y = typeof _ === \"function\" ? _ : constant$6(+_), initialize(), force) : y;\n    };\n\n    return force;\n  }\n\n  function nopropagation() {\n    exports.event.stopImmediatePropagation();\n  }\n\n  function noevent() {\n    exports.event.preventDefault();\n    exports.event.stopImmediatePropagation();\n  }\n\n  function dragDisable(view) {\n    var root = view.document.documentElement,\n        selection = select(view).on(\"dragstart.drag\", noevent, true);\n    if (\"onselectstart\" in root) {\n      selection.on(\"selectstart.drag\", noevent, true);\n    } else {\n      root.__noselect = root.style.MozUserSelect;\n      root.style.MozUserSelect = \"none\";\n    }\n  }\n\n  function dragEnable(view, noclick) {\n    var root = view.document.documentElement,\n        selection = select(view).on(\"dragstart.drag\", null);\n    if (noclick) {\n      selection.on(\"click.drag\", noevent, true);\n      setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n    }\n    if (\"onselectstart\" in root) {\n      selection.on(\"selectstart.drag\", null);\n    } else {\n      root.style.MozUserSelect = root.__noselect;\n      delete root.__noselect;\n    }\n  }\n\n  function constant$7(x) {\n    return function() {\n      return x;\n    };\n  }\n\n  function DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch) {\n    this.target = target;\n    this.type = type;\n    this.subject = subject;\n    this.identifier = id;\n    this.active = active;\n    this.x = x;\n    this.y = y;\n    this.dx = dx;\n    this.dy = dy;\n    this._ = dispatch;\n  }\n\n  DragEvent.prototype.on = function() {\n    var value = this._.on.apply(this._, arguments);\n    return value === this._ ? this : value;\n  };\n\n  // Ignore right-click, since that should open the context menu.\n  function defaultFilter() {\n    return !exports.event.button;\n  }\n\n  function defaultContainer() {\n    return this.parentNode;\n  }\n\n  function defaultSubject(d) {\n    return d == null ? {x: exports.event.x, y: exports.event.y} : d;\n  }\n\n  function drag() {\n    var filter = defaultFilter,\n        container = defaultContainer,\n        subject = defaultSubject,\n        gestures = {},\n        listeners = dispatch(\"start\", \"drag\", \"end\"),\n        active = 0,\n        mousemoving,\n        touchending;\n\n    function drag(selection) {\n      selection\n          .on(\"mousedown.drag\", mousedowned)\n          .on(\"touchstart.drag\", touchstarted)\n          .on(\"touchmove.drag\", touchmoved)\n          .on(\"touchend.drag touchcancel.drag\", touchended)\n          .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n    }\n\n    function mousedowned() {\n      if (touchending || !filter.apply(this, arguments)) return;\n      var gesture = beforestart(\"mouse\", container.apply(this, arguments), mouse, this, arguments);\n      if (!gesture) return;\n      select(exports.event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n      dragDisable(exports.event.view);\n      nopropagation();\n      mousemoving = false;\n      gesture(\"start\");\n    }\n\n    function mousemoved() {\n      noevent();\n      mousemoving = true;\n      gestures.mouse(\"drag\");\n    }\n\n    function mouseupped() {\n      select(exports.event.view).on(\"mousemove.drag mouseup.drag\", null);\n      dragEnable(exports.event.view, mousemoving);\n      noevent();\n      gestures.mouse(\"end\");\n    }\n\n    function touchstarted() {\n      if (!filter.apply(this, arguments)) return;\n      var touches = exports.event.changedTouches,\n          c = container.apply(this, arguments),\n          n = touches.length, i, gesture;\n\n      for (i = 0; i < n; ++i) {\n        if (gesture = beforestart(touches[i].identifier, c, touch, this, arguments)) {\n          nopropagation();\n          gesture(\"start\");\n        }\n      }\n    }\n\n    function touchmoved() {\n      var touches = exports.event.changedTouches,\n          n = touches.length, i, gesture;\n\n      for (i = 0; i < n; ++i) {\n        if (gesture = gestures[touches[i].identifier]) {\n          noevent();\n          gesture(\"drag\");\n        }\n      }\n    }\n\n    function touchended() {\n      var touches = exports.event.changedTouches,\n          n = touches.length, i, gesture;\n\n      if (touchending) clearTimeout(touchending);\n      touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      for (i = 0; i < n; ++i) {\n        if (gesture = gestures[touches[i].identifier]) {\n          nopropagation();\n          gesture(\"end\");\n        }\n      }\n    }\n\n    function beforestart(id, container, point, that, args) {\n      var p = point(container, id), s, dx, dy,\n          sublisteners = listeners.copy();\n\n      if (!customEvent(new DragEvent(drag, \"beforestart\", s, id, active, p[0], p[1], 0, 0, sublisteners), function() {\n        if ((exports.event.subject = s = subject.apply(that, args)) == null) return false;\n        dx = s.x - p[0] || 0;\n        dy = s.y - p[1] || 0;\n        return true;\n      })) return;\n\n      return function gesture(type) {\n        var p0 = p, n;\n        switch (type) {\n          case \"start\": gestures[id] = gesture, n = active++; break;\n          case \"end\": delete gestures[id], --active; // nobreak\n          case \"drag\": p = point(container, id), n = active; break;\n        }\n        customEvent(new DragEvent(drag, type, s, id, n, p[0] + dx, p[1] + dy, p[0] - p0[0], p[1] - p0[1], sublisteners), sublisteners.apply, sublisteners, [type, that, args]);\n      };\n    }\n\n    drag.filter = function(_) {\n      return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant$7(!!_), drag) : filter;\n    };\n\n    drag.container = function(_) {\n      return arguments.length ? (container = typeof _ === \"function\" ? _ : constant$7(_), drag) : container;\n    };\n\n    drag.subject = function(_) {\n      return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant$7(_), drag) : subject;\n    };\n\n    drag.on = function() {\n      var value = listeners.on.apply(listeners, arguments);\n      return value === listeners ? drag : value;\n    };\n\n    return drag;\n  }\n\n  function constant$8(x) {\n    return function() {\n      return x;\n    };\n  }\n\n  function x$4(d) {\n    return d[0];\n  }\n\n  function y$4(d) {\n    return d[1];\n  }\n\n  function RedBlackTree() {\n    this._ = null; // root node\n  }\n\n  function RedBlackNode(node) {\n    node.U = // parent node\n    node.C = // color - true for red, false for black\n    node.L = // left node\n    node.R = // right node\n    node.P = // previous node\n    node.N = null; // next node\n  }\n\n  RedBlackTree.prototype = {\n    constructor: RedBlackTree,\n\n    insert: function(after, node) {\n      var parent, grandpa, uncle;\n\n      if (after) {\n        node.P = after;\n        node.N = after.N;\n        if (after.N) after.N.P = node;\n        after.N = node;\n        if (after.R) {\n          after = after.R;\n          while (after.L) after = after.L;\n          after.L = node;\n        } else {\n          after.R = node;\n        }\n        parent = after;\n      } else if (this._) {\n        after = RedBlackFirst(this._);\n        node.P = null;\n        node.N = after;\n        after.P = after.L = node;\n        parent = after;\n      } else {\n        node.P = node.N = null;\n        this._ = node;\n        parent = null;\n      }\n      node.L = node.R = null;\n      node.U = parent;\n      node.C = true;\n\n      after = node;\n      while (parent && parent.C) {\n        grandpa = parent.U;\n        if (parent === grandpa.L) {\n          uncle = grandpa.R;\n          if (uncle && uncle.C) {\n            parent.C = uncle.C = false;\n            grandpa.C = true;\n            after = grandpa;\n          } else {\n            if (after === parent.R) {\n              RedBlackRotateLeft(this, parent);\n              after = parent;\n              parent = after.U;\n            }\n            parent.C = false;\n            grandpa.C = true;\n            RedBlackRotateRight(this, grandpa);\n          }\n        } else {\n          uncle = grandpa.L;\n          if (uncle && uncle.C) {\n            parent.C = uncle.C = false;\n            grandpa.C = true;\n            after = grandpa;\n          } else {\n            if (after === parent.L) {\n              RedBlackRotateRight(this, parent);\n              after = parent;\n              parent = after.U;\n            }\n            parent.C = false;\n            grandpa.C = true;\n            RedBlackRotateLeft(this, grandpa);\n          }\n        }\n        parent = after.U;\n      }\n      this._.C = false;\n    },\n\n    remove: function(node) {\n      if (node.N) node.N.P = node.P;\n      if (node.P) node.P.N = node.N;\n      node.N = node.P = null;\n\n      var parent = node.U,\n          sibling,\n          left = node.L,\n          right = node.R,\n          next,\n          red;\n\n      if (!left) next = right;\n      else if (!right) next = left;\n      else next = RedBlackFirst(right);\n\n      if (parent) {\n        if (parent.L === node) parent.L = next;\n        else parent.R = next;\n      } else {\n        this._ = next;\n      }\n\n      if (left && right) {\n        red = next.C;\n        next.C = node.C;\n        next.L = left;\n        left.U = next;\n        if (next !== right) {\n          parent = next.U;\n          next.U = node.U;\n          node = next.R;\n          parent.L = node;\n          next.R = right;\n          right.U = next;\n        } else {\n          next.U = parent;\n          parent = next;\n          node = next.R;\n        }\n      } else {\n        red = node.C;\n        node = next;\n      }\n\n      if (node) node.U = parent;\n      if (red) return;\n      if (node && node.C) { node.C = false; return; }\n\n      do {\n        if (node === this._) break;\n        if (node === parent.L) {\n          sibling = parent.R;\n          if (sibling.C) {\n            sibling.C = false;\n            parent.C = true;\n            RedBlackRotateLeft(this, parent);\n            sibling = parent.R;\n          }\n          if ((sibling.L && sibling.L.C)\n              || (sibling.R && sibling.R.C)) {\n            if (!sibling.R || !sibling.R.C) {\n              sibling.L.C = false;\n              sibling.C = true;\n              RedBlackRotateRight(this, sibling);\n              sibling = parent.R;\n            }\n            sibling.C = parent.C;\n            parent.C = sibling.R.C = false;\n            RedBlackRotateLeft(this, parent);\n            node = this._;\n            break;\n          }\n        } else {\n          sibling = parent.L;\n          if (sibling.C) {\n            sibling.C = false;\n            parent.C = true;\n            RedBlackRotateRight(this, parent);\n            sibling = parent.L;\n          }\n          if ((sibling.L && sibling.L.C)\n            || (sibling.R && sibling.R.C)) {\n            if (!sibling.L || !sibling.L.C) {\n              sibling.R.C = false;\n              sibling.C = true;\n              RedBlackRotateLeft(this, sibling);\n              sibling = parent.L;\n            }\n            sibling.C = parent.C;\n            parent.C = sibling.L.C = false;\n            RedBlackRotateRight(this, parent);\n            node = this._;\n            break;\n          }\n        }\n        sibling.C = true;\n        node = parent;\n        parent = parent.U;\n      } while (!node.C);\n\n      if (node) node.C = false;\n    }\n  };\n\n  function RedBlackRotateLeft(tree, node) {\n    var p = node,\n        q = node.R,\n        parent = p.U;\n\n    if (parent) {\n      if (parent.L === p) parent.L = q;\n      else parent.R = q;\n    } else {\n      tree._ = q;\n    }\n\n    q.U = parent;\n    p.U = q;\n    p.R = q.L;\n    if (p.R) p.R.U = p;\n    q.L = p;\n  }\n\n  function RedBlackRotateRight(tree, node) {\n    var p = node,\n        q = node.L,\n        parent = p.U;\n\n    if (parent) {\n      if (parent.L === p) parent.L = q;\n      else parent.R = q;\n    } else {\n      tree._ = q;\n    }\n\n    q.U = parent;\n    p.U = q;\n    p.L = q.R;\n    if (p.L) p.L.U = p;\n    q.R = p;\n  }\n\n  function RedBlackFirst(node) {\n    while (node.L) node = node.L;\n    return node;\n  }\n\n  function createEdge(left, right, v0, v1) {\n    var edge = [null, null],\n        index = edges.push(edge) - 1;\n    edge.left = left;\n    edge.right = right;\n    if (v0) setEdgeEnd(edge, left, right, v0);\n    if (v1) setEdgeEnd(edge, right, left, v1);\n    cells[left.index].halfedges.push(index);\n    cells[right.index].halfedges.push(index);\n    return edge;\n  }\n\n  function createBorderEdge(left, v0, v1) {\n    var edge = [v0, v1];\n    edge.left = left;\n    return edge;\n  }\n\n  function setEdgeEnd(edge, left, right, vertex) {\n    if (!edge[0] && !edge[1]) {\n      edge[0] = vertex;\n      edge.left = left;\n      edge.right = right;\n    } else if (edge.left === right) {\n      edge[1] = vertex;\n    } else {\n      edge[0] = vertex;\n    }\n  }\n\n  // Liang–Barsky line clipping.\n  function clipEdge(edge, x0, y0, x1, y1) {\n    var a = edge[0],\n        b = edge[1],\n        ax = a[0],\n        ay = a[1],\n        bx = b[0],\n        by = b[1],\n        t0 = 0,\n        t1 = 1,\n        dx = bx - ax,\n        dy = by - ay,\n        r;\n\n    r = x0 - ax;\n    if (!dx && r > 0) return;\n    r /= dx;\n    if (dx < 0) {\n      if (r < t0) return;\n      if (r < t1) t1 = r;\n    } else if (dx > 0) {\n      if (r > t1) return;\n      if (r > t0) t0 = r;\n    }\n\n    r = x1 - ax;\n    if (!dx && r < 0) return;\n    r /= dx;\n    if (dx < 0) {\n      if (r > t1) return;\n      if (r > t0) t0 = r;\n    } else if (dx > 0) {\n      if (r < t0) return;\n      if (r < t1) t1 = r;\n    }\n\n    r = y0 - ay;\n    if (!dy && r > 0) return;\n    r /= dy;\n    if (dy < 0) {\n      if (r < t0) return;\n      if (r < t1) t1 = r;\n    } else if (dy > 0) {\n      if (r > t1) return;\n      if (r > t0) t0 = r;\n    }\n\n    r = y1 - ay;\n    if (!dy && r < 0) return;\n    r /= dy;\n    if (dy < 0) {\n      if (r > t1) return;\n      if (r > t0) t0 = r;\n    } else if (dy > 0) {\n      if (r < t0) return;\n      if (r < t1) t1 = r;\n    }\n\n    if (!(t0 > 0) && !(t1 < 1)) return true; // TODO Better check?\n\n    if (t0 > 0) edge[0] = [ax + t0 * dx, ay + t0 * dy];\n    if (t1 < 1) edge[1] = [ax + t1 * dx, ay + t1 * dy];\n    return true;\n  }\n\n  function connectEdge(edge, x0, y0, x1, y1) {\n    var v1 = edge[1];\n    if (v1) return true;\n\n    var v0 = edge[0],\n        left = edge.left,\n        right = edge.right,\n        lx = left[0],\n        ly = left[1],\n        rx = right[0],\n        ry = right[1],\n        fx = (lx + rx) / 2,\n        fy = (ly + ry) / 2,\n        fm,\n        fb;\n\n    if (ry === ly) {\n      if (fx < x0 || fx >= x1) return;\n      if (lx > rx) {\n        if (!v0) v0 = [fx, y0];\n        else if (v0[1] >= y1) return;\n        v1 = [fx, y1];\n      } else {\n        if (!v0) v0 = [fx, y1];\n        else if (v0[1] < y0) return;\n        v1 = [fx, y0];\n      }\n    } else {\n      fm = (lx - rx) / (ry - ly);\n      fb = fy - fm * fx;\n      if (fm < -1 || fm > 1) {\n        if (lx > rx) {\n          if (!v0) v0 = [(y0 - fb) / fm, y0];\n          else if (v0[1] >= y1) return;\n          v1 = [(y1 - fb) / fm, y1];\n        } else {\n          if (!v0) v0 = [(y1 - fb) / fm, y1];\n          else if (v0[1] < y0) return;\n          v1 = [(y0 - fb) / fm, y0];\n        }\n      } else {\n        if (ly < ry) {\n          if (!v0) v0 = [x0, fm * x0 + fb];\n          else if (v0[0] >= x1) return;\n          v1 = [x1, fm * x1 + fb];\n        } else {\n          if (!v0) v0 = [x1, fm * x1 + fb];\n          else if (v0[0] < x0) return;\n          v1 = [x0, fm * x0 + fb];\n        }\n      }\n    }\n\n    edge[0] = v0;\n    edge[1] = v1;\n    return true;\n  }\n\n  function clipEdges(x0, y0, x1, y1) {\n    var i = edges.length,\n        edge;\n\n    while (i--) {\n      if (!connectEdge(edge = edges[i], x0, y0, x1, y1)\n          || !clipEdge(edge, x0, y0, x1, y1)\n          || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon$3\n              || Math.abs(edge[0][1] - edge[1][1]) > epsilon$3)) {\n        delete edges[i];\n      }\n    }\n  }\n\n  function createCell(site) {\n    return cells[site.index] = {\n      site: site,\n      halfedges: []\n    };\n  }\n\n  function cellHalfedgeAngle(cell, edge) {\n    var site = cell.site,\n        va = edge.left,\n        vb = edge.right;\n    if (site === vb) vb = va, va = site;\n    if (vb) return Math.atan2(vb[1] - va[1], vb[0] - va[0]);\n    if (site === va) va = edge[1], vb = edge[0];\n    else va = edge[0], vb = edge[1];\n    return Math.atan2(va[0] - vb[0], vb[1] - va[1]);\n  }\n\n  function cellHalfedgeStart(cell, edge) {\n    return edge[+(edge.left !== cell.site)];\n  }\n\n  function cellHalfedgeEnd(cell, edge) {\n    return edge[+(edge.left === cell.site)];\n  }\n\n  function sortCellHalfedges() {\n    for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {\n      if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {\n        var index = new Array(m),\n            array = new Array(m);\n        for (j = 0; j < m; ++j) index[j] = j, array[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);\n        index.sort(function(i, j) { return array[j] - array[i]; });\n        for (j = 0; j < m; ++j) array[j] = halfedges[index[j]];\n        for (j = 0; j < m; ++j) halfedges[j] = array[j];\n      }\n    }\n  }\n\n  function clipCells(x0, y0, x1, y1) {\n    var nCells = cells.length,\n        iCell,\n        cell,\n        site,\n        iHalfedge,\n        halfedges,\n        nHalfedges,\n        start,\n        startX,\n        startY,\n        end,\n        endX,\n        endY,\n        cover = true;\n\n    for (iCell = 0; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        site = cell.site;\n        halfedges = cell.halfedges;\n        iHalfedge = halfedges.length;\n\n        // Remove any dangling clipped edges.\n        while (iHalfedge--) {\n          if (!edges[halfedges[iHalfedge]]) {\n            halfedges.splice(iHalfedge, 1);\n          }\n        }\n\n        // Insert any border edges as necessary.\n        iHalfedge = 0, nHalfedges = halfedges.length;\n        while (iHalfedge < nHalfedges) {\n          end = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end[0], endY = end[1];\n          start = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start[0], startY = start[1];\n          if (Math.abs(endX - startX) > epsilon$3 || Math.abs(endY - startY) > epsilon$3) {\n            halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(site, end,\n                Math.abs(endX - x0) < epsilon$3 && y1 - endY > epsilon$3 ? [x0, Math.abs(startX - x0) < epsilon$3 ? startY : y1]\n                : Math.abs(endY - y1) < epsilon$3 && x1 - endX > epsilon$3 ? [Math.abs(startY - y1) < epsilon$3 ? startX : x1, y1]\n                : Math.abs(endX - x1) < epsilon$3 && endY - y0 > epsilon$3 ? [x1, Math.abs(startX - x1) < epsilon$3 ? startY : y0]\n                : Math.abs(endY - y0) < epsilon$3 && endX - x0 > epsilon$3 ? [Math.abs(startY - y0) < epsilon$3 ? startX : x0, y0]\n                : null)) - 1);\n            ++nHalfedges;\n          }\n        }\n\n        if (nHalfedges) cover = false;\n      }\n    }\n\n    // If there weren’t any edges, have the closest site cover the extent.\n    // It doesn’t matter which corner of the extent we measure!\n    if (cover) {\n      var dx, dy, d2, dc = Infinity;\n\n      for (iCell = 0, cover = null; iCell < nCells; ++iCell) {\n        if (cell = cells[iCell]) {\n          site = cell.site;\n          dx = site[0] - x0;\n          dy = site[1] - y0;\n          d2 = dx * dx + dy * dy;\n          if (d2 < dc) dc = d2, cover = cell;\n        }\n      }\n\n      if (cover) {\n        var v00 = [x0, y0], v01 = [x0, y1], v11 = [x1, y1], v10 = [x1, y0];\n        cover.halfedges.push(\n          edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1,\n          edges.push(createBorderEdge(site, v01, v11)) - 1,\n          edges.push(createBorderEdge(site, v11, v10)) - 1,\n          edges.push(createBorderEdge(site, v10, v00)) - 1\n        );\n      }\n    }\n\n    // Lastly delete any cells with no edges; these were entirely clipped.\n    for (iCell = 0; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        if (!cell.halfedges.length) {\n          delete cells[iCell];\n        }\n      }\n    }\n  }\n\n  var circlePool = [];\n\n  var firstCircle;\n\n  function Circle() {\n    RedBlackNode(this);\n    this.x =\n    this.y =\n    this.arc =\n    this.site =\n    this.cy = null;\n  }\n\n  function attachCircle(arc) {\n    var lArc = arc.P,\n        rArc = arc.N;\n\n    if (!lArc || !rArc) return;\n\n    var lSite = lArc.site,\n        cSite = arc.site,\n        rSite = rArc.site;\n\n    if (lSite === rSite) return;\n\n    var bx = cSite[0],\n        by = cSite[1],\n        ax = lSite[0] - bx,\n        ay = lSite[1] - by,\n        cx = rSite[0] - bx,\n        cy = rSite[1] - by;\n\n    var d = 2 * (ax * cy - ay * cx);\n    if (d >= -epsilon2$1) return;\n\n    var ha = ax * ax + ay * ay,\n        hc = cx * cx + cy * cy,\n        x = (cy * ha - ay * hc) / d,\n        y = (ax * hc - cx * ha) / d;\n\n    var circle = circlePool.pop() || new Circle;\n    circle.arc = arc;\n    circle.site = cSite;\n    circle.x = x + bx;\n    circle.y = (circle.cy = y + by) + Math.sqrt(x * x + y * y); // y bottom\n\n    arc.circle = circle;\n\n    var before = null,\n        node = circles._;\n\n    while (node) {\n      if (circle.y < node.y || (circle.y === node.y && circle.x <= node.x)) {\n        if (node.L) node = node.L;\n        else { before = node.P; break; }\n      } else {\n        if (node.R) node = node.R;\n        else { before = node; break; }\n      }\n    }\n\n    circles.insert(before, circle);\n    if (!before) firstCircle = circle;\n  }\n\n  function detachCircle(arc) {\n    var circle = arc.circle;\n    if (circle) {\n      if (!circle.P) firstCircle = circle.N;\n      circles.remove(circle);\n      circlePool.push(circle);\n      RedBlackNode(circle);\n      arc.circle = null;\n    }\n  }\n\n  var beachPool = [];\n\n  function Beach() {\n    RedBlackNode(this);\n    this.edge =\n    this.site =\n    this.circle = null;\n  }\n\n  function createBeach(site) {\n    var beach = beachPool.pop() || new Beach;\n    beach.site = site;\n    return beach;\n  }\n\n  function detachBeach(beach) {\n    detachCircle(beach);\n    beaches.remove(beach);\n    beachPool.push(beach);\n    RedBlackNode(beach);\n  }\n\n  function removeBeach(beach) {\n    var circle = beach.circle,\n        x = circle.x,\n        y = circle.cy,\n        vertex = [x, y],\n        previous = beach.P,\n        next = beach.N,\n        disappearing = [beach];\n\n    detachBeach(beach);\n\n    var lArc = previous;\n    while (lArc.circle\n        && Math.abs(x - lArc.circle.x) < epsilon$3\n        && Math.abs(y - lArc.circle.cy) < epsilon$3) {\n      previous = lArc.P;\n      disappearing.unshift(lArc);\n      detachBeach(lArc);\n      lArc = previous;\n    }\n\n    disappearing.unshift(lArc);\n    detachCircle(lArc);\n\n    var rArc = next;\n    while (rArc.circle\n        && Math.abs(x - rArc.circle.x) < epsilon$3\n        && Math.abs(y - rArc.circle.cy) < epsilon$3) {\n      next = rArc.N;\n      disappearing.push(rArc);\n      detachBeach(rArc);\n      rArc = next;\n    }\n\n    disappearing.push(rArc);\n    detachCircle(rArc);\n\n    var nArcs = disappearing.length,\n        iArc;\n    for (iArc = 1; iArc < nArcs; ++iArc) {\n      rArc = disappearing[iArc];\n      lArc = disappearing[iArc - 1];\n      setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n    }\n\n    lArc = disappearing[0];\n    rArc = disappearing[nArcs - 1];\n    rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);\n\n    attachCircle(lArc);\n    attachCircle(rArc);\n  }\n\n  function addBeach(site) {\n    var x = site[0],\n        directrix = site[1],\n        lArc,\n        rArc,\n        dxl,\n        dxr,\n        node = beaches._;\n\n    while (node) {\n      dxl = leftBreakPoint(node, directrix) - x;\n      if (dxl > epsilon$3) node = node.L; else {\n        dxr = x - rightBreakPoint(node, directrix);\n        if (dxr > epsilon$3) {\n          if (!node.R) {\n            lArc = node;\n            break;\n          }\n          node = node.R;\n        } else {\n          if (dxl > -epsilon$3) {\n            lArc = node.P;\n            rArc = node;\n          } else if (dxr > -epsilon$3) {\n            lArc = node;\n            rArc = node.N;\n          } else {\n            lArc = rArc = node;\n          }\n          break;\n        }\n      }\n    }\n\n    createCell(site);\n    var newArc = createBeach(site);\n    beaches.insert(lArc, newArc);\n\n    if (!lArc && !rArc) return;\n\n    if (lArc === rArc) {\n      detachCircle(lArc);\n      rArc = createBeach(lArc.site);\n      beaches.insert(newArc, rArc);\n      newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);\n      attachCircle(lArc);\n      attachCircle(rArc);\n      return;\n    }\n\n    if (!rArc) { // && lArc\n      newArc.edge = createEdge(lArc.site, newArc.site);\n      return;\n    }\n\n    // else lArc !== rArc\n    detachCircle(lArc);\n    detachCircle(rArc);\n\n    var lSite = lArc.site,\n        ax = lSite[0],\n        ay = lSite[1],\n        bx = site[0] - ax,\n        by = site[1] - ay,\n        rSite = rArc.site,\n        cx = rSite[0] - ax,\n        cy = rSite[1] - ay,\n        d = 2 * (bx * cy - by * cx),\n        hb = bx * bx + by * by,\n        hc = cx * cx + cy * cy,\n        vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];\n\n    setEdgeEnd(rArc.edge, lSite, rSite, vertex);\n    newArc.edge = createEdge(lSite, site, null, vertex);\n    rArc.edge = createEdge(site, rSite, null, vertex);\n    attachCircle(lArc);\n    attachCircle(rArc);\n  }\n\n  function leftBreakPoint(arc, directrix) {\n    var site = arc.site,\n        rfocx = site[0],\n        rfocy = site[1],\n        pby2 = rfocy - directrix;\n\n    if (!pby2) return rfocx;\n\n    var lArc = arc.P;\n    if (!lArc) return -Infinity;\n\n    site = lArc.site;\n    var lfocx = site[0],\n        lfocy = site[1],\n        plby2 = lfocy - directrix;\n\n    if (!plby2) return lfocx;\n\n    var hl = lfocx - rfocx,\n        aby2 = 1 / pby2 - 1 / plby2,\n        b = hl / plby2;\n\n    if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n\n    return (rfocx + lfocx) / 2;\n  }\n\n  function rightBreakPoint(arc, directrix) {\n    var rArc = arc.N;\n    if (rArc) return leftBreakPoint(rArc, directrix);\n    var site = arc.site;\n    return site[1] === directrix ? site[0] : Infinity;\n  }\n\n  var epsilon$3 = 1e-6;\n  var epsilon2$1 = 1e-12;\n  var beaches;\n  var cells;\n  var circles;\n  var edges;\n\n  function triangleArea(a, b, c) {\n    return (a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]);\n  }\n\n  function lexicographic(a, b) {\n    return b[1] - a[1]\n        || b[0] - a[0];\n  }\n\n  function Diagram(sites, extent) {\n    var site = sites.sort(lexicographic).pop(),\n        x,\n        y,\n        circle;\n\n    edges = [];\n    cells = new Array(sites.length);\n    beaches = new RedBlackTree;\n    circles = new RedBlackTree;\n\n    while (true) {\n      circle = firstCircle;\n      if (site && (!circle || site[1] < circle.y || (site[1] === circle.y && site[0] < circle.x))) {\n        if (site[0] !== x || site[1] !== y) {\n          addBeach(site);\n          x = site[0], y = site[1];\n        }\n        site = sites.pop();\n      } else if (circle) {\n        removeBeach(circle.arc);\n      } else {\n        break;\n      }\n    }\n\n    sortCellHalfedges();\n\n    if (extent) {\n      var x0 = +extent[0][0],\n          y0 = +extent[0][1],\n          x1 = +extent[1][0],\n          y1 = +extent[1][1];\n      clipEdges(x0, y0, x1, y1);\n      clipCells(x0, y0, x1, y1);\n    }\n\n    this.edges = edges;\n    this.cells = cells;\n\n    beaches =\n    circles =\n    edges =\n    cells = null;\n  }\n\n  Diagram.prototype = {\n    constructor: Diagram,\n\n    polygons: function() {\n      var edges = this.edges;\n\n      return this.cells.map(function(cell) {\n        var polygon = cell.halfedges.map(function(i) { return cellHalfedgeStart(cell, edges[i]); });\n        polygon.data = cell.site.data;\n        return polygon;\n      });\n    },\n\n    triangles: function() {\n      var triangles = [],\n          edges = this.edges;\n\n      this.cells.forEach(function(cell, i) {\n        var site = cell.site,\n            halfedges = cell.halfedges,\n            j = -1,\n            m = halfedges.length,\n            s0,\n            e1 = edges[halfedges[m - 1]],\n            s1 = e1.left === site ? e1.right : e1.left;\n\n        while (++j < m) {\n          s0 = s1;\n          e1 = edges[halfedges[j]];\n          s1 = e1.left === site ? e1.right : e1.left;\n          if (i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {\n            triangles.push([site.data, s0.data, s1.data]);\n          }\n        }\n      });\n\n      return triangles;\n    },\n\n    links: function() {\n      return this.edges.filter(function(edge) {\n        return edge.right;\n      }).map(function(edge) {\n        return {\n          source: edge.left.data,\n          target: edge.right.data\n        };\n      });\n    }\n  }\n\n  function voronoi() {\n    var x = x$4,\n        y = y$4,\n        extent = null;\n\n    function voronoi(data) {\n      return new Diagram(data.map(function(d, i) {\n        var s = [Math.round(x(d, i, data) / epsilon$3) * epsilon$3, Math.round(y(d, i, data) / epsilon$3) * epsilon$3];\n        s.index = i;\n        s.data = d;\n        return s;\n      }), extent);\n    }\n\n    voronoi.polygons = function(data) {\n      return voronoi(data).polygons();\n    };\n\n    voronoi.links = function(data) {\n      return voronoi(data).links();\n    };\n\n    voronoi.triangles = function(data) {\n      return voronoi(data).triangles();\n    };\n\n    voronoi.x = function(_) {\n      return arguments.length ? (x = typeof _ === \"function\" ? _ : constant$8(+_), voronoi) : x;\n    };\n\n    voronoi.y = function(_) {\n      return arguments.length ? (y = typeof _ === \"function\" ? _ : constant$8(+_), voronoi) : y;\n    };\n\n    voronoi.extent = function(_) {\n      return arguments.length ? (extent = _ == null ? null : [[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]], voronoi) : extent && [[extent[0][0], extent[0][1]], [extent[1][0], extent[1][1]]];\n    };\n\n    voronoi.size = function(_) {\n      return arguments.length ? (extent = _ == null ? null : [[0, 0], [+_[0], +_[1]]], voronoi) : extent && [extent[1][0] - extent[0][0], extent[1][1] - extent[0][1]];\n    };\n\n    return voronoi;\n  }\n\n  function constant$9(x) {\n    return function() {\n      return x;\n    };\n  }\n\n  function ZoomEvent(target, type, transform) {\n    this.target = target;\n    this.type = type;\n    this.transform = transform;\n  }\n\n  function Transform(k, x, y) {\n    this.k = k;\n    this.x = x;\n    this.y = y;\n  }\n\n  Transform.prototype = {\n    constructor: Transform,\n    scale: function(k) {\n      return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n    },\n    translate: function(x, y) {\n      return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n    },\n    apply: function(point) {\n      return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n    },\n    applyX: function(x) {\n      return x * this.k + this.x;\n    },\n    applyY: function(y) {\n      return y * this.k + this.y;\n    },\n    invert: function(location) {\n      return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n    },\n    invertX: function(x) {\n      return (x - this.x) / this.k;\n    },\n    invertY: function(y) {\n      return (y - this.y) / this.k;\n    },\n    rescaleX: function(x) {\n      return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n    },\n    rescaleY: function(y) {\n      return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n    },\n    toString: function() {\n      return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n    }\n  };\n\n  var identity$6 = new Transform(1, 0, 0);\n\n  transform.prototype = Transform.prototype;\n\n  function transform(node) {\n    return node.__zoom || identity$6;\n  }\n\n  function nopropagation$1() {\n    exports.event.stopImmediatePropagation();\n  }\n\n  function noevent$1() {\n    exports.event.preventDefault();\n    exports.event.stopImmediatePropagation();\n  }\n\n  // Ignore right-click, since that should open the context menu.\n  function defaultFilter$1() {\n    return !exports.event.button;\n  }\n\n  function defaultExtent() {\n    var e = this, w, h;\n    if (e instanceof SVGElement) {\n      e = e.ownerSVGElement || e;\n      w = e.width.baseVal.value;\n      h = e.height.baseVal.value;\n    } else {\n      w = e.clientWidth;\n      h = e.clientHeight;\n    }\n    return [[0, 0], [w, h]];\n  }\n\n  function defaultTransform() {\n    return this.__zoom || identity$6;\n  }\n\n  function zoom() {\n    var filter = defaultFilter$1,\n        extent = defaultExtent,\n        k0 = 0,\n        k1 = Infinity,\n        x0 = -k1,\n        x1 = k1,\n        y0 = x0,\n        y1 = x1,\n        duration = 250,\n        gestures = [],\n        listeners = dispatch(\"start\", \"zoom\", \"end\"),\n        touchstarting,\n        touchending,\n        touchDelay = 500,\n        wheelDelay = 150;\n\n    function zoom(selection) {\n      selection\n          .on(\"wheel.zoom\", wheeled)\n          .on(\"mousedown.zoom\", mousedowned)\n          .on(\"dblclick.zoom\", dblclicked)\n          .on(\"touchstart.zoom\", touchstarted)\n          .on(\"touchmove.zoom\", touchmoved)\n          .on(\"touchend.zoom touchcancel.zoom\", touchended)\n          .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\")\n          .property(\"__zoom\", defaultTransform);\n    }\n\n    zoom.transform = function(collection, transform) {\n      var selection = collection.selection ? collection.selection() : collection;\n      selection.property(\"__zoom\", defaultTransform);\n      if (collection !== selection) {\n        schedule(collection, transform);\n      } else {\n        selection.interrupt().each(function() {\n          gesture(this, arguments)\n              .start()\n              .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n              .end();\n        });\n      }\n    };\n\n    zoom.scaleBy = function(selection, k) {\n      zoom.scaleTo(selection, function() {\n        var k0 = this.__zoom.k,\n            k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n        return k0 * k1;\n      });\n    };\n\n    zoom.scaleTo = function(selection, k) {\n      zoom.transform(selection, function() {\n        var e = extent.apply(this, arguments),\n            t0 = this.__zoom,\n            p0 = centroid(e),\n            p1 = t0.invert(p0),\n            k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n        return constrain(translate(scale(t0, k1), p0, p1), e);\n      });\n    };\n\n    zoom.translateBy = function(selection, x, y) {\n      zoom.transform(selection, function() {\n        return constrain(this.__zoom.translate(\n          typeof x === \"function\" ? x.apply(this, arguments) : x,\n          typeof y === \"function\" ? y.apply(this, arguments) : y\n        ), extent.apply(this, arguments));\n      });\n    };\n\n    function scale(transform, k) {\n      k = Math.max(k0, Math.min(k1, k));\n      return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n    }\n\n    function translate(transform, p0, p1) {\n      var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n      return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n    }\n\n    function constrain(transform, extent) {\n      var dx = Math.min(0, transform.invertX(extent[0][0]) - x0) || Math.max(0, transform.invertX(extent[1][0]) - x1),\n          dy = Math.min(0, transform.invertY(extent[0][1]) - y0) || Math.max(0, transform.invertY(extent[1][1]) - y1);\n      return dx || dy ? transform.translate(dx, dy) : transform;\n    }\n\n    function centroid(extent) {\n      return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n    }\n\n    function schedule(transition, transform, center) {\n      transition\n          .on(\"start.zoom\", function() { gesture(this, arguments).start(); })\n          .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).end(); })\n          .tween(\"zoom\", function() {\n            var that = this,\n                args = arguments,\n                g = gesture(that, args),\n                e = extent.apply(that, args),\n                p = center || centroid(e),\n                w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n                a = that.__zoom,\n                b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n                i = interpolateZoom(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n            return function(t) {\n              if (t === 1) t = b; // Avoid rounding error on end.\n              else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n              g.zoom(null, t);\n            };\n          });\n    }\n\n    function gesture(that, args) {\n      for (var i = 0, n = gestures.length, g; i < n; ++i) {\n        if ((g = gestures[i]).that === that) {\n          return g;\n        }\n      }\n      return new Gesture(that, args);\n    }\n\n    function Gesture(that, args) {\n      this.that = that;\n      this.args = args;\n      this.index = -1;\n      this.active = 0;\n      this.extent = extent.apply(that, args);\n    }\n\n    Gesture.prototype = {\n      start: function() {\n        if (++this.active === 1) {\n          this.index = gestures.push(this) - 1;\n          this.emit(\"start\");\n        }\n        return this;\n      },\n      zoom: function(key, transform) {\n        if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n        if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n        if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n        this.that.__zoom = transform;\n        this.emit(\"zoom\");\n        return this;\n      },\n      end: function() {\n        if (--this.active === 0) {\n          gestures.splice(this.index, 1);\n          this.index = -1;\n          this.emit(\"end\");\n        }\n        return this;\n      },\n      emit: function(type) {\n        customEvent(new ZoomEvent(zoom, type, this.that.__zoom), listeners.apply, listeners, [type, this.that, this.args]);\n      }\n    };\n\n    function wheeled() {\n      if (!filter.apply(this, arguments)) return;\n      var g = gesture(this, arguments),\n          t = this.__zoom,\n          k = Math.max(k0, Math.min(k1, t.k * Math.pow(2, -exports.event.deltaY * (exports.event.deltaMode ? 120 : 1) / 500))),\n          p = mouse(this);\n\n      // If the mouse is in the same location as before, reuse it.\n      // If there were recent wheel events, reset the wheel idle timeout.\n      if (g.wheel) {\n        if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n          g.mouse[1] = t.invert(g.mouse[0] = p);\n        }\n        clearTimeout(g.wheel);\n      }\n\n      // If this wheel event won’t trigger a transform change, ignore it.\n      else if (t.k === k) return;\n\n      // Otherwise, capture the mouse point and location at the start.\n      else {\n        g.mouse = [p, t.invert(p)];\n        interrupt(this);\n        g.start();\n      }\n\n      noevent$1();\n      g.wheel = setTimeout(wheelidled, wheelDelay);\n      g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent));\n\n      function wheelidled() {\n        g.wheel = null;\n        g.end();\n      }\n    }\n\n    function mousedowned() {\n      if (touchending || !filter.apply(this, arguments)) return;\n      var g = gesture(this, arguments),\n          v = select(exports.event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n          p = mouse(this);\n\n      dragDisable(exports.event.view);\n      nopropagation$1();\n      g.mouse = [p, this.__zoom.invert(p)];\n      interrupt(this);\n      g.start();\n\n      function mousemoved() {\n        noevent$1();\n        g.moved = true;\n        g.zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = mouse(g.that), g.mouse[1]), g.extent));\n      }\n\n      function mouseupped() {\n        v.on(\"mousemove.zoom mouseup.zoom\", null);\n        dragEnable(exports.event.view, g.moved);\n        noevent$1();\n        g.end();\n      }\n    }\n\n    function dblclicked() {\n      if (!filter.apply(this, arguments)) return;\n      var t0 = this.__zoom,\n          p0 = mouse(this),\n          p1 = t0.invert(p0),\n          k1 = t0.k * (exports.event.shiftKey ? 0.5 : 2),\n          t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, arguments));\n\n      noevent$1();\n      if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0);\n      else select(this).call(zoom.transform, t1);\n    }\n\n    function touchstarted() {\n      if (!filter.apply(this, arguments)) return;\n      var g = gesture(this, arguments),\n          touches = exports.event.changedTouches,\n          n = touches.length, i, t, p;\n\n      nopropagation$1();\n      for (i = 0; i < n; ++i) {\n        t = touches[i], p = touch(this, touches, t.identifier);\n        p = [p, this.__zoom.invert(p), t.identifier];\n        if (!g.touch0) g.touch0 = p;\n        else if (!g.touch1) g.touch1 = p;\n      }\n      if (touchstarting) {\n        touchstarting = clearTimeout(touchstarting);\n        if (!g.touch1) return g.end(), dblclicked.apply(this, arguments);\n      }\n      if (exports.event.touches.length === n) {\n        touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n        interrupt(this);\n        g.start();\n      }\n    }\n\n    function touchmoved() {\n      var g = gesture(this, arguments),\n          touches = exports.event.changedTouches,\n          n = touches.length, i, t, p, l;\n\n      noevent$1();\n      if (touchstarting) touchstarting = clearTimeout(touchstarting);\n      for (i = 0; i < n; ++i) {\n        t = touches[i], p = touch(this, touches, t.identifier);\n        if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n        else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n      }\n      t = g.that.__zoom;\n      if (g.touch1) {\n        var p0 = g.touch0[0], l0 = g.touch0[1],\n            p1 = g.touch1[0], l1 = g.touch1[1],\n            dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n            dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n        t = scale(t, Math.sqrt(dp / dl));\n        p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n        l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n      }\n      else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n      else return;\n      g.zoom(\"touch\", constrain(translate(t, p, l), g.extent));\n    }\n\n    function touchended() {\n      var g = gesture(this, arguments),\n          touches = exports.event.changedTouches,\n          n = touches.length, i, t;\n\n      nopropagation$1();\n      if (touchending) clearTimeout(touchending);\n      touchending = setTimeout(function() { touchending = null; }, touchDelay);\n      for (i = 0; i < n; ++i) {\n        t = touches[i];\n        if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n        else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n      }\n      if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n      if (!g.touch0) g.end();\n    }\n\n    zoom.filter = function(_) {\n      return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant$9(!!_), zoom) : filter;\n    };\n\n    zoom.extent = function(_) {\n      return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant$9([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n    };\n\n    zoom.scaleExtent = function(_) {\n      return arguments.length ? (k0 = +_[0], k1 = +_[1], zoom) : [k0, k1];\n    };\n\n    zoom.translateExtent = function(_) {\n      return arguments.length ? (x0 = +_[0][0], x1 = +_[1][0], y0 = +_[0][1], y1 = +_[1][1], zoom) : [[x0, y0], [x1, y1]];\n    };\n\n    zoom.duration = function(_) {\n      return arguments.length ? (duration = +_, zoom) : duration;\n    };\n\n    zoom.on = function() {\n      var value = listeners.on.apply(listeners, arguments);\n      return value === listeners ? zoom : value;\n    };\n\n    return zoom;\n  }\n\n  function constant$10(x) {\n    return function() {\n      return x;\n    };\n  }\n\n  function BrushEvent(target, type, selection) {\n    this.target = target;\n    this.type = type;\n    this.selection = selection;\n  }\n\n  function nopropagation$2() {\n    exports.event.stopImmediatePropagation();\n  }\n\n  function noevent$2() {\n    exports.event.preventDefault();\n    exports.event.stopImmediatePropagation();\n  }\n\n  var MODE_DRAG = {name: \"drag\"};\n  var MODE_SPACE = {name: \"space\"};\n  var MODE_HANDLE = {name: \"handle\"};\n  var MODE_CENTER = {name: \"center\"};\n  var X = {\n    name: \"x\",\n    handles: [\"e\", \"w\"].map(type$1),\n    input: function(x, e) { return x && [[x[0], e[0][1]], [x[1], e[1][1]]]; },\n    output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n  };\n\n  var Y = {\n    name: \"y\",\n    handles: [\"n\", \"s\"].map(type$1),\n    input: function(y, e) { return y && [[e[0][0], y[0]], [e[1][0], y[1]]]; },\n    output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n  };\n\n  var XY = {\n    name: \"xy\",\n    handles: [\"n\", \"e\", \"s\", \"w\", \"nw\", \"ne\", \"se\", \"sw\"].map(type$1),\n    input: function(xy) { return xy; },\n    output: function(xy) { return xy; }\n  };\n\n  var cursors = {\n    overlay: \"crosshair\",\n    selection: \"move\",\n    n: \"ns-resize\",\n    e: \"ew-resize\",\n    s: \"ns-resize\",\n    w: \"ew-resize\",\n    nw: \"nwse-resize\",\n    ne: \"nesw-resize\",\n    se: \"nwse-resize\",\n    sw: \"nesw-resize\"\n  };\n\n  var flipX = {\n    e: \"w\",\n    w: \"e\",\n    nw: \"ne\",\n    ne: \"nw\",\n    se: \"sw\",\n    sw: \"se\"\n  };\n\n  var flipY = {\n    n: \"s\",\n    s: \"n\",\n    nw: \"sw\",\n    ne: \"se\",\n    se: \"ne\",\n    sw: \"nw\"\n  };\n\n  var signsX = {\n    overlay: +1,\n    selection: +1,\n    n: null,\n    e: +1,\n    s: null,\n    w: -1,\n    nw: -1,\n    ne: +1,\n    se: +1,\n    sw: -1\n  };\n\n  var signsY = {\n    overlay: +1,\n    selection: +1,\n    n: -1,\n    e: null,\n    s: +1,\n    w: null,\n    nw: -1,\n    ne: -1,\n    se: +1,\n    sw: +1\n  };\n\n  function type$1(t) {\n    return {type: t};\n  }\n\n  // Ignore right-click, since that should open the context menu.\n  function defaultFilter$2() {\n    return !exports.event.button;\n  }\n\n  function defaultExtent$1() {\n    var svg = this.ownerSVGElement || this;\n    return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n  }\n\n  // Like d3.local, but with the name “__brush” rather than auto-generated.\n  function local$1(node) {\n    while (!node.__brush) if (!(node = node.parentNode)) return;\n    return node.__brush;\n  }\n\n  function empty$1(extent) {\n    return extent[0][0] === extent[1][0]\n        || extent[0][1] === extent[1][1];\n  }\n\n  function brushSelection(node) {\n    var state = node.__brush;\n    return state ? state.dim.output(state.selection) : null;\n  }\n\n  function brushX() {\n    return brush$1(X);\n  }\n\n  function brushY() {\n    return brush$1(Y);\n  }\n\n  function brush() {\n    return brush$1(XY);\n  }\n\n  function brush$1(dim) {\n    var extent = defaultExtent$1,\n        filter = defaultFilter$2,\n        listeners = dispatch(brush, \"start\", \"brush\", \"end\"),\n        handleSize = 6,\n        touchending;\n\n    function brush(group) {\n      var overlay = group\n          .property(\"__brush\", initialize)\n        .selectAll(\".overlay\")\n        .data([type$1(\"overlay\")]);\n\n      overlay.enter().append(\"rect\")\n          .attr(\"class\", \"overlay\")\n          .attr(\"pointer-events\", \"all\")\n          .attr(\"cursor\", cursors.overlay)\n        .merge(overlay)\n          .each(function() {\n            var extent = local$1(this).extent;\n            select(this)\n                .attr(\"x\", extent[0][0])\n                .attr(\"y\", extent[0][1])\n                .attr(\"width\", extent[1][0] - extent[0][0])\n                .attr(\"height\", extent[1][1] - extent[0][1]);\n          });\n\n      group.selectAll(\".selection\")\n        .data([type$1(\"selection\")])\n        .enter().append(\"rect\")\n          .attr(\"class\", \"selection\")\n          .attr(\"cursor\", cursors.selection)\n          .attr(\"fill\", \"#777\")\n          .attr(\"fill-opacity\", 0.3)\n          .attr(\"stroke\", \"#fff\")\n          .attr(\"shape-rendering\", \"crispEdges\");\n\n      var handle = group.selectAll(\".handle\")\n        .data(dim.handles, function(d) { return d.type; });\n\n      handle.exit().remove();\n\n      handle.enter().append(\"rect\")\n          .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n          .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n      group\n          .each(redraw)\n          .attr(\"fill\", \"none\")\n          .attr(\"pointer-events\", \"all\")\n          .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\")\n          .on(\"mousedown.brush touchstart.brush\", started);\n    }\n\n    brush.move = function(group, selection) {\n      if (group.selection) {\n        group\n            .on(\"start.brush\", function() { emitter(this, arguments).beforestart().start(); })\n            .on(\"interrupt.brush end.brush\", function() { emitter(this, arguments).end(); })\n            .tween(\"brush\", function() {\n              var that = this,\n                  state = that.__brush,\n                  emit = emitter(that, arguments),\n                  selection0 = state.selection,\n                  selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                  i = interpolate(selection0, selection1);\n\n              function tween(t) {\n                state.selection = t === 1 && empty$1(selection1) ? null : i(t);\n                redraw.call(that);\n                emit.brush();\n              }\n\n              return selection0 && selection1 ? tween : tween(1);\n            });\n      } else {\n        group\n            .each(function() {\n              var that = this,\n                  args = arguments,\n                  state = that.__brush,\n                  selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                  emit = emitter(that, args).beforestart();\n\n              interrupt(that);\n              state.selection = selection1 == null || empty$1(selection1) ? null : selection1;\n              redraw.call(that);\n              emit.start().brush().end();\n            });\n      }\n    };\n\n    function redraw() {\n      var group = select(this),\n          selection = local$1(this).selection;\n\n      if (selection) {\n        group.selectAll(\".selection\")\n            .style(\"display\", null)\n            .attr(\"x\", selection[0][0])\n            .attr(\"y\", selection[0][1])\n            .attr(\"width\", selection[1][0] - selection[0][0])\n            .attr(\"height\", selection[1][1] - selection[0][1]);\n\n        group.selectAll(\".handle\")\n            .style(\"display\", null)\n            .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n            .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n            .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n            .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n      }\n\n      else {\n        group.selectAll(\".selection,.handle\")\n            .style(\"display\", \"none\")\n            .attr(\"x\", null)\n            .attr(\"y\", null)\n            .attr(\"width\", null)\n            .attr(\"height\", null);\n      }\n    }\n\n    function emitter(that, args) {\n      return that.__brush.emitter || new Emitter(that, args);\n    }\n\n    function Emitter(that, args) {\n      this.that = that;\n      this.args = args;\n      this.state = that.__brush;\n      this.active = 0;\n    }\n\n    Emitter.prototype = {\n      beforestart: function() {\n        if (++this.active === 1) this.state.emitter = this, this.starting = true;\n        return this;\n      },\n      start: function() {\n        if (this.starting) this.starting = false, this.emit(\"start\");\n        return this;\n      },\n      brush: function() {\n        this.emit(\"brush\");\n        return this;\n      },\n      end: function() {\n        if (--this.active === 0) delete this.state.emitter, this.emit(\"end\");\n        return this;\n      },\n      emit: function(type) {\n        customEvent(new BrushEvent(brush, type, dim.output(this.state.selection)), listeners.apply, listeners, [type, this.that, this.args]);\n      }\n    };\n\n    function started() {\n      if (exports.event.touches) { if (exports.event.changedTouches.length < exports.event.touches.length) return noevent$2(); }\n      else if (touchending) return;\n      if (!filter.apply(this, arguments)) return;\n\n      var that = this,\n          type = exports.event.target.__data__.type,\n          mode = (exports.event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (exports.event.altKey ? MODE_CENTER : MODE_HANDLE),\n          signX = dim === Y ? null : signsX[type],\n          signY = dim === X ? null : signsY[type],\n          state = local$1(that),\n          extent = state.extent,\n          selection = state.selection,\n          W = extent[0][0], w0, w1,\n          N = extent[0][1], n0, n1,\n          E = extent[1][0], e0, e1,\n          S = extent[1][1], s0, s1,\n          dx,\n          dy,\n          moving,\n          shifting = signX && signY && exports.event.shiftKey,\n          lockX,\n          lockY,\n          point0 = mouse(that),\n          point = point0,\n          emit = emitter(that, arguments).beforestart();\n\n      if (type === \"overlay\") {\n        state.selection = selection = [\n          [w0 = dim === Y ? W : point0[0], n0 = dim === X ? N : point0[1]],\n          [e0 = dim === Y ? E : w0, s0 = dim === X ? S : n0]\n        ];\n      } else {\n        w0 = selection[0][0];\n        n0 = selection[0][1];\n        e0 = selection[1][0];\n        s0 = selection[1][1];\n      }\n\n      w1 = w0;\n      n1 = n0;\n      e1 = e0;\n      s1 = s0;\n\n      var group = select(that)\n          .attr(\"pointer-events\", \"none\");\n\n      var overlay = group.selectAll(\".overlay\")\n          .attr(\"cursor\", cursors[type]);\n\n      if (exports.event.touches) {\n        group\n            .on(\"touchmove.brush\", moved, true)\n            .on(\"touchend.brush touchcancel.brush\", ended, true);\n      } else {\n        var view = select(exports.event.view)\n            .on(\"keydown.brush\", keydowned, true)\n            .on(\"keyup.brush\", keyupped, true)\n            .on(\"mousemove.brush\", moved, true)\n            .on(\"mouseup.brush\", ended, true);\n\n        dragDisable(exports.event.view);\n      }\n\n      nopropagation$2();\n      interrupt(that);\n      redraw.call(that);\n      emit.start();\n\n      function moved() {\n        var point1 = mouse(that);\n        if (shifting && !lockX && !lockY) {\n          if (Math.abs(point1[0] - point[0]) > Math.abs(point1[1] - point[1])) lockY = true;\n          else lockX = true;\n        }\n        point = point1;\n        moving = true;\n        noevent$2();\n        move();\n      }\n\n      function move() {\n        var t;\n\n        dx = point[0] - point0[0];\n        dy = point[1] - point0[1];\n\n        switch (mode) {\n          case MODE_SPACE:\n          case MODE_DRAG: {\n            if (signX) dx = Math.max(W - w0, Math.min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n            if (signY) dy = Math.max(N - n0, Math.min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n            break;\n          }\n          case MODE_HANDLE: {\n            if (signX < 0) dx = Math.max(W - w0, Math.min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = Math.max(W - e0, Math.min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = Math.max(N - n0, Math.min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = Math.max(N - s0, Math.min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n            break;\n          }\n          case MODE_CENTER: {\n            if (signX) w1 = Math.max(W, Math.min(E, w0 - dx * signX)), e1 = Math.max(W, Math.min(E, e0 + dx * signX));\n            if (signY) n1 = Math.max(N, Math.min(S, n0 - dy * signY)), s1 = Math.max(N, Math.min(S, s0 + dy * signY));\n            break;\n          }\n        }\n\n        if (e1 < w1) {\n          signX *= -1;\n          t = w0, w0 = e0, e0 = t;\n          t = w1, w1 = e1, e1 = t;\n          if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n        }\n\n        if (s1 < n1) {\n          signY *= -1;\n          t = n0, n0 = s0, s0 = t;\n          t = n1, n1 = s1, s1 = t;\n          if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n        }\n\n        selection = state.selection; // May be set by brush.move!\n\n        if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n        if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n        if (selection[0][0] !== w1\n            || selection[0][1] !== n1\n            || selection[1][0] !== e1\n            || selection[1][1] !== s1) {\n          state.selection = [[w1, n1], [e1, s1]];\n          redraw.call(that);\n          emit.brush();\n        }\n      }\n\n      function ended() {\n        nopropagation$2();\n        if (exports.event.touches) {\n          if (exports.event.touches.length) return;\n          if (touchending) clearTimeout(touchending);\n          touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n          group.on(\"touchmove.brush touchend.brush touchcancel.brush\", null);\n        } else {\n          dragEnable(exports.event.view, moving);\n          view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n        }\n        group.attr(\"pointer-events\", \"all\");\n        overlay.attr(\"cursor\", cursors.overlay);\n        if (empty$1(selection)) state.selection = null, redraw.call(that);\n        emit.end();\n      }\n\n      function keydowned() {\n        switch (exports.event.keyCode) {\n          case 16: { // SHIFT\n            shifting = signX && signY;\n            break;\n          }\n          case 18: { // ALT\n            if (mode === MODE_HANDLE) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n              move();\n            }\n            break;\n          }\n          case 32: { // SPACE; takes priority over ALT\n            if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n              if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n              if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n              mode = MODE_SPACE;\n              overlay.attr(\"cursor\", cursors.selection);\n              move();\n            }\n            break;\n          }\n          default: return;\n        }\n        noevent$2();\n      }\n\n      function keyupped() {\n        switch (exports.event.keyCode) {\n          case 16: { // SHIFT\n            if (shifting) {\n              lockX = lockY = shifting = false;\n              move();\n            }\n            break;\n          }\n          case 18: { // ALT\n            if (mode === MODE_CENTER) {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n              move();\n            }\n            break;\n          }\n          case 32: { // SPACE\n            if (mode === MODE_SPACE) {\n              if (exports.event.altKey) {\n                if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n                if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n                mode = MODE_CENTER;\n              } else {\n                if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n                if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n                mode = MODE_HANDLE;\n              }\n              overlay.attr(\"cursor\", cursors[type]);\n              move();\n            }\n            break;\n          }\n          default: return;\n        }\n        noevent$2();\n      }\n    }\n\n    function initialize() {\n      var state = this.__brush || {selection: null};\n      state.extent = extent.apply(this, arguments);\n      state.dim = dim;\n      return state;\n    }\n\n    brush.extent = function(_) {\n      return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant$10([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), brush) : extent;\n    };\n\n    brush.filter = function(_) {\n      return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant$10(!!_), brush) : filter;\n    };\n\n    brush.handleSize = function(_) {\n      return arguments.length ? (handleSize = +_, brush) : handleSize;\n    };\n\n    brush.on = function() {\n      var value = listeners.on.apply(listeners, arguments);\n      return value === listeners ? brush : value;\n    };\n\n    return brush;\n  }\n\n  var cos = Math.cos;\n  var sin = Math.sin;\n  var pi$3 = Math.PI;\n  var halfPi$2 = pi$3 / 2;\n  var tau$3 = pi$3 * 2;\n  var max$1 = Math.max;\n\n  function compareValue(compare) {\n    return function(a, b) {\n      return compare(\n        a.source.value + a.target.value,\n        b.source.value + b.target.value\n      );\n    };\n  }\n\n  function chord() {\n    var padAngle = 0,\n        sortGroups = null,\n        sortSubgroups = null,\n        sortChords = null;\n\n    function chord(matrix) {\n      var n = matrix.length,\n          groupSums = [],\n          groupIndex = range(n),\n          subgroupIndex = [],\n          chords = [],\n          groups = chords.groups = new Array(n),\n          subgroups = new Array(n * n),\n          k,\n          x,\n          x0,\n          dx,\n          i,\n          j;\n\n      // Compute the sum.\n      k = 0, i = -1; while (++i < n) {\n        x = 0, j = -1; while (++j < n) {\n          x += matrix[i][j];\n        }\n        groupSums.push(x);\n        subgroupIndex.push(range(n));\n        k += x;\n      }\n\n      // Sort groups…\n      if (sortGroups) groupIndex.sort(function(a, b) {\n        return sortGroups(groupSums[a], groupSums[b]);\n      });\n\n      // Sort subgroups…\n      if (sortSubgroups) subgroupIndex.forEach(function(d, i) {\n        d.sort(function(a, b) {\n          return sortSubgroups(matrix[i][a], matrix[i][b]);\n        });\n      });\n\n      // Convert the sum to scaling factor for [0, 2pi].\n      // TODO Allow start and end angle to be specified?\n      // TODO Allow padding to be specified as percentage?\n      k = max$1(0, tau$3 - padAngle * n) / k;\n      dx = k ? padAngle : tau$3 / n;\n\n      // Compute the start and end angle for each group and subgroup.\n      // Note: Opera has a bug reordering object literal properties!\n      x = 0, i = -1; while (++i < n) {\n        x0 = x, j = -1; while (++j < n) {\n          var di = groupIndex[i],\n              dj = subgroupIndex[di][j],\n              v = matrix[di][dj],\n              a0 = x,\n              a1 = x += v * k;\n          subgroups[dj * n + di] = {\n            index: di,\n            subindex: dj,\n            startAngle: a0,\n            endAngle: a1,\n            value: v\n          };\n        }\n        groups[di] = {\n          index: di,\n          startAngle: x0,\n          endAngle: x,\n          value: groupSums[di]\n        };\n        x += dx;\n      }\n\n      // Generate chords for each (non-empty) subgroup-subgroup link.\n      i = -1; while (++i < n) {\n        j = i - 1; while (++j < n) {\n          var source = subgroups[j * n + i],\n              target = subgroups[i * n + j];\n          if (source.value || target.value) {\n            chords.push(source.value < target.value\n                ? {source: target, target: source}\n                : {source: source, target: target});\n          }\n        }\n      }\n\n      return sortChords ? chords.sort(sortChords) : chords;\n    }\n\n    chord.padAngle = function(_) {\n      return arguments.length ? (padAngle = max$1(0, _), chord) : padAngle;\n    };\n\n    chord.sortGroups = function(_) {\n      return arguments.length ? (sortGroups = _, chord) : sortGroups;\n    };\n\n    chord.sortSubgroups = function(_) {\n      return arguments.length ? (sortSubgroups = _, chord) : sortSubgroups;\n    };\n\n    chord.sortChords = function(_) {\n      return arguments.length ? (_ == null ? sortChords = null : (sortChords = compareValue(_))._ = _, chord) : sortChords && sortChords._;\n    };\n\n    return chord;\n  }\n\n  var slice$5 = Array.prototype.slice;\n\n  function constant$11(x) {\n    return function() {\n      return x;\n    };\n  }\n\n  function defaultSource(d) {\n    return d.source;\n  }\n\n  function defaultTarget(d) {\n    return d.target;\n  }\n\n  function defaultRadius$1(d) {\n    return d.radius;\n  }\n\n  function defaultStartAngle(d) {\n    return d.startAngle;\n  }\n\n  function defaultEndAngle(d) {\n    return d.endAngle;\n  }\n\n  function ribbon() {\n    var source = defaultSource,\n        target = defaultTarget,\n        radius = defaultRadius$1,\n        startAngle = defaultStartAngle,\n        endAngle = defaultEndAngle,\n        context = null;\n\n    function ribbon() {\n      var buffer,\n          argv = slice$5.call(arguments),\n          s = source.apply(this, argv),\n          t = target.apply(this, argv),\n          sr = +radius.apply(this, (argv[0] = s, argv)),\n          sa0 = startAngle.apply(this, argv) - halfPi$2,\n          sa1 = endAngle.apply(this, argv) - halfPi$2,\n          sx0 = sr * cos(sa0),\n          sy0 = sr * sin(sa0),\n          tr = +radius.apply(this, (argv[0] = t, argv)),\n          ta0 = startAngle.apply(this, argv) - halfPi$2,\n          ta1 = endAngle.apply(this, argv) - halfPi$2;\n\n      if (!context) context = buffer = path();\n\n      context.moveTo(sx0, sy0);\n      context.arc(0, 0, sr, sa0, sa1);\n      if (sa0 !== ta0 || sa1 !== ta1) { // TODO sr !== tr?\n        context.quadraticCurveTo(0, 0, tr * cos(ta0), tr * sin(ta0));\n        context.arc(0, 0, tr, ta0, ta1);\n      }\n      context.quadraticCurveTo(0, 0, sx0, sy0);\n      context.closePath();\n\n      if (buffer) return context = null, buffer + \"\" || null;\n    }\n\n    ribbon.radius = function(_) {\n      return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant$11(+_), ribbon) : radius;\n    };\n\n    ribbon.startAngle = function(_) {\n      return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant$11(+_), ribbon) : startAngle;\n    };\n\n    ribbon.endAngle = function(_) {\n      return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant$11(+_), ribbon) : endAngle;\n    };\n\n    ribbon.source = function(_) {\n      return arguments.length ? (source = _, ribbon) : source;\n    };\n\n    ribbon.target = function(_) {\n      return arguments.length ? (target = _, ribbon) : target;\n    };\n\n    ribbon.context = function(_) {\n      return arguments.length ? ((context = _ == null ? null : _), ribbon) : context;\n    };\n\n    return ribbon;\n  }\n\n  // Adds floating point numbers with twice the normal precision.\n  // Reference: J. R. Shewchuk, Adaptive Precision Floating-Point Arithmetic and\n  // Fast Robust Geometric Predicates, Discrete & Computational Geometry 18(3)\n  // 305–363 (1997).\n  // Code adapted from GeographicLib by Charles F. F. Karney,\n  // http://geographiclib.sourceforge.net/\n\n  function adder() {\n    return new Adder;\n  }\n\n  function Adder() {\n    this.reset();\n  }\n\n  Adder.prototype = {\n    constructor: Adder,\n    reset: function() {\n      this.s = // rounded value\n      this.t = 0; // exact error\n    },\n    add: function(y) {\n      add$1(temp, y, this.t);\n      add$1(this, temp.s, this.s);\n      if (this.s) this.t += temp.t;\n      else this.s = temp.t;\n    },\n    valueOf: function() {\n      return this.s;\n    }\n  };\n\n  var temp = new Adder;\n\n  function add$1(adder, a, b) {\n    var x = adder.s = a + b,\n        bv = x - a,\n        av = x - bv;\n    adder.t = (a - av) + (b - bv);\n  }\n\n  var epsilon$4 = 1e-6;\n  var epsilon2$2 = 1e-12;\n  var pi$4 = Math.PI;\n  var halfPi$3 = pi$4 / 2;\n  var quarterPi = pi$4 / 4;\n  var tau$4 = pi$4 * 2;\n\n  var degrees$1 = 180 / pi$4;\n  var radians = pi$4 / 180;\n\n  var abs = Math.abs;\n  var atan = Math.atan;\n  var atan2 = Math.atan2;\n  var cos$1 = Math.cos;\n  var ceil = Math.ceil;\n  var exp = Math.exp;\n  var log$1 = Math.log;\n  var pow$1 = Math.pow;\n  var sin$1 = Math.sin;\n  var sign$1 = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\n  var sqrt$1 = Math.sqrt;\n  var tan = Math.tan;\n\n  function acos(x) {\n    return x > 1 ? 0 : x < -1 ? pi$4 : Math.acos(x);\n  }\n\n  function asin$1(x) {\n    return x > 1 ? halfPi$3 : x < -1 ? -halfPi$3 : Math.asin(x);\n  }\n\n  function haversin(x) {\n    return (x = sin$1(x / 2)) * x;\n  }\n\n  function noop$2() {}\n\n  function streamGeometry(geometry, stream) {\n    if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n      streamGeometryType[geometry.type](geometry, stream);\n    }\n  }\n\n  var streamObjectType = {\n    Feature: function(feature, stream) {\n      streamGeometry(feature.geometry, stream);\n    },\n    FeatureCollection: function(object, stream) {\n      var features = object.features, i = -1, n = features.length;\n      while (++i < n) streamGeometry(features[i].geometry, stream);\n    }\n  };\n\n  var streamGeometryType = {\n    Sphere: function(object, stream) {\n      stream.sphere();\n    },\n    Point: function(object, stream) {\n      object = object.coordinates;\n      stream.point(object[0], object[1], object[2]);\n    },\n    MultiPoint: function(object, stream) {\n      var coordinates = object.coordinates, i = -1, n = coordinates.length;\n      while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n    },\n    LineString: function(object, stream) {\n      streamLine(object.coordinates, stream, 0);\n    },\n    MultiLineString: function(object, stream) {\n      var coordinates = object.coordinates, i = -1, n = coordinates.length;\n      while (++i < n) streamLine(coordinates[i], stream, 0);\n    },\n    Polygon: function(object, stream) {\n      streamPolygon(object.coordinates, stream);\n    },\n    MultiPolygon: function(object, stream) {\n      var coordinates = object.coordinates, i = -1, n = coordinates.length;\n      while (++i < n) streamPolygon(coordinates[i], stream);\n    },\n    GeometryCollection: function(object, stream) {\n      var geometries = object.geometries, i = -1, n = geometries.length;\n      while (++i < n) streamGeometry(geometries[i], stream);\n    }\n  };\n\n  function streamLine(coordinates, stream, closed) {\n    var i = -1, n = coordinates.length - closed, coordinate;\n    stream.lineStart();\n    while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n    stream.lineEnd();\n  }\n\n  function streamPolygon(coordinates, stream) {\n    var i = -1, n = coordinates.length;\n    stream.polygonStart();\n    while (++i < n) streamLine(coordinates[i], stream, 1);\n    stream.polygonEnd();\n  }\n\n  function geoStream(object, stream) {\n    if (object && streamObjectType.hasOwnProperty(object.type)) {\n      streamObjectType[object.type](object, stream);\n    } else {\n      streamGeometry(object, stream);\n    }\n  }\n\n  var areaRingSum = adder();\n\n  var areaSum = adder();\n  var lambda00;\n  var phi00;\n  var lambda0;\n  var cosPhi0;\n  var sinPhi0;\n  var areaStream = {\n    point: noop$2,\n    lineStart: noop$2,\n    lineEnd: noop$2,\n    polygonStart: function() {\n      areaRingSum.reset();\n      areaStream.lineStart = areaRingStart;\n      areaStream.lineEnd = areaRingEnd;\n    },\n    polygonEnd: function() {\n      var areaRing = +areaRingSum;\n      areaSum.add(areaRing < 0 ? tau$4 + areaRing : areaRing);\n      this.lineStart = this.lineEnd = this.point = noop$2;\n    },\n    sphere: function() {\n      areaSum.add(tau$4);\n    }\n  };\n\n  function areaRingStart() {\n    areaStream.point = areaPointFirst;\n  }\n\n  function areaRingEnd() {\n    areaPoint(lambda00, phi00);\n  }\n\n  function areaPointFirst(lambda, phi) {\n    areaStream.point = areaPoint;\n    lambda00 = lambda, phi00 = phi;\n    lambda *= radians, phi *= radians;\n    lambda0 = lambda, cosPhi0 = cos$1(phi = phi / 2 + quarterPi), sinPhi0 = sin$1(phi);\n  }\n\n  function areaPoint(lambda, phi) {\n    lambda *= radians, phi *= radians;\n    phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n    // Spherical excess E for a spherical triangle with vertices: south pole,\n    // previous point, current point.  Uses a formula derived from Cagnoli’s\n    // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n    var dLambda = lambda - lambda0,\n        sdLambda = dLambda >= 0 ? 1 : -1,\n        adLambda = sdLambda * dLambda,\n        cosPhi = cos$1(phi),\n        sinPhi = sin$1(phi),\n        k = sinPhi0 * sinPhi,\n        u = cosPhi0 * cosPhi + k * cos$1(adLambda),\n        v = k * sdLambda * sin$1(adLambda);\n    areaRingSum.add(atan2(v, u));\n\n    // Advance the previous points.\n    lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n  }\n\n  function area$2(object) {\n    areaSum.reset();\n    geoStream(object, areaStream);\n    return areaSum * 2;\n  }\n\n  function spherical(cartesian) {\n    return [atan2(cartesian[1], cartesian[0]), asin$1(cartesian[2])];\n  }\n\n  function cartesian(spherical) {\n    var lambda = spherical[0], phi = spherical[1], cosPhi = cos$1(phi);\n    return [cosPhi * cos$1(lambda), cosPhi * sin$1(lambda), sin$1(phi)];\n  }\n\n  function cartesianDot(a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n  }\n\n  function cartesianCross(a, b) {\n    return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n  }\n\n  // TODO return a\n  function cartesianAddInPlace(a, b) {\n    a[0] += b[0], a[1] += b[1], a[2] += b[2];\n  }\n\n  function cartesianScale(vector, k) {\n    return [vector[0] * k, vector[1] * k, vector[2] * k];\n  }\n\n  // TODO return d\n  function cartesianNormalizeInPlace(d) {\n    var l = sqrt$1(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n    d[0] /= l, d[1] /= l, d[2] /= l;\n  }\n\nvar   lambda0$1;\n  var phi0;\n  var lambda1;\n  var phi1;\n  var lambda2;\nvar   lambda00$1;\nvar   phi00$1;\n  var p0;\n  var deltaSum = adder();\n  var ranges;\nvar   range$1;\n  var boundsStream = {\n    point: boundsPoint,\n    lineStart: boundsLineStart,\n    lineEnd: boundsLineEnd,\n    polygonStart: function() {\n      boundsStream.point = boundsRingPoint;\n      boundsStream.lineStart = boundsRingStart;\n      boundsStream.lineEnd = boundsRingEnd;\n      deltaSum.reset();\n      areaStream.polygonStart();\n    },\n    polygonEnd: function() {\n      areaStream.polygonEnd();\n      boundsStream.point = boundsPoint;\n      boundsStream.lineStart = boundsLineStart;\n      boundsStream.lineEnd = boundsLineEnd;\n      if (areaRingSum < 0) lambda0$1 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n      else if (deltaSum > epsilon$4) phi1 = 90;\n      else if (deltaSum < -epsilon$4) phi0 = -90;\n      range$1[0] = lambda0$1, range$1[1] = lambda1;\n    }\n  };\n\n  function boundsPoint(lambda, phi) {\n    ranges.push(range$1 = [lambda0$1 = lambda, lambda1 = lambda]);\n    if (phi < phi0) phi0 = phi;\n    if (phi > phi1) phi1 = phi;\n  }\n\n  function linePoint(lambda, phi) {\n    var p = cartesian([lambda * radians, phi * radians]);\n    if (p0) {\n      var normal = cartesianCross(p0, p),\n          equatorial = [normal[1], -normal[0], 0],\n          inflection = cartesianCross(equatorial, normal);\n      cartesianNormalizeInPlace(inflection);\n      inflection = spherical(inflection);\n      var delta = lambda - lambda2,\n          sign = delta > 0 ? 1 : -1,\n          lambdai = inflection[0] * degrees$1 * sign,\n          phii,\n          antimeridian = abs(delta) > 180;\n      if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n        phii = inflection[1] * degrees$1;\n        if (phii > phi1) phi1 = phii;\n      } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n        phii = -inflection[1] * degrees$1;\n        if (phii < phi0) phi0 = phii;\n      } else {\n        if (phi < phi0) phi0 = phi;\n        if (phi > phi1) phi1 = phi;\n      }\n      if (antimeridian) {\n        if (lambda < lambda2) {\n          if (angle(lambda0$1, lambda) > angle(lambda0$1, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0$1, lambda1)) lambda0$1 = lambda;\n        }\n      } else {\n        if (lambda1 >= lambda0$1) {\n          if (lambda < lambda0$1) lambda0$1 = lambda;\n          if (lambda > lambda1) lambda1 = lambda;\n        } else {\n          if (lambda > lambda2) {\n            if (angle(lambda0$1, lambda) > angle(lambda0$1, lambda1)) lambda1 = lambda;\n          } else {\n            if (angle(lambda, lambda1) > angle(lambda0$1, lambda1)) lambda0$1 = lambda;\n          }\n        }\n      }\n    } else {\n      boundsPoint(lambda, phi);\n    }\n    p0 = p, lambda2 = lambda;\n  }\n\n  function boundsLineStart() {\n    boundsStream.point = linePoint;\n  }\n\n  function boundsLineEnd() {\n    range$1[0] = lambda0$1, range$1[1] = lambda1;\n    boundsStream.point = boundsPoint;\n    p0 = null;\n  }\n\n  function boundsRingPoint(lambda, phi) {\n    if (p0) {\n      var delta = lambda - lambda2;\n      deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n    } else {\n      lambda00$1 = lambda, phi00$1 = phi;\n    }\n    areaStream.point(lambda, phi);\n    linePoint(lambda, phi);\n  }\n\n  function boundsRingStart() {\n    areaStream.lineStart();\n  }\n\n  function boundsRingEnd() {\n    boundsRingPoint(lambda00$1, phi00$1);\n    areaStream.lineEnd();\n    if (abs(deltaSum) > epsilon$4) lambda0$1 = -(lambda1 = 180);\n    range$1[0] = lambda0$1, range$1[1] = lambda1;\n    p0 = null;\n  }\n\n  // Finds the left-right distance between two longitudes.\n  // This is almost the same as (lambda1 - lambda0 + 360°) % 360°, except that we want\n  // the distance between ±180° to be 360°.\n  function angle(lambda0, lambda1) {\n    return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n  }\n\n  function rangeCompare(a, b) {\n    return a[0] - b[0];\n  }\n\n  function rangeContains(range, x) {\n    return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n  }\n\n  function bounds(feature) {\n    var i, n, a, b, merged, deltaMax, delta;\n\n    phi1 = lambda1 = -(lambda0$1 = phi0 = Infinity);\n    ranges = [];\n    geoStream(feature, boundsStream);\n\n    // First, sort ranges by their minimum longitudes.\n    if (n = ranges.length) {\n      ranges.sort(rangeCompare);\n\n      // Then, merge any ranges that overlap.\n      for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n        b = ranges[i];\n        if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n          if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n          if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n        } else {\n          merged.push(a = b);\n        }\n      }\n\n      // Finally, find the largest gap between the merged ranges.\n      // The final bounding box will be the inverse of this gap.\n      for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n        b = merged[i];\n        if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0$1 = b[0], lambda1 = a[1];\n      }\n    }\n\n    ranges = range$1 = null;\n\n    return lambda0$1 === Infinity || phi0 === Infinity\n        ? [[NaN, NaN], [NaN, NaN]]\n        : [[lambda0$1, phi0], [lambda1, phi1]];\n  }\n\n  var W0;\n  var W1;\n  var X0;\n  var Y0;\n  var Z0;\n  var X1;\n  var Y1;\n  var Z1;\n  var X2;\n  var Y2;\n  var Z2;\nvar   lambda00$2;\nvar   phi00$2;\n  var x0;\n  var y0;\n  var z0;\n  // previous point\n\n  var centroidStream = {\n    sphere: noop$2,\n    point: centroidPoint,\n    lineStart: centroidLineStart,\n    lineEnd: centroidLineEnd,\n    polygonStart: function() {\n      centroidStream.lineStart = centroidRingStart;\n      centroidStream.lineEnd = centroidRingEnd;\n    },\n    polygonEnd: function() {\n      centroidStream.lineStart = centroidLineStart;\n      centroidStream.lineEnd = centroidLineEnd;\n    }\n  };\n\n  // Arithmetic mean of Cartesian vectors.\n  function centroidPoint(lambda, phi) {\n    lambda *= radians, phi *= radians;\n    var cosPhi = cos$1(phi);\n    centroidPointCartesian(cosPhi * cos$1(lambda), cosPhi * sin$1(lambda), sin$1(phi));\n  }\n\n  function centroidPointCartesian(x, y, z) {\n    ++W0;\n    X0 += (x - X0) / W0;\n    Y0 += (y - Y0) / W0;\n    Z0 += (z - Z0) / W0;\n  }\n\n  function centroidLineStart() {\n    centroidStream.point = centroidLinePointFirst;\n  }\n\n  function centroidLinePointFirst(lambda, phi) {\n    lambda *= radians, phi *= radians;\n    var cosPhi = cos$1(phi);\n    x0 = cosPhi * cos$1(lambda);\n    y0 = cosPhi * sin$1(lambda);\n    z0 = sin$1(phi);\n    centroidStream.point = centroidLinePoint;\n    centroidPointCartesian(x0, y0, z0);\n  }\n\n  function centroidLinePoint(lambda, phi) {\n    lambda *= radians, phi *= radians;\n    var cosPhi = cos$1(phi),\n        x = cosPhi * cos$1(lambda),\n        y = cosPhi * sin$1(lambda),\n        z = sin$1(phi),\n        w = atan2(sqrt$1((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n    W1 += w;\n    X1 += w * (x0 + (x0 = x));\n    Y1 += w * (y0 + (y0 = y));\n    Z1 += w * (z0 + (z0 = z));\n    centroidPointCartesian(x0, y0, z0);\n  }\n\n  function centroidLineEnd() {\n    centroidStream.point = centroidPoint;\n  }\n\n  // See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n  // J. Applied Mechanics 42, 239 (1975).\n  function centroidRingStart() {\n    centroidStream.point = centroidRingPointFirst;\n  }\n\n  function centroidRingEnd() {\n    centroidRingPoint(lambda00$2, phi00$2);\n    centroidStream.point = centroidPoint;\n  }\n\n  function centroidRingPointFirst(lambda, phi) {\n    lambda00$2 = lambda, phi00$2 = phi;\n    lambda *= radians, phi *= radians;\n    centroidStream.point = centroidRingPoint;\n    var cosPhi = cos$1(phi);\n    x0 = cosPhi * cos$1(lambda);\n    y0 = cosPhi * sin$1(lambda);\n    z0 = sin$1(phi);\n    centroidPointCartesian(x0, y0, z0);\n  }\n\n  function centroidRingPoint(lambda, phi) {\n    lambda *= radians, phi *= radians;\n    var cosPhi = cos$1(phi),\n        x = cosPhi * cos$1(lambda),\n        y = cosPhi * sin$1(lambda),\n        z = sin$1(phi),\n        cx = y0 * z - z0 * y,\n        cy = z0 * x - x0 * z,\n        cz = x0 * y - y0 * x,\n        m = sqrt$1(cx * cx + cy * cy + cz * cz),\n        u = x0 * x + y0 * y + z0 * z,\n        v = m && -acos(u) / m, // area weight\n        w = atan2(m, u); // line weight\n    X2 += v * cx;\n    Y2 += v * cy;\n    Z2 += v * cz;\n    W1 += w;\n    X1 += w * (x0 + (x0 = x));\n    Y1 += w * (y0 + (y0 = y));\n    Z1 += w * (z0 + (z0 = z));\n    centroidPointCartesian(x0, y0, z0);\n  }\n\n  function centroid$1(object) {\n    W0 = W1 =\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    geoStream(object, centroidStream);\n\n    var x = X2,\n        y = Y2,\n        z = Z2,\n        m = x * x + y * y + z * z;\n\n    // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n    if (m < epsilon2$2) {\n      x = X1, y = Y1, z = Z1;\n      // If the feature has zero length, fall back to arithmetic mean of point vectors.\n      if (W1 < epsilon$4) x = X0, y = Y0, z = Z0;\n      m = x * x + y * y + z * z;\n      // If the feature still has an undefined ccentroid, then return.\n      if (m < epsilon2$2) return [NaN, NaN];\n    }\n\n    return [atan2(y, x) * degrees$1, asin$1(z / sqrt$1(m)) * degrees$1];\n  }\n\n  function constant$12(x) {\n    return function() {\n      return x;\n    };\n  }\n\n  function compose(a, b) {\n\n    function compose(x, y) {\n      return x = a(x, y), b(x[0], x[1]);\n    }\n\n    if (a.invert && b.invert) compose.invert = function(x, y) {\n      return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n    };\n\n    return compose;\n  }\n\n  function rotationIdentity(lambda, phi) {\n    return [lambda > pi$4 ? lambda - tau$4 : lambda < -pi$4 ? lambda + tau$4 : lambda, phi];\n  }\n\n  rotationIdentity.invert = rotationIdentity;\n\n  function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n    return (deltaLambda %= tau$4) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n      : rotationLambda(deltaLambda))\n      : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n      : rotationIdentity);\n  }\n\n  function forwardRotationLambda(deltaLambda) {\n    return function(lambda, phi) {\n      return lambda += deltaLambda, [lambda > pi$4 ? lambda - tau$4 : lambda < -pi$4 ? lambda + tau$4 : lambda, phi];\n    };\n  }\n\n  function rotationLambda(deltaLambda) {\n    var rotation = forwardRotationLambda(deltaLambda);\n    rotation.invert = forwardRotationLambda(-deltaLambda);\n    return rotation;\n  }\n\n  function rotationPhiGamma(deltaPhi, deltaGamma) {\n    var cosDeltaPhi = cos$1(deltaPhi),\n        sinDeltaPhi = sin$1(deltaPhi),\n        cosDeltaGamma = cos$1(deltaGamma),\n        sinDeltaGamma = sin$1(deltaGamma);\n\n    function rotation(lambda, phi) {\n      var cosPhi = cos$1(phi),\n          x = cos$1(lambda) * cosPhi,\n          y = sin$1(lambda) * cosPhi,\n          z = sin$1(phi),\n          k = z * cosDeltaPhi + x * sinDeltaPhi;\n      return [\n        atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n        asin$1(k * cosDeltaGamma + y * sinDeltaGamma)\n      ];\n    }\n\n    rotation.invert = function(lambda, phi) {\n      var cosPhi = cos$1(phi),\n          x = cos$1(lambda) * cosPhi,\n          y = sin$1(lambda) * cosPhi,\n          z = sin$1(phi),\n          k = z * cosDeltaGamma - y * sinDeltaGamma;\n      return [\n        atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n        asin$1(k * cosDeltaPhi - x * sinDeltaPhi)\n      ];\n    };\n\n    return rotation;\n  }\n\n  function rotation(rotate) {\n    rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n    function forward(coordinates) {\n      coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n      return coordinates[0] *= degrees$1, coordinates[1] *= degrees$1, coordinates;\n    }\n\n    forward.invert = function(coordinates) {\n      coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n      return coordinates[0] *= degrees$1, coordinates[1] *= degrees$1, coordinates;\n    };\n\n    return forward;\n  }\n\n  // Generates a circle centered at [0°, 0°], with a given radius and precision.\n  function circleStream(stream, radius, delta, direction, t0, t1) {\n    if (!delta) return;\n    var cosRadius = cos$1(radius),\n        sinRadius = sin$1(radius),\n        step = direction * delta;\n    if (t0 == null) {\n      t0 = radius + direction * tau$4;\n      t1 = radius - step / 2;\n    } else {\n      t0 = circleRadius(cosRadius, t0);\n      t1 = circleRadius(cosRadius, t1);\n      if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau$4;\n    }\n    for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n      point = spherical([cosRadius, -sinRadius * cos$1(t), -sinRadius * sin$1(t)]);\n      stream.point(point[0], point[1]);\n    }\n  }\n\n  // Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\n  function circleRadius(cosRadius, point) {\n    point = cartesian(point), point[0] -= cosRadius;\n    cartesianNormalizeInPlace(point);\n    var radius = acos(-point[1]);\n    return ((-point[2] < 0 ? -radius : radius) + tau$4 - epsilon$4) % tau$4;\n  }\n\n  function circle$1() {\n    var center = constant$12([0, 0]),\n        radius = constant$12(90),\n        precision = constant$12(6),\n        ring,\n        rotate,\n        stream = {point: point};\n\n    function point(x, y) {\n      ring.push(x = rotate(x, y));\n      x[0] *= degrees$1, x[1] *= degrees$1;\n    }\n\n    function circle() {\n      var c = center.apply(this, arguments),\n          r = radius.apply(this, arguments) * radians,\n          p = precision.apply(this, arguments) * radians;\n      ring = [];\n      rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n      circleStream(stream, r, p, 1);\n      c = {type: \"Polygon\", coordinates: [ring]};\n      ring = rotate = null;\n      return c;\n    }\n\n    circle.center = function(_) {\n      return arguments.length ? (center = typeof _ === \"function\" ? _ : constant$12([+_[0], +_[1]]), circle) : center;\n    };\n\n    circle.radius = function(_) {\n      return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant$12(+_), circle) : radius;\n    };\n\n    circle.precision = function(_) {\n      return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant$12(+_), circle) : precision;\n    };\n\n    return circle;\n  }\n\n  function clipBuffer() {\n    var lines = [],\n        line;\n    return {\n      point: function(x, y) {\n        line.push([x, y]);\n      },\n      lineStart: function() {\n        lines.push(line = []);\n      },\n      lineEnd: noop$2,\n      rejoin: function() {\n        if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n      },\n      result: function() {\n        var result = lines;\n        lines = [];\n        line = null;\n        return result;\n      }\n    };\n  }\n\n  function clipLine(a, b, x0, y0, x1, y1) {\n    var ax = a[0],\n        ay = a[1],\n        bx = b[0],\n        by = b[1],\n        t0 = 0,\n        t1 = 1,\n        dx = bx - ax,\n        dy = by - ay,\n        r;\n\n    r = x0 - ax;\n    if (!dx && r > 0) return;\n    r /= dx;\n    if (dx < 0) {\n      if (r < t0) return;\n      if (r < t1) t1 = r;\n    } else if (dx > 0) {\n      if (r > t1) return;\n      if (r > t0) t0 = r;\n    }\n\n    r = x1 - ax;\n    if (!dx && r < 0) return;\n    r /= dx;\n    if (dx < 0) {\n      if (r > t1) return;\n      if (r > t0) t0 = r;\n    } else if (dx > 0) {\n      if (r < t0) return;\n      if (r < t1) t1 = r;\n    }\n\n    r = y0 - ay;\n    if (!dy && r > 0) return;\n    r /= dy;\n    if (dy < 0) {\n      if (r < t0) return;\n      if (r < t1) t1 = r;\n    } else if (dy > 0) {\n      if (r > t1) return;\n      if (r > t0) t0 = r;\n    }\n\n    r = y1 - ay;\n    if (!dy && r < 0) return;\n    r /= dy;\n    if (dy < 0) {\n      if (r > t1) return;\n      if (r > t0) t0 = r;\n    } else if (dy > 0) {\n      if (r < t0) return;\n      if (r < t1) t1 = r;\n    }\n\n    if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n    if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n    return true;\n  }\n\n  function pointEqual(a, b) {\n    return abs(a[0] - b[0]) < epsilon$4 && abs(a[1] - b[1]) < epsilon$4;\n  }\n\n  function Intersection(point, points, other, entry) {\n    this.x = point;\n    this.z = points;\n    this.o = other; // another intersection\n    this.e = entry; // is an entry?\n    this.v = false; // visited\n    this.n = this.p = null; // next & previous\n  }\n\n  // A generalized polygon clipping algorithm: given a polygon that has been cut\n  // into its visible line segments, and rejoins the segments by interpolating\n  // along the clip edge.\n  function clipPolygon(segments, compareIntersection, startInside, interpolate, stream) {\n    var subject = [],\n        clip = [],\n        i,\n        n;\n\n    segments.forEach(function(segment) {\n      if ((n = segment.length - 1) <= 0) return;\n      var n, p0 = segment[0], p1 = segment[n], x;\n\n      // If the first and last points of a segment are coincident, then treat as a\n      // closed ring. TODO if all rings are closed, then the winding order of the\n      // exterior ring should be checked.\n      if (pointEqual(p0, p1)) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n\n      subject.push(x = new Intersection(p0, segment, null, true));\n      clip.push(x.o = new Intersection(p0, null, x, false));\n      subject.push(x = new Intersection(p1, segment, null, false));\n      clip.push(x.o = new Intersection(p1, null, x, true));\n    });\n\n    if (!subject.length) return;\n\n    clip.sort(compareIntersection);\n    link$1(subject);\n    link$1(clip);\n\n    for (i = 0, n = clip.length; i < n; ++i) {\n      clip[i].e = startInside = !startInside;\n    }\n\n    var start = subject[0],\n        points,\n        point;\n\n    while (1) {\n      // Find first unvisited intersection.\n      var current = start,\n          isSubject = true;\n      while (current.v) if ((current = current.n) === start) return;\n      points = current.z;\n      stream.lineStart();\n      do {\n        current.v = current.o.v = true;\n        if (current.e) {\n          if (isSubject) {\n            for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n          } else {\n            interpolate(current.x, current.n.x, 1, stream);\n          }\n          current = current.n;\n        } else {\n          if (isSubject) {\n            points = current.p.z;\n            for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n          } else {\n            interpolate(current.x, current.p.x, -1, stream);\n          }\n          current = current.p;\n        }\n        current = current.o;\n        points = current.z;\n        isSubject = !isSubject;\n      } while (!current.v);\n      stream.lineEnd();\n    }\n  }\n\n  function link$1(array) {\n    if (!(n = array.length)) return;\n    var n,\n        i = 0,\n        a = array[0],\n        b;\n    while (++i < n) {\n      a.n = b = array[i];\n      b.p = a;\n      a = b;\n    }\n    a.n = b = array[0];\n    b.p = a;\n  }\n\n  var clipMax = 1e9;\n  var clipMin = -clipMax;\n  // TODO Use d3-polygon’s polygonContains here for the ring check?\n  // TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\n  function clipExtent(x0, y0, x1, y1) {\n\n    function visible(x, y) {\n      return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n    }\n\n    function interpolate(from, to, direction, stream) {\n      var a = 0, a1 = 0;\n      if (from == null\n          || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n          || comparePoint(from, to) < 0 ^ direction > 0) {\n        do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n        while ((a = (a + direction + 4) % 4) !== a1);\n      } else {\n        stream.point(to[0], to[1]);\n      }\n    }\n\n    function corner(p, direction) {\n      return abs(p[0] - x0) < epsilon$4 ? direction > 0 ? 0 : 3\n          : abs(p[0] - x1) < epsilon$4 ? direction > 0 ? 2 : 1\n          : abs(p[1] - y0) < epsilon$4 ? direction > 0 ? 1 : 0\n          : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n    }\n\n    function compareIntersection(a, b) {\n      return comparePoint(a.x, b.x);\n    }\n\n    function comparePoint(a, b) {\n      var ca = corner(a, 1),\n          cb = corner(b, 1);\n      return ca !== cb ? ca - cb\n          : ca === 0 ? b[1] - a[1]\n          : ca === 1 ? a[0] - b[0]\n          : ca === 2 ? a[1] - b[1]\n          : b[0] - a[0];\n    }\n\n    return function(stream) {\n      var activeStream = stream,\n          bufferStream = clipBuffer(),\n          segments,\n          polygon,\n          ring,\n          x__, y__, v__, // first point\n          x_, y_, v_, // previous point\n          first,\n          clean;\n\n      var clipStream = {\n        point: point,\n        lineStart: lineStart,\n        lineEnd: lineEnd,\n        polygonStart: polygonStart,\n        polygonEnd: polygonEnd\n      };\n\n      function point(x, y) {\n        if (visible(x, y)) activeStream.point(x, y);\n      }\n\n      function polygonInside() {\n        var winding = 0;\n\n        for (var i = 0, n = polygon.length; i < n; ++i) {\n          for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n            a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n            if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n            else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n          }\n        }\n\n        return winding;\n      }\n\n      // Buffer geometry within a polygon and then clip it en masse.\n      function polygonStart() {\n        activeStream = bufferStream, segments = [], polygon = [], clean = true;\n      }\n\n      function polygonEnd() {\n        var startInside = polygonInside(),\n            cleanInside = clean && startInside,\n            visible = (segments = merge(segments)).length;\n        if (cleanInside || visible) {\n          stream.polygonStart();\n          if (cleanInside) {\n            stream.lineStart();\n            interpolate(null, null, 1, stream);\n            stream.lineEnd();\n          }\n          if (visible) {\n            clipPolygon(segments, compareIntersection, startInside, interpolate, stream);\n          }\n          stream.polygonEnd();\n        }\n        activeStream = stream, segments = polygon = ring = null;\n      }\n\n      function lineStart() {\n        clipStream.point = linePoint;\n        if (polygon) polygon.push(ring = []);\n        first = true;\n        v_ = false;\n        x_ = y_ = NaN;\n      }\n\n      // TODO rather than special-case polygons, simply handle them separately.\n      // Ideally, coincident intersection points should be jittered to avoid\n      // clipping issues.\n      function lineEnd() {\n        if (segments) {\n          linePoint(x__, y__);\n          if (v__ && v_) bufferStream.rejoin();\n          segments.push(bufferStream.result());\n        }\n        clipStream.point = point;\n        if (v_) activeStream.lineEnd();\n      }\n\n      function linePoint(x, y) {\n        var v = visible(x, y);\n        if (polygon) ring.push([x, y]);\n        if (first) {\n          x__ = x, y__ = y, v__ = v;\n          first = false;\n          if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n          }\n        } else {\n          if (v && v_) activeStream.point(x, y);\n          else {\n            var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n                b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n            if (clipLine(a, b, x0, y0, x1, y1)) {\n              if (!v_) {\n                activeStream.lineStart();\n                activeStream.point(a[0], a[1]);\n              }\n              activeStream.point(b[0], b[1]);\n              if (!v) activeStream.lineEnd();\n              clean = false;\n            } else if (v) {\n              activeStream.lineStart();\n              activeStream.point(x, y);\n              clean = false;\n            }\n          }\n        }\n        x_ = x, y_ = y, v_ = v;\n      }\n\n      return clipStream;\n    };\n  }\n\n  function extent$1() {\n    var x0 = 0,\n        y0 = 0,\n        x1 = 960,\n        y1 = 500,\n        cache,\n        cacheStream,\n        clip;\n\n    return clip = {\n      stream: function(stream) {\n        return cache && cacheStream === stream ? cache : cache = clipExtent(x0, y0, x1, y1)(cacheStream = stream);\n      },\n      extent: function(_) {\n        return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], cache = cacheStream = null, clip) : [[x0, y0], [x1, y1]];\n      }\n    };\n  }\n\n  var lengthSum = adder();\nvar   lambda0$2;\nvar   sinPhi0$1;\nvar   cosPhi0$1;\n  var lengthStream = {\n    sphere: noop$2,\n    point: noop$2,\n    lineStart: lengthLineStart,\n    lineEnd: noop$2,\n    polygonStart: noop$2,\n    polygonEnd: noop$2\n  };\n\n  function lengthLineStart() {\n    lengthStream.point = lengthPointFirst;\n    lengthStream.lineEnd = lengthLineEnd;\n  }\n\n  function lengthLineEnd() {\n    lengthStream.point = lengthStream.lineEnd = noop$2;\n  }\n\n  function lengthPointFirst(lambda, phi) {\n    lambda *= radians, phi *= radians;\n    lambda0$2 = lambda, sinPhi0$1 = sin$1(phi), cosPhi0$1 = cos$1(phi);\n    lengthStream.point = lengthPoint;\n  }\n\n  function lengthPoint(lambda, phi) {\n    lambda *= radians, phi *= radians;\n    var sinPhi = sin$1(phi),\n        cosPhi = cos$1(phi),\n        delta = abs(lambda - lambda0$2),\n        cosDelta = cos$1(delta),\n        sinDelta = sin$1(delta),\n        x = cosPhi * sinDelta,\n        y = cosPhi0$1 * sinPhi - sinPhi0$1 * cosPhi * cosDelta,\n        z = sinPhi0$1 * sinPhi + cosPhi0$1 * cosPhi * cosDelta;\n    lengthSum.add(atan2(sqrt$1(x * x + y * y), z));\n    lambda0$2 = lambda, sinPhi0$1 = sinPhi, cosPhi0$1 = cosPhi;\n  }\n\n  function length$2(object) {\n    lengthSum.reset();\n    geoStream(object, lengthStream);\n    return +lengthSum;\n  }\n\n  var coordinates = [null, null];\nvar   object$1 = {type: \"LineString\", coordinates: coordinates};\n  function distance(a, b) {\n    coordinates[0] = a;\n    coordinates[1] = b;\n    return length$2(object$1);\n  }\n\n  function graticuleX(y0, y1, dy) {\n    var y = range(y0, y1 - epsilon$4, dy).concat(y1);\n    return function(x) { return y.map(function(y) { return [x, y]; }); };\n  }\n\n  function graticuleY(x0, x1, dx) {\n    var x = range(x0, x1 - epsilon$4, dx).concat(x1);\n    return function(y) { return x.map(function(x) { return [x, y]; }); };\n  }\n\n  function graticule() {\n    var x1, x0, X1, X0,\n        y1, y0, Y1, Y0,\n        dx = 10, dy = dx, DX = 90, DY = 360,\n        x, y, X, Y,\n        precision = 2.5;\n\n    function graticule() {\n      return {type: \"MultiLineString\", coordinates: lines()};\n    }\n\n    function lines() {\n      return range(ceil(X0 / DX) * DX, X1, DX).map(X)\n          .concat(range(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n          .concat(range(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon$4; }).map(x))\n          .concat(range(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon$4; }).map(y));\n    }\n\n    graticule.lines = function() {\n      return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n    };\n\n    graticule.outline = function() {\n      return {\n        type: \"Polygon\",\n        coordinates: [\n          X(X0).concat(\n          Y(Y1).slice(1),\n          X(X1).reverse().slice(1),\n          Y(Y0).reverse().slice(1))\n        ]\n      };\n    };\n\n    graticule.extent = function(_) {\n      if (!arguments.length) return graticule.extentMinor();\n      return graticule.extentMajor(_).extentMinor(_);\n    };\n\n    graticule.extentMajor = function(_) {\n      if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n      X0 = +_[0][0], X1 = +_[1][0];\n      Y0 = +_[0][1], Y1 = +_[1][1];\n      if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n      if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n      return graticule.precision(precision);\n    };\n\n    graticule.extentMinor = function(_) {\n      if (!arguments.length) return [[x0, y0], [x1, y1]];\n      x0 = +_[0][0], x1 = +_[1][0];\n      y0 = +_[0][1], y1 = +_[1][1];\n      if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n      if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n      return graticule.precision(precision);\n    };\n\n    graticule.step = function(_) {\n      if (!arguments.length) return graticule.stepMinor();\n      return graticule.stepMajor(_).stepMinor(_);\n    };\n\n    graticule.stepMajor = function(_) {\n      if (!arguments.length) return [DX, DY];\n      DX = +_[0], DY = +_[1];\n      return graticule;\n    };\n\n    graticule.stepMinor = function(_) {\n      if (!arguments.length) return [dx, dy];\n      dx = +_[0], dy = +_[1];\n      return graticule;\n    };\n\n    graticule.precision = function(_) {\n      if (!arguments.length) return precision;\n      precision = +_;\n      x = graticuleX(y0, y1, 90);\n      y = graticuleY(x0, x1, precision);\n      X = graticuleX(Y0, Y1, 90);\n      Y = graticuleY(X0, X1, precision);\n      return graticule;\n    };\n\n    return graticule\n        .extentMajor([[-180, -90 + epsilon$4], [180, 90 - epsilon$4]])\n        .extentMinor([[-180, -80 - epsilon$4], [180, 80 + epsilon$4]]);\n  }\n\n  function interpolate$2(a, b) {\n    var x0 = a[0] * radians,\n        y0 = a[1] * radians,\n        x1 = b[0] * radians,\n        y1 = b[1] * radians,\n        cy0 = cos$1(y0),\n        sy0 = sin$1(y0),\n        cy1 = cos$1(y1),\n        sy1 = sin$1(y1),\n        kx0 = cy0 * cos$1(x0),\n        ky0 = cy0 * sin$1(x0),\n        kx1 = cy1 * cos$1(x1),\n        ky1 = cy1 * sin$1(x1),\n        d = 2 * asin$1(sqrt$1(haversin(y1 - y0) + cy0 * cy1 * haversin(x1 - x0))),\n        k = sin$1(d);\n\n    var interpolate = d ? function(t) {\n      var B = sin$1(t *= d) / k,\n          A = sin$1(d - t) / k,\n          x = A * kx0 + B * kx1,\n          y = A * ky0 + B * ky1,\n          z = A * sy0 + B * sy1;\n      return [\n        atan2(y, x) * degrees$1,\n        atan2(z, sqrt$1(x * x + y * y)) * degrees$1\n      ];\n    } : function() {\n      return [x0 * degrees$1, y0 * degrees$1];\n    };\n\n    interpolate.distance = d;\n\n    return interpolate;\n  }\n\n  function identity$7(x) {\n    return x;\n  }\n\nvar   areaSum$1 = adder();\nvar   areaRingSum$1 = adder();\n  var x00;\n  var y00;\nvar   x0$1;\nvar   y0$1;\n  var areaStream$1 = {\n    point: noop$2,\n    lineStart: noop$2,\n    lineEnd: noop$2,\n    polygonStart: function() {\n      areaStream$1.lineStart = areaRingStart$1;\n      areaStream$1.lineEnd = areaRingEnd$1;\n    },\n    polygonEnd: function() {\n      areaStream$1.lineStart = areaStream$1.lineEnd = areaStream$1.point = noop$2;\n      areaSum$1.add(abs(areaRingSum$1));\n      areaRingSum$1.reset();\n    },\n    result: function() {\n      var area = areaSum$1 / 2;\n      areaSum$1.reset();\n      return area;\n    }\n  };\n\n  function areaRingStart$1() {\n    areaStream$1.point = areaPointFirst$1;\n  }\n\n  function areaPointFirst$1(x, y) {\n    areaStream$1.point = areaPoint$1;\n    x00 = x0$1 = x, y00 = y0$1 = y;\n  }\n\n  function areaPoint$1(x, y) {\n    areaRingSum$1.add(y0$1 * x - x0$1 * y);\n    x0$1 = x, y0$1 = y;\n  }\n\n  function areaRingEnd$1() {\n    areaPoint$1(x00, y00);\n  }\n\nvar   x0$2 = Infinity;\nvar   y0$2 = x0$2;\n  var x1 = -x0$2;\n  var y1 = x1;\n  var boundsStream$1 = {\n    point: boundsPoint$1,\n    lineStart: noop$2,\n    lineEnd: noop$2,\n    polygonStart: noop$2,\n    polygonEnd: noop$2,\n    result: function() {\n      var bounds = [[x0$2, y0$2], [x1, y1]];\n      x1 = y1 = -(y0$2 = x0$2 = Infinity);\n      return bounds;\n    }\n  };\n\n  function boundsPoint$1(x, y) {\n    if (x < x0$2) x0$2 = x;\n    if (x > x1) x1 = x;\n    if (y < y0$2) y0$2 = y;\n    if (y > y1) y1 = y;\n  }\n\nvar   X0$1 = 0;\nvar   Y0$1 = 0;\nvar   Z0$1 = 0;\nvar   X1$1 = 0;\nvar   Y1$1 = 0;\nvar   Z1$1 = 0;\nvar   X2$1 = 0;\nvar   Y2$1 = 0;\nvar   Z2$1 = 0;\nvar   x00$1;\nvar   y00$1;\nvar   x0$3;\nvar   y0$3;\n  var centroidStream$1 = {\n    point: centroidPoint$1,\n    lineStart: centroidLineStart$1,\n    lineEnd: centroidLineEnd$1,\n    polygonStart: function() {\n      centroidStream$1.lineStart = centroidRingStart$1;\n      centroidStream$1.lineEnd = centroidRingEnd$1;\n    },\n    polygonEnd: function() {\n      centroidStream$1.point = centroidPoint$1;\n      centroidStream$1.lineStart = centroidLineStart$1;\n      centroidStream$1.lineEnd = centroidLineEnd$1;\n    },\n    result: function() {\n      var centroid = Z2$1 ? [X2$1 / Z2$1, Y2$1 / Z2$1]\n          : Z1$1 ? [X1$1 / Z1$1, Y1$1 / Z1$1]\n          : Z0$1 ? [X0$1 / Z0$1, Y0$1 / Z0$1]\n          : [NaN, NaN];\n      X0$1 = Y0$1 = Z0$1 =\n      X1$1 = Y1$1 = Z1$1 =\n      X2$1 = Y2$1 = Z2$1 = 0;\n      return centroid;\n    }\n  };\n\n  function centroidPoint$1(x, y) {\n    X0$1 += x;\n    Y0$1 += y;\n    ++Z0$1;\n  }\n\n  function centroidLineStart$1() {\n    centroidStream$1.point = centroidPointFirstLine;\n  }\n\n  function centroidPointFirstLine(x, y) {\n    centroidStream$1.point = centroidPointLine;\n    centroidPoint$1(x0$3 = x, y0$3 = y);\n  }\n\n  function centroidPointLine(x, y) {\n    var dx = x - x0$3, dy = y - y0$3, z = sqrt$1(dx * dx + dy * dy);\n    X1$1 += z * (x0$3 + x) / 2;\n    Y1$1 += z * (y0$3 + y) / 2;\n    Z1$1 += z;\n    centroidPoint$1(x0$3 = x, y0$3 = y);\n  }\n\n  function centroidLineEnd$1() {\n    centroidStream$1.point = centroidPoint$1;\n  }\n\n  function centroidRingStart$1() {\n    centroidStream$1.point = centroidPointFirstRing;\n  }\n\n  function centroidRingEnd$1() {\n    centroidPointRing(x00$1, y00$1);\n  }\n\n  function centroidPointFirstRing(x, y) {\n    centroidStream$1.point = centroidPointRing;\n    centroidPoint$1(x00$1 = x0$3 = x, y00$1 = y0$3 = y);\n  }\n\n  function centroidPointRing(x, y) {\n    var dx = x - x0$3,\n        dy = y - y0$3,\n        z = sqrt$1(dx * dx + dy * dy);\n\n    X1$1 += z * (x0$3 + x) / 2;\n    Y1$1 += z * (y0$3 + y) / 2;\n    Z1$1 += z;\n\n    z = y0$3 * x - x0$3 * y;\n    X2$1 += z * (x0$3 + x);\n    Y2$1 += z * (y0$3 + y);\n    Z2$1 += z * 3;\n    centroidPoint$1(x0$3 = x, y0$3 = y);\n  }\n\n  function PathContext(context) {\n    var pointRadius = 4.5;\n\n    var stream = {\n      point: point,\n\n      // While inside a line, override point to moveTo then lineTo.\n      lineStart: function() { stream.point = pointLineStart; },\n      lineEnd: lineEnd,\n\n      // While inside a polygon, override lineEnd to closePath.\n      polygonStart: function() { stream.lineEnd = lineEndPolygon; },\n      polygonEnd: function() { stream.lineEnd = lineEnd; stream.point = point; },\n\n      pointRadius: function(_) {\n        pointRadius = _;\n        return stream;\n      },\n\n      result: noop$2\n    };\n\n    function point(x, y) {\n      context.moveTo(x + pointRadius, y);\n      context.arc(x, y, pointRadius, 0, tau$4);\n    }\n\n    function pointLineStart(x, y) {\n      context.moveTo(x, y);\n      stream.point = pointLine;\n    }\n\n    function pointLine(x, y) {\n      context.lineTo(x, y);\n    }\n\n    function lineEnd() {\n      stream.point = point;\n    }\n\n    function lineEndPolygon() {\n      context.closePath();\n    }\n\n    return stream;\n  }\n\n  function PathString() {\n    var pointCircle = circle$2(4.5),\n        string = [];\n\n    var stream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        stream.lineEnd = lineEndPolygon;\n      },\n      polygonEnd: function() {\n        stream.lineEnd = lineEnd;\n        stream.point = point;\n      },\n      pointRadius: function(_) {\n        pointCircle = circle$2(_);\n        return stream;\n      },\n      result: function() {\n        if (string.length) {\n          var result = string.join(\"\");\n          string = [];\n          return result;\n        }\n      }\n    };\n\n    function point(x, y) {\n      string.push(\"M\", x, \",\", y, pointCircle);\n    }\n\n    function pointLineStart(x, y) {\n      string.push(\"M\", x, \",\", y);\n      stream.point = pointLine;\n    }\n\n    function pointLine(x, y) {\n      string.push(\"L\", x, \",\", y);\n    }\n\n    function lineStart() {\n      stream.point = pointLineStart;\n    }\n\n    function lineEnd() {\n      stream.point = point;\n    }\n\n    function lineEndPolygon() {\n      string.push(\"Z\");\n    }\n\n    return stream;\n  }\n\n  function circle$2(radius) {\n    return \"m0,\" + radius\n        + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius\n        + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius\n        + \"z\";\n  }\n\n  function index$3() {\n    var pointRadius = 4.5,\n        projection,\n        projectionStream,\n        context,\n        contextStream;\n\n    function path(object) {\n      if (object) {\n        if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n        geoStream(object, projectionStream(contextStream));\n      }\n      return contextStream.result();\n    }\n\n    path.area = function(object) {\n      geoStream(object, projectionStream(areaStream$1));\n      return areaStream$1.result();\n    };\n\n    path.bounds = function(object) {\n      geoStream(object, projectionStream(boundsStream$1));\n      return boundsStream$1.result();\n    };\n\n    path.centroid = function(object) {\n      geoStream(object, projectionStream(centroidStream$1));\n      return centroidStream$1.result();\n    };\n\n    path.projection = function(_) {\n      return arguments.length ? (projectionStream = (projection = _) == null ? identity$7 : _.stream, path) : projection;\n    };\n\n    path.context = function(_) {\n      if (!arguments.length) return context;\n      contextStream = (context = _) == null ? new PathString : new PathContext(_);\n      if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n      return path;\n    };\n\n    path.pointRadius = function(_) {\n      if (!arguments.length) return pointRadius;\n      pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n      return path;\n    };\n\n    return path.projection(null).context(null);\n  }\n\n  var sum$2 = adder();\n\n  function polygonContains(polygon, point) {\n    var lambda = point[0],\n        phi = point[1],\n        normal = [sin$1(lambda), -cos$1(lambda), 0],\n        angle = 0,\n        winding = 0;\n\n    sum$2.reset();\n\n    for (var i = 0, n = polygon.length; i < n; ++i) {\n      if (!(m = (ring = polygon[i]).length)) continue;\n      var ring,\n          m,\n          point0 = ring[m - 1],\n          lambda0 = point0[0],\n          phi0 = point0[1] / 2 + quarterPi,\n          sinPhi0 = sin$1(phi0),\n          cosPhi0 = cos$1(phi0);\n\n      for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n        var point1 = ring[j],\n            lambda1 = point1[0],\n            phi1 = point1[1] / 2 + quarterPi,\n            sinPhi1 = sin$1(phi1),\n            cosPhi1 = cos$1(phi1),\n            delta = lambda1 - lambda0,\n            sign = delta >= 0 ? 1 : -1,\n            absDelta = sign * delta,\n            antimeridian = absDelta > pi$4,\n            k = sinPhi0 * sinPhi1;\n\n        sum$2.add(atan2(k * sign * sin$1(absDelta), cosPhi0 * cosPhi1 + k * cos$1(absDelta)));\n        angle += antimeridian ? delta + sign * tau$4 : delta;\n\n        // Are the longitudes either side of the point’s meridian (lambda),\n        // and are the latitudes smaller than the parallel (phi)?\n        if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n          var arc = cartesianCross(cartesian(point0), cartesian(point1));\n          cartesianNormalizeInPlace(arc);\n          var intersection = cartesianCross(normal, arc);\n          cartesianNormalizeInPlace(intersection);\n          var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin$1(intersection[2]);\n          if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n            winding += antimeridian ^ delta >= 0 ? 1 : -1;\n          }\n        }\n      }\n    }\n\n    // First, determine whether the South pole is inside or outside:\n    //\n    // It is inside if:\n    // * the polygon winds around it in a clockwise direction.\n    // * the polygon does not (cumulatively) wind around it, but has a negative\n    //   (counter-clockwise) area.\n    //\n    // Second, count the (signed) number of times a segment crosses a lambda\n    // from the point to the South pole.  If it is zero, then the point is the\n    // same side as the South pole.\n\n    return (angle < -epsilon$4 || angle < epsilon$4 && sum$2 < -epsilon$4) ^ (winding & 1);\n  }\n\n  function clip(pointVisible, clipLine, interpolate, start) {\n    return function(rotate, sink) {\n      var line = clipLine(sink),\n          rotatedStart = rotate.invert(start[0], start[1]),\n          ringBuffer = clipBuffer(),\n          ringSink = clipLine(ringBuffer),\n          polygonStarted = false,\n          polygon,\n          segments,\n          ring;\n\n      var clip = {\n        point: point,\n        lineStart: lineStart,\n        lineEnd: lineEnd,\n        polygonStart: function() {\n          clip.point = pointRing;\n          clip.lineStart = ringStart;\n          clip.lineEnd = ringEnd;\n          segments = [];\n          polygon = [];\n        },\n        polygonEnd: function() {\n          clip.point = point;\n          clip.lineStart = lineStart;\n          clip.lineEnd = lineEnd;\n          segments = merge(segments);\n          var startInside = polygonContains(polygon, rotatedStart);\n          if (segments.length) {\n            if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n            clipPolygon(segments, compareIntersection, startInside, interpolate, sink);\n          } else if (startInside) {\n            if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n            sink.lineStart();\n            interpolate(null, null, 1, sink);\n            sink.lineEnd();\n          }\n          if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n          segments = polygon = null;\n        },\n        sphere: function() {\n          sink.polygonStart();\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n          sink.polygonEnd();\n        }\n      };\n\n      function point(lambda, phi) {\n        var point = rotate(lambda, phi);\n        if (pointVisible(lambda = point[0], phi = point[1])) sink.point(lambda, phi);\n      }\n\n      function pointLine(lambda, phi) {\n        var point = rotate(lambda, phi);\n        line.point(point[0], point[1]);\n      }\n\n      function lineStart() {\n        clip.point = pointLine;\n        line.lineStart();\n      }\n\n      function lineEnd() {\n        clip.point = point;\n        line.lineEnd();\n      }\n\n      function pointRing(lambda, phi) {\n        ring.push([lambda, phi]);\n        var point = rotate(lambda, phi);\n        ringSink.point(point[0], point[1]);\n      }\n\n      function ringStart() {\n        ringSink.lineStart();\n        ring = [];\n      }\n\n      function ringEnd() {\n        pointRing(ring[0][0], ring[0][1]);\n        ringSink.lineEnd();\n\n        var clean = ringSink.clean(),\n            ringSegments = ringBuffer.result(),\n            i, n = ringSegments.length, m,\n            segment,\n            point;\n\n        ring.pop();\n        polygon.push(ring);\n        ring = null;\n\n        if (!n) return;\n\n        // No intersections.\n        if (clean & 1) {\n          segment = ringSegments[0];\n          if ((m = segment.length - 1) > 0) {\n            if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n            sink.lineStart();\n            for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n            sink.lineEnd();\n          }\n          return;\n        }\n\n        // Rejoin connected segments.\n        // TODO reuse ringBuffer.rejoin()?\n        if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n        segments.push(ringSegments.filter(validSegment));\n      }\n\n      return clip;\n    };\n  }\n\n  function validSegment(segment) {\n    return segment.length > 1;\n  }\n\n  // Intersections are sorted along the clip edge. For both antimeridian cutting\n  // and circle clipping, the same comparison is used.\n  function compareIntersection(a, b) {\n    return ((a = a.x)[0] < 0 ? a[1] - halfPi$3 - epsilon$4 : halfPi$3 - a[1])\n         - ((b = b.x)[0] < 0 ? b[1] - halfPi$3 - epsilon$4 : halfPi$3 - b[1]);\n  }\n\n  var clipAntimeridian = clip(\n    function() { return true; },\n    clipAntimeridianLine,\n    clipAntimeridianInterpolate,\n    [-pi$4, -halfPi$3]\n  );\n\n  // Takes a line and cuts into visible segments. Return values: 0 - there were\n  // intersections or the line was empty; 1 - no intersections; 2 - there were\n  // intersections, and the first and last segments should be rejoined.\n  function clipAntimeridianLine(stream) {\n    var lambda0 = NaN,\n        phi0 = NaN,\n        sign0 = NaN,\n        clean; // no intersections\n\n    return {\n      lineStart: function() {\n        stream.lineStart();\n        clean = 1;\n      },\n      point: function(lambda1, phi1) {\n        var sign1 = lambda1 > 0 ? pi$4 : -pi$4,\n            delta = abs(lambda1 - lambda0);\n        if (abs(delta - pi$4) < epsilon$4) { // line crosses a pole\n          stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi$3 : -halfPi$3);\n          stream.point(sign0, phi0);\n          stream.lineEnd();\n          stream.lineStart();\n          stream.point(sign1, phi0);\n          stream.point(lambda1, phi0);\n          clean = 0;\n        } else if (sign0 !== sign1 && delta >= pi$4) { // line crosses antimeridian\n          if (abs(lambda0 - sign0) < epsilon$4) lambda0 -= sign0 * epsilon$4; // handle degeneracies\n          if (abs(lambda1 - sign1) < epsilon$4) lambda1 -= sign1 * epsilon$4;\n          phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n          stream.point(sign0, phi0);\n          stream.lineEnd();\n          stream.lineStart();\n          stream.point(sign1, phi0);\n          clean = 0;\n        }\n        stream.point(lambda0 = lambda1, phi0 = phi1);\n        sign0 = sign1;\n      },\n      lineEnd: function() {\n        stream.lineEnd();\n        lambda0 = phi0 = NaN;\n      },\n      clean: function() {\n        return 2 - clean; // if intersections, rejoin first and last segments\n      }\n    };\n  }\n\n  function clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n    var cosPhi0,\n        cosPhi1,\n        sinLambda0Lambda1 = sin$1(lambda0 - lambda1);\n    return abs(sinLambda0Lambda1) > epsilon$4\n        ? atan((sin$1(phi0) * (cosPhi1 = cos$1(phi1)) * sin$1(lambda1)\n            - sin$1(phi1) * (cosPhi0 = cos$1(phi0)) * sin$1(lambda0))\n            / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n        : (phi0 + phi1) / 2;\n  }\n\n  function clipAntimeridianInterpolate(from, to, direction, stream) {\n    var phi;\n    if (from == null) {\n      phi = direction * halfPi$3;\n      stream.point(-pi$4, phi);\n      stream.point(0, phi);\n      stream.point(pi$4, phi);\n      stream.point(pi$4, 0);\n      stream.point(pi$4, -phi);\n      stream.point(0, -phi);\n      stream.point(-pi$4, -phi);\n      stream.point(-pi$4, 0);\n      stream.point(-pi$4, phi);\n    } else if (abs(from[0] - to[0]) > epsilon$4) {\n      var lambda = from[0] < to[0] ? pi$4 : -pi$4;\n      phi = direction * lambda / 2;\n      stream.point(-lambda, phi);\n      stream.point(0, phi);\n      stream.point(lambda, phi);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function clipCircle(radius, delta) {\n    var cr = cos$1(radius),\n        smallRadius = cr > 0,\n        notHemisphere = abs(cr) > epsilon$4; // TODO optimise for this common case\n\n    function interpolate(from, to, direction, stream) {\n      circleStream(stream, radius, delta, direction, from, to);\n    }\n\n    function visible(lambda, phi) {\n      return cos$1(lambda) * cos$1(phi) > cr;\n    }\n\n    // Takes a line and cuts into visible segments. Return values used for polygon\n    // clipping: 0 - there were intersections or the line was empty; 1 - no\n    // intersections 2 - there were intersections, and the first and last segments\n    // should be rejoined.\n    function clipLine(stream) {\n      var point0, // previous point\n          c0, // code for previous point\n          v0, // visibility of previous point\n          v00, // visibility of first point\n          clean; // no intersections\n      return {\n        lineStart: function() {\n          v00 = v0 = false;\n          clean = 1;\n        },\n        point: function(lambda, phi) {\n          var point1 = [lambda, phi],\n              point2,\n              v = visible(lambda, phi),\n              c = smallRadius\n                ? v ? 0 : code(lambda, phi)\n                : v ? code(lambda + (lambda < 0 ? pi$4 : -pi$4), phi) : 0;\n          if (!point0 && (v00 = v0 = v)) stream.lineStart();\n          // Handle degeneracies.\n          // TODO ignore if not clipping polygons.\n          if (v !== v0) {\n            point2 = intersect(point0, point1);\n            if (pointEqual(point0, point2) || pointEqual(point1, point2)) {\n              point1[0] += epsilon$4;\n              point1[1] += epsilon$4;\n              v = visible(point1[0], point1[1]);\n            }\n          }\n          if (v !== v0) {\n            clean = 0;\n            if (v) {\n              // outside going in\n              stream.lineStart();\n              point2 = intersect(point1, point0);\n              stream.point(point2[0], point2[1]);\n            } else {\n              // inside going out\n              point2 = intersect(point0, point1);\n              stream.point(point2[0], point2[1]);\n              stream.lineEnd();\n            }\n            point0 = point2;\n          } else if (notHemisphere && point0 && smallRadius ^ v) {\n            var t;\n            // If the codes for two points are different, or are both zero,\n            // and there this segment intersects with the small circle.\n            if (!(c & c0) && (t = intersect(point1, point0, true))) {\n              clean = 0;\n              if (smallRadius) {\n                stream.lineStart();\n                stream.point(t[0][0], t[0][1]);\n                stream.point(t[1][0], t[1][1]);\n                stream.lineEnd();\n              } else {\n                stream.point(t[1][0], t[1][1]);\n                stream.lineEnd();\n                stream.lineStart();\n                stream.point(t[0][0], t[0][1]);\n              }\n            }\n          }\n          if (v && (!point0 || !pointEqual(point0, point1))) {\n            stream.point(point1[0], point1[1]);\n          }\n          point0 = point1, v0 = v, c0 = c;\n        },\n        lineEnd: function() {\n          if (v0) stream.lineEnd();\n          point0 = null;\n        },\n        // Rejoin first and last segments if there were intersections and the first\n        // and last points were visible.\n        clean: function() {\n          return clean | ((v00 && v0) << 1);\n        }\n      };\n    }\n\n    // Intersects the great circle between a and b with the clip circle.\n    function intersect(a, b, two) {\n      var pa = cartesian(a),\n          pb = cartesian(b);\n\n      // We have two planes, n1.p = d1 and n2.p = d2.\n      // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1 ⨯ n2).\n      var n1 = [1, 0, 0], // normal\n          n2 = cartesianCross(pa, pb),\n          n2n2 = cartesianDot(n2, n2),\n          n1n2 = n2[0], // cartesianDot(n1, n2),\n          determinant = n2n2 - n1n2 * n1n2;\n\n      // Two polar points.\n      if (!determinant) return !two && a;\n\n      var c1 =  cr * n2n2 / determinant,\n          c2 = -cr * n1n2 / determinant,\n          n1xn2 = cartesianCross(n1, n2),\n          A = cartesianScale(n1, c1),\n          B = cartesianScale(n2, c2);\n      cartesianAddInPlace(A, B);\n\n      // Solve |p(t)|^2 = 1.\n      var u = n1xn2,\n          w = cartesianDot(A, u),\n          uu = cartesianDot(u, u),\n          t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n      if (t2 < 0) return;\n\n      var t = sqrt$1(t2),\n          q = cartesianScale(u, (-w - t) / uu);\n      cartesianAddInPlace(q, A);\n      q = spherical(q);\n\n      if (!two) return q;\n\n      // Two intersection points.\n      var lambda0 = a[0],\n          lambda1 = b[0],\n          phi0 = a[1],\n          phi1 = b[1],\n          z;\n\n      if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n      var delta = lambda1 - lambda0,\n          polar = abs(delta - pi$4) < epsilon$4,\n          meridian = polar || delta < epsilon$4;\n\n      if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n      // Check that the first point is between a and b.\n      if (meridian\n          ? polar\n            ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon$4 ? phi0 : phi1)\n            : phi0 <= q[1] && q[1] <= phi1\n          : delta > pi$4 ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n        var q1 = cartesianScale(u, (-w + t) / uu);\n        cartesianAddInPlace(q1, A);\n        return [q, spherical(q1)];\n      }\n    }\n\n    // Generates a 4-bit vector representing the location of a point relative to\n    // the small circle's bounding box.\n    function code(lambda, phi) {\n      var r = smallRadius ? radius : pi$4 - radius,\n          code = 0;\n      if (lambda < -r) code |= 1; // left\n      else if (lambda > r) code |= 2; // right\n      if (phi < -r) code |= 4; // below\n      else if (phi > r) code |= 8; // above\n      return code;\n    }\n\n    return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi$4, radius - pi$4]);\n  }\n\n  function transform$1(prototype) {\n    return {\n      stream: transform$2(prototype)\n    };\n  }\n\n  function transform$2(prototype) {\n    function T() {}\n    var p = T.prototype = Object.create(Transform$1.prototype);\n    for (var k in prototype) p[k] = prototype[k];\n    return function(stream) {\n      var t = new T;\n      t.stream = stream;\n      return t;\n    };\n  }\n\n  function Transform$1() {}\n\n  Transform$1.prototype = {\n    point: function(x, y) { this.stream.point(x, y); },\n    sphere: function() { this.stream.sphere(); },\n    lineStart: function() { this.stream.lineStart(); },\n    lineEnd: function() { this.stream.lineEnd(); },\n    polygonStart: function() { this.stream.polygonStart(); },\n    polygonEnd: function() { this.stream.polygonEnd(); }\n  };\n\n  function fit(project, extent, object) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        clip = project.clipExtent && project.clipExtent();\n\n    project\n        .scale(150)\n        .translate([0, 0]);\n\n    if (clip != null) project.clipExtent(null);\n\n    geoStream(object, project.stream(boundsStream$1));\n\n    var b = boundsStream$1.result(),\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n\n    if (clip != null) project.clipExtent(clip);\n\n    return project\n        .scale(k * 150)\n        .translate([x, y]);\n  }\n\n  function fitSize(project) {\n    return function(size, object) {\n      return fit(project, [[0, 0], size], object);\n    };\n  }\n\n  function fitExtent(project) {\n    return function(extent, object) {\n      return fit(project, extent, object);\n    };\n  }\n\n  var maxDepth = 16;\n  var cosMinDistance = cos$1(30 * radians);\n  // cos(minimum angular distance)\n\n  function resample(project, delta2) {\n    return +delta2 ? resample$1(project, delta2) : resampleNone(project);\n  }\n\n  function resampleNone(project) {\n    return transform$2({\n      point: function(x, y) {\n        x = project(x, y);\n        this.stream.point(x[0], x[1]);\n      }\n    });\n  }\n\n  function resample$1(project, delta2) {\n\n    function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n      var dx = x1 - x0,\n          dy = y1 - y0,\n          d2 = dx * dx + dy * dy;\n      if (d2 > 4 * delta2 && depth--) {\n        var a = a0 + a1,\n            b = b0 + b1,\n            c = c0 + c1,\n            m = sqrt$1(a * a + b * b + c * c),\n            phi2 = asin$1(c /= m),\n            lambda2 = abs(abs(c) - 1) < epsilon$4 || abs(lambda0 - lambda1) < epsilon$4 ? (lambda0 + lambda1) / 2 : atan2(b, a),\n            p = project(lambda2, phi2),\n            x2 = p[0],\n            y2 = p[1],\n            dx2 = x2 - x0,\n            dy2 = y2 - y0,\n            dz = dy * dx2 - dx * dy2;\n        if (dz * dz / d2 > delta2 // perpendicular projected distance\n            || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n            || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n          resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n          stream.point(x2, y2);\n          resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n        }\n      }\n    }\n    return function(stream) {\n      var lambda00, x00, y00, a00, b00, c00, // first point\n          lambda0, x0, y0, a0, b0, c0; // previous point\n\n      var resampleStream = {\n        point: point,\n        lineStart: lineStart,\n        lineEnd: lineEnd,\n        polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n        polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n      };\n\n      function point(x, y) {\n        x = project(x, y);\n        stream.point(x[0], x[1]);\n      }\n\n      function lineStart() {\n        x0 = NaN;\n        resampleStream.point = linePoint;\n        stream.lineStart();\n      }\n\n      function linePoint(lambda, phi) {\n        var c = cartesian([lambda, phi]), p = project(lambda, phi);\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n        stream.point(x0, y0);\n      }\n\n      function lineEnd() {\n        resampleStream.point = point;\n        stream.lineEnd();\n      }\n\n      function ringStart() {\n        lineStart();\n        resampleStream.point = ringPoint;\n        resampleStream.lineEnd = ringEnd;\n      }\n\n      function ringPoint(lambda, phi) {\n        linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n        resampleStream.point = linePoint;\n      }\n\n      function ringEnd() {\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n        resampleStream.lineEnd = lineEnd;\n        lineEnd();\n      }\n\n      return resampleStream;\n    };\n  }\n\n  var transformRadians = transform$2({\n    point: function(x, y) {\n      this.stream.point(x * radians, y * radians);\n    }\n  });\n\n  function projection(project) {\n    return projectionMutator(function() { return project; })();\n  }\n\n  function projectionMutator(projectAt) {\n    var project,\n        k = 150, // scale\n        x = 480, y = 250, // translate\n        dx, dy, lambda = 0, phi = 0, // center\n        deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, projectRotate, // rotate\n        theta = null, preclip = clipAntimeridian, // clip angle\n        x0 = null, y0, x1, y1, postclip = identity$7, // clip extent\n        delta2 = 0.5, projectResample = resample(projectTransform, delta2), // precision\n        cache,\n        cacheStream;\n\n    function projection(point) {\n      point = projectRotate(point[0] * radians, point[1] * radians);\n      return [point[0] * k + dx, dy - point[1] * k];\n    }\n\n    function invert(point) {\n      point = projectRotate.invert((point[0] - dx) / k, (dy - point[1]) / k);\n      return point && [point[0] * degrees$1, point[1] * degrees$1];\n    }\n\n    function projectTransform(x, y) {\n      return x = project(x, y), [x[0] * k + dx, dy - x[1] * k];\n    }\n\n    projection.stream = function(stream) {\n      return cache && cacheStream === stream ? cache : cache = transformRadians(preclip(rotate, projectResample(postclip(cacheStream = stream))));\n    };\n\n    projection.clipAngle = function(_) {\n      return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians, 6 * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees$1;\n    };\n\n    projection.clipExtent = function(_) {\n      return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity$7) : clipExtent(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n    };\n\n    projection.scale = function(_) {\n      return arguments.length ? (k = +_, recenter()) : k;\n    };\n\n    projection.translate = function(_) {\n      return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n    };\n\n    projection.center = function(_) {\n      return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees$1, phi * degrees$1];\n    };\n\n    projection.rotate = function(_) {\n      return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees$1, deltaPhi * degrees$1, deltaGamma * degrees$1];\n    };\n\n    projection.precision = function(_) {\n      return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt$1(delta2);\n    };\n\n    projection.fitExtent = fitExtent(projection);\n\n    projection.fitSize = fitSize(projection);\n\n    function recenter() {\n      projectRotate = compose(rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma), project);\n      var center = project(lambda, phi);\n      dx = x - center[0] * k;\n      dy = y + center[1] * k;\n      return reset();\n    }\n\n    function reset() {\n      cache = cacheStream = null;\n      return projection;\n    }\n\n    return function() {\n      project = projectAt.apply(this, arguments);\n      projection.invert = project.invert && invert;\n      return recenter();\n    };\n  }\n\n  function conicProjection(projectAt) {\n    var phi0 = 0,\n        phi1 = pi$4 / 3,\n        m = projectionMutator(projectAt),\n        p = m(phi0, phi1);\n\n    p.parallels = function(_) {\n      return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees$1, phi1 * degrees$1];\n    };\n\n    return p;\n  }\n\n  function conicEqualAreaRaw(y0, y1) {\n    var sy0 = sin$1(y0),\n        n = (sy0 + sin$1(y1)) / 2,\n        c = 1 + sy0 * (2 * n - sy0),\n        r0 = sqrt$1(c) / n;\n\n    function project(x, y) {\n      var r = sqrt$1(c - 2 * n * sin$1(y)) / n;\n      return [r * sin$1(x *= n), r0 - r * cos$1(x)];\n    }\n\n    project.invert = function(x, y) {\n      var r0y = r0 - y;\n      return [atan2(x, r0y) / n, asin$1((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n    };\n\n    return project;\n  }\n\n  function conicEqualArea() {\n    return conicProjection(conicEqualAreaRaw)\n        .scale(155.424)\n        .center([0, 33.6442]);\n  }\n\n  function albers() {\n    return conicEqualArea()\n        .parallels([29.5, 45.5])\n        .scale(1070)\n        .translate([480, 250])\n        .rotate([96, 0])\n        .center([-0.6, 38.7]);\n  }\n\n  // The projections must have mutually exclusive clip regions on the sphere,\n  // as this will avoid emitting interleaving lines and polygons.\n  function multiplex(streams) {\n    var n = streams.length;\n    return {\n      point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n      sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n      lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n      lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n      polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n      polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n    };\n  }\n\n  // A composite projection for the United States, configured by default for\n  // 960×500. The projection also works quite well at 960×600 if you change the\n  // scale to 1285 and adjust the translate accordingly. The set of standard\n  // parallels for each region comes from USGS, which is published here:\n  // http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\n  function albersUsa() {\n    var cache,\n        cacheStream,\n        lower48 = albers(), lower48Point,\n        alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n        hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n        point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n    function albersUsa(coordinates) {\n      var x = coordinates[0], y = coordinates[1];\n      return point = null,\n          (lower48Point.point(x, y), point)\n          || (alaskaPoint.point(x, y), point)\n          || (hawaiiPoint.point(x, y), point);\n    }\n\n    albersUsa.invert = function(coordinates) {\n      var k = lower48.scale(),\n          t = lower48.translate(),\n          x = (coordinates[0] - t[0]) / k,\n          y = (coordinates[1] - t[1]) / k;\n      return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n          : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n          : lower48).invert(coordinates);\n    };\n\n    albersUsa.stream = function(stream) {\n      return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n    };\n\n    albersUsa.precision = function(_) {\n      if (!arguments.length) return lower48.precision();\n      lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n      return albersUsa;\n    };\n\n    albersUsa.scale = function(_) {\n      if (!arguments.length) return lower48.scale();\n      lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n      return albersUsa.translate(lower48.translate());\n    };\n\n    albersUsa.translate = function(_) {\n      if (!arguments.length) return lower48.translate();\n      var k = lower48.scale(), x = +_[0], y = +_[1];\n\n      lower48Point = lower48\n          .translate(_)\n          .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n          .stream(pointStream);\n\n      alaskaPoint = alaska\n          .translate([x - 0.307 * k, y + 0.201 * k])\n          .clipExtent([[x - 0.425 * k + epsilon$4, y + 0.120 * k + epsilon$4], [x - 0.214 * k - epsilon$4, y + 0.234 * k - epsilon$4]])\n          .stream(pointStream);\n\n      hawaiiPoint = hawaii\n          .translate([x - 0.205 * k, y + 0.212 * k])\n          .clipExtent([[x - 0.214 * k + epsilon$4, y + 0.166 * k + epsilon$4], [x - 0.115 * k - epsilon$4, y + 0.234 * k - epsilon$4]])\n          .stream(pointStream);\n\n      return albersUsa;\n    };\n\n    albersUsa.fitExtent = fitExtent(albersUsa);\n\n    albersUsa.fitSize = fitSize(albersUsa);\n\n    return albersUsa.scale(1070);\n  }\n\n  function azimuthalRaw(scale) {\n    return function(x, y) {\n      var cx = cos$1(x),\n          cy = cos$1(y),\n          k = scale(cx * cy);\n      return [\n        k * cy * sin$1(x),\n        k * sin$1(y)\n      ];\n    }\n  }\n\n  function azimuthalInvert(angle) {\n    return function(x, y) {\n      var z = sqrt$1(x * x + y * y),\n          c = angle(z),\n          sc = sin$1(c),\n          cc = cos$1(c);\n      return [\n        atan2(x * sc, z * cc),\n        asin$1(z && y * sc / z)\n      ];\n    }\n  }\n\n  var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n    return sqrt$1(2 / (1 + cxcy));\n  });\n\n  azimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n    return 2 * asin$1(z / 2);\n  });\n\n  function azimuthalEqualArea() {\n    return projection(azimuthalEqualAreaRaw)\n        .scale(124.75)\n        .clipAngle(180 - 1e-3);\n  }\n\n  var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n    return (c = acos(c)) && c / sin$1(c);\n  });\n\n  azimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n    return z;\n  });\n\n  function azimuthalEquidistant() {\n    return projection(azimuthalEquidistantRaw)\n        .scale(79.4188)\n        .clipAngle(180 - 1e-3);\n  }\n\n  function mercatorRaw(lambda, phi) {\n    return [lambda, log$1(tan((halfPi$3 + phi) / 2))];\n  }\n\n  mercatorRaw.invert = function(x, y) {\n    return [x, 2 * atan(exp(y)) - halfPi$3];\n  };\n\n  function mercator() {\n    return mercatorProjection(mercatorRaw)\n        .scale(961 / tau$4);\n  }\n\n  function mercatorProjection(project) {\n    var m = projection(project),\n        scale = m.scale,\n        translate = m.translate,\n        clipExtent = m.clipExtent,\n        clipAuto;\n\n    m.scale = function(_) {\n      return arguments.length ? (scale(_), clipAuto && m.clipExtent(null), m) : scale();\n    };\n\n    m.translate = function(_) {\n      return arguments.length ? (translate(_), clipAuto && m.clipExtent(null), m) : translate();\n    };\n\n    m.clipExtent = function(_) {\n      if (!arguments.length) return clipAuto ? null : clipExtent();\n      if (clipAuto = _ == null) {\n        var k = pi$4 * scale(),\n            t = translate();\n        _ = [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]];\n      }\n      clipExtent(_);\n      return m;\n    };\n\n    return m.clipExtent(null);\n  }\n\n  function tany(y) {\n    return tan((halfPi$3 + y) / 2);\n  }\n\n  function conicConformalRaw(y0, y1) {\n    var cy0 = cos$1(y0),\n        n = y0 === y1 ? sin$1(y0) : log$1(cy0 / cos$1(y1)) / log$1(tany(y1) / tany(y0)),\n        f = cy0 * pow$1(tany(y0), n) / n;\n\n    if (!n) return mercatorRaw;\n\n    function project(x, y) {\n      if (f > 0) { if (y < -halfPi$3 + epsilon$4) y = -halfPi$3 + epsilon$4; }\n      else { if (y > halfPi$3 - epsilon$4) y = halfPi$3 - epsilon$4; }\n      var r = f / pow$1(tany(y), n);\n      return [r * sin$1(n * x), f - r * cos$1(n * x)];\n    }\n\n    project.invert = function(x, y) {\n      var fy = f - y, r = sign$1(n) * sqrt$1(x * x + fy * fy);\n      return [atan2(x, fy) / n, 2 * atan(pow$1(f / r, 1 / n)) - halfPi$3];\n    };\n\n    return project;\n  }\n\n  function conicConformal() {\n    return conicProjection(conicConformalRaw)\n        .scale(109.5)\n        .parallels([30, 30]);\n  }\n\n  function equirectangularRaw(lambda, phi) {\n    return [lambda, phi];\n  }\n\n  equirectangularRaw.invert = equirectangularRaw;\n\n  function equirectangular() {\n    return projection(equirectangularRaw)\n        .scale(152.63);\n  }\n\n  function conicEquidistantRaw(y0, y1) {\n    var cy0 = cos$1(y0),\n        n = y0 === y1 ? sin$1(y0) : (cy0 - cos$1(y1)) / (y1 - y0),\n        g = cy0 / n + y0;\n\n    if (abs(n) < epsilon$4) return equirectangularRaw;\n\n    function project(x, y) {\n      var gy = g - y, nx = n * x;\n      return [gy * sin$1(nx), g - gy * cos$1(nx)];\n    }\n\n    project.invert = function(x, y) {\n      var gy = g - y;\n      return [atan2(x, gy) / n, g - sign$1(n) * sqrt$1(x * x + gy * gy)];\n    };\n\n    return project;\n  }\n\n  function conicEquidistant() {\n    return conicProjection(conicEquidistantRaw)\n        .scale(131.154)\n        .center([0, 13.9389]);\n  }\n\n  function gnomonicRaw(x, y) {\n    var cy = cos$1(y), k = cos$1(x) * cy;\n    return [cy * sin$1(x) / k, sin$1(y) / k];\n  }\n\n  gnomonicRaw.invert = azimuthalInvert(atan);\n\n  function gnomonic() {\n    return projection(gnomonicRaw)\n        .scale(144.049)\n        .clipAngle(60);\n  }\n\n  function orthographicRaw(x, y) {\n    return [cos$1(y) * sin$1(x), sin$1(y)];\n  }\n\n  orthographicRaw.invert = azimuthalInvert(asin$1);\n\n  function orthographic() {\n    return projection(orthographicRaw)\n        .scale(249.5)\n        .clipAngle(90 + epsilon$4);\n  }\n\n  function stereographicRaw(x, y) {\n    var cy = cos$1(y), k = 1 + cos$1(x) * cy;\n    return [cy * sin$1(x) / k, sin$1(y) / k];\n  }\n\n  stereographicRaw.invert = azimuthalInvert(function(z) {\n    return 2 * atan(z);\n  });\n\n  function stereographic() {\n    return projection(stereographicRaw)\n        .scale(250)\n        .clipAngle(142);\n  }\n\n  function transverseMercatorRaw(lambda, phi) {\n    return [log$1(tan((halfPi$3 + phi) / 2)), -lambda];\n  }\n\n  transverseMercatorRaw.invert = function(x, y) {\n    return [-y, 2 * atan(exp(x)) - halfPi$3];\n  };\n\n  function transverseMercator() {\n    var m = mercatorProjection(transverseMercatorRaw),\n        center = m.center,\n        rotate = m.rotate;\n\n    m.center = function(_) {\n      return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n    };\n\n    m.rotate = function(_) {\n      return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n    };\n\n    return rotate([0, 0, 90])\n        .scale(159.155);\n  }\n\n  exports.version = version;\n  exports.bisect = bisectRight;\n  exports.bisectRight = bisectRight;\n  exports.bisectLeft = bisectLeft;\n  exports.ascending = ascending;\n  exports.bisector = bisector;\n  exports.descending = descending;\n  exports.deviation = deviation;\n  exports.extent = extent;\n  exports.histogram = histogram;\n  exports.thresholdFreedmanDiaconis = freedmanDiaconis;\n  exports.thresholdScott = scott;\n  exports.thresholdSturges = sturges;\n  exports.max = max;\n  exports.mean = mean;\n  exports.median = median;\n  exports.merge = merge;\n  exports.min = min;\n  exports.pairs = pairs;\n  exports.permute = permute;\n  exports.quantile = threshold;\n  exports.range = range;\n  exports.scan = scan;\n  exports.shuffle = shuffle;\n  exports.sum = sum;\n  exports.ticks = ticks;\n  exports.tickStep = tickStep;\n  exports.transpose = transpose;\n  exports.variance = variance;\n  exports.zip = zip;\n  exports.entries = entries;\n  exports.keys = keys;\n  exports.values = values;\n  exports.map = map$1;\n  exports.set = set;\n  exports.nest = nest;\n  exports.randomUniform = uniform;\n  exports.randomNormal = normal;\n  exports.randomLogNormal = logNormal;\n  exports.randomBates = bates;\n  exports.randomIrwinHall = irwinHall;\n  exports.randomExponential = exponential;\n  exports.easeLinear = linear;\n  exports.easeQuad = quadInOut;\n  exports.easeQuadIn = quadIn;\n  exports.easeQuadOut = quadOut;\n  exports.easeQuadInOut = quadInOut;\n  exports.easeCubic = easeCubicInOut;\n  exports.easeCubicIn = cubicIn;\n  exports.easeCubicOut = cubicOut;\n  exports.easeCubicInOut = easeCubicInOut;\n  exports.easePoly = polyInOut;\n  exports.easePolyIn = polyIn;\n  exports.easePolyOut = polyOut;\n  exports.easePolyInOut = polyInOut;\n  exports.easeSin = sinInOut;\n  exports.easeSinIn = sinIn;\n  exports.easeSinOut = sinOut;\n  exports.easeSinInOut = sinInOut;\n  exports.easeExp = expInOut;\n  exports.easeExpIn = expIn;\n  exports.easeExpOut = expOut;\n  exports.easeExpInOut = expInOut;\n  exports.easeCircle = circleInOut;\n  exports.easeCircleIn = circleIn;\n  exports.easeCircleOut = circleOut;\n  exports.easeCircleInOut = circleInOut;\n  exports.easeBounce = bounceOut;\n  exports.easeBounceIn = bounceIn;\n  exports.easeBounceOut = bounceOut;\n  exports.easeBounceInOut = bounceInOut;\n  exports.easeBack = backInOut;\n  exports.easeBackIn = backIn;\n  exports.easeBackOut = backOut;\n  exports.easeBackInOut = backInOut;\n  exports.easeElastic = elasticOut;\n  exports.easeElasticIn = elasticIn;\n  exports.easeElasticOut = elasticOut;\n  exports.easeElasticInOut = elasticInOut;\n  exports.polygonArea = area;\n  exports.polygonCentroid = centroid;\n  exports.polygonHull = hull;\n  exports.polygonContains = contains;\n  exports.polygonLength = length$1;\n  exports.path = path;\n  exports.quadtree = quadtree;\n  exports.queue = queue;\n  exports.arc = arc;\n  exports.area = area$1;\n  exports.line = line;\n  exports.pie = pie;\n  exports.radialArea = radialArea;\n  exports.radialLine = radialLine$1;\n  exports.symbol = symbol;\n  exports.symbols = symbols;\n  exports.symbolCircle = circle;\n  exports.symbolCross = cross$1;\n  exports.symbolDiamond = diamond;\n  exports.symbolSquare = square;\n  exports.symbolStar = star;\n  exports.symbolTriangle = triangle;\n  exports.symbolWye = wye;\n  exports.curveBasisClosed = basisClosed;\n  exports.curveBasisOpen = basisOpen;\n  exports.curveBasis = basis;\n  exports.curveBundle = bundle;\n  exports.curveCardinalClosed = cardinalClosed;\n  exports.curveCardinalOpen = cardinalOpen;\n  exports.curveCardinal = cardinal;\n  exports.curveCatmullRomClosed = catmullRomClosed;\n  exports.curveCatmullRomOpen = catmullRomOpen;\n  exports.curveCatmullRom = catmullRom;\n  exports.curveLinearClosed = linearClosed;\n  exports.curveLinear = curveLinear;\n  exports.curveMonotoneX = monotoneX;\n  exports.curveMonotoneY = monotoneY;\n  exports.curveNatural = natural;\n  exports.curveStep = step;\n  exports.curveStepAfter = stepAfter;\n  exports.curveStepBefore = stepBefore;\n  exports.stack = stack;\n  exports.stackOffsetExpand = expand;\n  exports.stackOffsetNone = none;\n  exports.stackOffsetSilhouette = silhouette;\n  exports.stackOffsetWiggle = wiggle;\n  exports.stackOrderAscending = ascending$1;\n  exports.stackOrderDescending = descending$2;\n  exports.stackOrderInsideOut = insideOut;\n  exports.stackOrderNone = none$1;\n  exports.stackOrderReverse = reverse;\n  exports.color = color;\n  exports.rgb = colorRgb;\n  exports.hsl = colorHsl;\n  exports.lab = lab;\n  exports.hcl = colorHcl;\n  exports.cubehelix = cubehelix;\n  exports.interpolate = interpolate;\n  exports.interpolateArray = array$1;\n  exports.interpolateDate = date;\n  exports.interpolateNumber = interpolateNumber;\n  exports.interpolateObject = object;\n  exports.interpolateRound = interpolateRound;\n  exports.interpolateString = interpolateString;\n  exports.interpolateTransformCss = interpolateTransform$1;\n  exports.interpolateTransformSvg = interpolateTransform$2;\n  exports.interpolateZoom = interpolateZoom;\n  exports.interpolateRgb = interpolateRgb;\n  exports.interpolateRgbBasis = rgbBasis;\n  exports.interpolateRgbBasisClosed = rgbBasisClosed;\n  exports.interpolateHsl = hsl$1;\n  exports.interpolateHslLong = hslLong;\n  exports.interpolateLab = lab$1;\n  exports.interpolateHcl = hcl$1;\n  exports.interpolateHclLong = hclLong;\n  exports.interpolateCubehelix = cubehelix$2;\n  exports.interpolateCubehelixLong = interpolateCubehelixLong;\n  exports.interpolateBasis = basis$2;\n  exports.interpolateBasisClosed = basisClosed$1;\n  exports.quantize = quantize;\n  exports.dispatch = dispatch;\n  exports.dsvFormat = dsv;\n  exports.csvParse = csvParse;\n  exports.csvParseRows = csvParseRows;\n  exports.csvFormat = csvFormat;\n  exports.csvFormatRows = csvFormatRows;\n  exports.tsvParse = tsvParse;\n  exports.tsvParseRows = tsvParseRows;\n  exports.tsvFormat = tsvFormat;\n  exports.tsvFormatRows = tsvFormatRows;\n  exports.request = request;\n  exports.html = html;\n  exports.json = json;\n  exports.text = text;\n  exports.xml = xml;\n  exports.csv = csv$1;\n  exports.tsv = tsv$1;\n  exports.now = now;\n  exports.timer = timer;\n  exports.timerFlush = timerFlush;\n  exports.timeout = timeout$1;\n  exports.interval = interval$1;\n  exports.timeInterval = newInterval;\n  exports.timeMillisecond = millisecond;\n  exports.timeMilliseconds = milliseconds;\n  exports.timeSecond = second;\n  exports.timeSeconds = seconds;\n  exports.timeMinute = minute;\n  exports.timeMinutes = minutes;\n  exports.timeHour = hour;\n  exports.timeHours = hours;\n  exports.timeDay = day;\n  exports.timeDays = days;\n  exports.timeWeek = timeWeek;\n  exports.timeWeeks = sundays;\n  exports.timeSunday = timeWeek;\n  exports.timeSundays = sundays;\n  exports.timeMonday = timeMonday;\n  exports.timeMondays = mondays;\n  exports.timeTuesday = tuesday;\n  exports.timeTuesdays = tuesdays;\n  exports.timeWednesday = wednesday;\n  exports.timeWednesdays = wednesdays;\n  exports.timeThursday = thursday;\n  exports.timeThursdays = thursdays;\n  exports.timeFriday = friday;\n  exports.timeFridays = fridays;\n  exports.timeSaturday = saturday;\n  exports.timeSaturdays = saturdays;\n  exports.timeMonth = month;\n  exports.timeMonths = months;\n  exports.timeYear = year;\n  exports.timeYears = years;\n  exports.utcMillisecond = millisecond;\n  exports.utcMilliseconds = milliseconds;\n  exports.utcSecond = second;\n  exports.utcSeconds = seconds;\n  exports.utcMinute = utcMinute;\n  exports.utcMinutes = utcMinutes;\n  exports.utcHour = utcHour;\n  exports.utcHours = utcHours;\n  exports.utcDay = utcDay;\n  exports.utcDays = utcDays;\n  exports.utcWeek = utcWeek;\n  exports.utcWeeks = utcSundays;\n  exports.utcSunday = utcWeek;\n  exports.utcSundays = utcSundays;\n  exports.utcMonday = utcMonday;\n  exports.utcMondays = utcMondays;\n  exports.utcTuesday = utcTuesday;\n  exports.utcTuesdays = utcTuesdays;\n  exports.utcWednesday = utcWednesday;\n  exports.utcWednesdays = utcWednesdays;\n  exports.utcThursday = utcThursday;\n  exports.utcThursdays = utcThursdays;\n  exports.utcFriday = utcFriday;\n  exports.utcFridays = utcFridays;\n  exports.utcSaturday = utcSaturday;\n  exports.utcSaturdays = utcSaturdays;\n  exports.utcMonth = utcMonth;\n  exports.utcMonths = utcMonths;\n  exports.utcYear = utcYear;\n  exports.utcYears = utcYears;\n  exports.formatLocale = formatLocale;\n  exports.formatDefaultLocale = defaultLocale;\n  exports.formatSpecifier = formatSpecifier;\n  exports.precisionFixed = precisionFixed;\n  exports.precisionPrefix = precisionPrefix;\n  exports.precisionRound = precisionRound;\n  exports.isoFormat = formatIso;\n  exports.isoParse = parseIso;\n  exports.timeFormatLocale = formatLocale$1;\n  exports.timeFormatDefaultLocale = defaultLocale$1;\n  exports.scaleBand = band;\n  exports.scalePoint = point$4;\n  exports.scaleIdentity = identity$4;\n  exports.scaleLinear = linear$2;\n  exports.scaleLog = log;\n  exports.scaleOrdinal = ordinal;\n  exports.scaleImplicit = implicit;\n  exports.scalePow = pow;\n  exports.scaleSqrt = sqrt;\n  exports.scaleQuantile = quantile;\n  exports.scaleQuantize = quantize$1;\n  exports.scaleThreshold = threshold$1;\n  exports.scaleTime = time;\n  exports.scaleUtc = utcTime;\n  exports.schemeCategory10 = category10;\n  exports.schemeCategory20b = category20b;\n  exports.schemeCategory20c = category20c;\n  exports.schemeCategory20 = category20;\n  exports.scaleSequential = sequential;\n  exports.interpolateCubehelixDefault = cubehelix$3;\n  exports.interpolateRainbow = rainbow$1;\n  exports.interpolateWarm = warm;\n  exports.interpolateCool = cool;\n  exports.interpolateViridis = viridis;\n  exports.interpolateMagma = magma;\n  exports.interpolateInferno = inferno;\n  exports.interpolatePlasma = plasma;\n  exports.creator = creator;\n  exports.customEvent = customEvent;\n  exports.local = local;\n  exports.matcher = matcher$1;\n  exports.mouse = mouse;\n  exports.namespace = namespace;\n  exports.namespaces = namespaces;\n  exports.select = select;\n  exports.selectAll = selectAll;\n  exports.selection = selection;\n  exports.selector = selector;\n  exports.selectorAll = selectorAll;\n  exports.touch = touch;\n  exports.touches = touches;\n  exports.window = window;\n  exports.active = active;\n  exports.interrupt = interrupt;\n  exports.transition = transition;\n  exports.axisTop = axisTop;\n  exports.axisRight = axisRight;\n  exports.axisBottom = axisBottom;\n  exports.axisLeft = axisLeft;\n  exports.cluster = cluster;\n  exports.hierarchy = hierarchy;\n  exports.pack = index;\n  exports.packSiblings = siblings;\n  exports.packEnclose = enclose;\n  exports.partition = partition;\n  exports.stratify = stratify;\n  exports.tree = tree;\n  exports.treemap = index$1;\n  exports.treemapBinary = binary;\n  exports.treemapDice = treemapDice;\n  exports.treemapSlice = treemapSlice;\n  exports.treemapSliceDice = sliceDice;\n  exports.treemapSquarify = squarify;\n  exports.treemapResquarify = resquarify;\n  exports.forceCenter = center$1;\n  exports.forceCollide = collide;\n  exports.forceLink = link;\n  exports.forceManyBody = manyBody;\n  exports.forceSimulation = simulation;\n  exports.forceX = x$3;\n  exports.forceY = y$3;\n  exports.drag = drag;\n  exports.dragDisable = dragDisable;\n  exports.dragEnable = dragEnable;\n  exports.voronoi = voronoi;\n  exports.zoom = zoom;\n  exports.zoomIdentity = identity$6;\n  exports.zoomTransform = transform;\n  exports.brush = brush;\n  exports.brushX = brushX;\n  exports.brushY = brushY;\n  exports.brushSelection = brushSelection;\n  exports.chord = chord;\n  exports.ribbon = ribbon;\n  exports.geoAlbers = albers;\n  exports.geoAlbersUsa = albersUsa;\n  exports.geoArea = area$2;\n  exports.geoAzimuthalEqualArea = azimuthalEqualArea;\n  exports.geoAzimuthalEqualAreaRaw = azimuthalEqualAreaRaw;\n  exports.geoAzimuthalEquidistant = azimuthalEquidistant;\n  exports.geoAzimuthalEquidistantRaw = azimuthalEquidistantRaw;\n  exports.geoBounds = bounds;\n  exports.geoCentroid = centroid$1;\n  exports.geoCircle = circle$1;\n  exports.geoClipExtent = extent$1;\n  exports.geoConicConformal = conicConformal;\n  exports.geoConicConformalRaw = conicConformalRaw;\n  exports.geoConicEqualArea = conicEqualArea;\n  exports.geoConicEqualAreaRaw = conicEqualAreaRaw;\n  exports.geoConicEquidistant = conicEquidistant;\n  exports.geoConicEquidistantRaw = conicEquidistantRaw;\n  exports.geoDistance = distance;\n  exports.geoEquirectangular = equirectangular;\n  exports.geoEquirectangularRaw = equirectangularRaw;\n  exports.geoGnomonic = gnomonic;\n  exports.geoGnomonicRaw = gnomonicRaw;\n  exports.geoGraticule = graticule;\n  exports.geoInterpolate = interpolate$2;\n  exports.geoLength = length$2;\n  exports.geoMercator = mercator;\n  exports.geoMercatorRaw = mercatorRaw;\n  exports.geoOrthographic = orthographic;\n  exports.geoOrthographicRaw = orthographicRaw;\n  exports.geoPath = index$3;\n  exports.geoProjection = projection;\n  exports.geoProjectionMutator = projectionMutator;\n  exports.geoRotation = rotation;\n  exports.geoStereographic = stereographic;\n  exports.geoStereographicRaw = stereographicRaw;\n  exports.geoStream = geoStream;\n  exports.geoTransform = transform$1;\n  exports.geoTransverseMercator = transverseMercator;\n  exports.geoTransverseMercatorRaw = transverseMercatorRaw;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));","// Released under MIT license\n// Copyright (c) 2009-2010 Dominic Baggott\n// Copyright (c) 2009-2010 Ash Berlin\n// Copyright (c) 2011 Christoph Dorn <christoph@christophdorn.com> (http://www.christophdorn.com)\n\n/*jshint browser:true, devel:true */\n\n(function( expose ) {\n\n/**\n *  class Markdown\n *\n *  Markdown processing in Javascript done right. We have very particular views\n *  on what constitutes 'right' which include:\n *\n *  - produces well-formed HTML (this means that em and strong nesting is\n *    important)\n *\n *  - has an intermediate representation to allow processing of parsed data (We\n *    in fact have two, both as [JsonML]: a markdown tree and an HTML tree).\n *\n *  - is easily extensible to add new dialects without having to rewrite the\n *    entire parsing mechanics\n *\n *  - has a good test suite\n *\n *  This implementation fulfills all of these (except that the test suite could\n *  do with expanding to automatically run all the fixtures from other Markdown\n *  implementations.)\n *\n *  ##### Intermediate Representation\n *\n *  *TODO* Talk about this :) Its JsonML, but document the node names we use.\n *\n *  [JsonML]: http://jsonml.org/ \"JSON Markup Language\"\n **/\nvar Markdown = expose.Markdown = function(dialect) {\n  switch (typeof dialect) {\n    case \"undefined\":\n      this.dialect = Markdown.dialects.Gruber;\n      break;\n    case \"object\":\n      this.dialect = dialect;\n      break;\n    default:\n      if ( dialect in Markdown.dialects ) {\n        this.dialect = Markdown.dialects[dialect];\n      }\n      else {\n        throw new Error(\"Unknown Markdown dialect '\" + String(dialect) + \"'\");\n      }\n      break;\n  }\n  this.em_state = [];\n  this.strong_state = [];\n  this.debug_indent = \"\";\n};\n\n/**\n *  parse( markdown, [dialect] ) -> JsonML\n *  - markdown (String): markdown string to parse\n *  - dialect (String | Dialect): the dialect to use, defaults to gruber\n *\n *  Parse `markdown` and return a markdown document as a Markdown.JsonML tree.\n **/\nexpose.parse = function( source, dialect ) {\n  // dialect will default if undefined\n  var md = new Markdown( dialect );\n  return md.toTree( source );\n};\n\n/**\n *  toHTML( markdown, [dialect]  ) -> String\n *  toHTML( md_tree ) -> String\n *  - markdown (String): markdown string to parse\n *  - md_tree (Markdown.JsonML): parsed markdown tree\n *\n *  Take markdown (either as a string or as a JsonML tree) and run it through\n *  [[toHTMLTree]] then turn it into a well-formated HTML fragment.\n **/\nexpose.toHTML = function toHTML( source , dialect , options ) {\n  var input = expose.toHTMLTree( source , dialect , options );\n\n  return expose.renderJsonML( input );\n};\n\n/**\n *  toHTMLTree( markdown, [dialect] ) -> JsonML\n *  toHTMLTree( md_tree ) -> JsonML\n *  - markdown (String): markdown string to parse\n *  - dialect (String | Dialect): the dialect to use, defaults to gruber\n *  - md_tree (Markdown.JsonML): parsed markdown tree\n *\n *  Turn markdown into HTML, represented as a JsonML tree. If a string is given\n *  to this function, it is first parsed into a markdown tree by calling\n *  [[parse]].\n **/\nexpose.toHTMLTree = function toHTMLTree( input, dialect , options ) {\n  // convert string input to an MD tree\n  if ( typeof input ===\"string\" ) input = this.parse( input, dialect );\n\n  // Now convert the MD tree to an HTML tree\n\n  // remove references from the tree\n  var attrs = extract_attr( input ),\n      refs = {};\n\n  if ( attrs && attrs.references ) {\n    refs = attrs.references;\n  }\n\n  var html = convert_tree_to_html( input, refs , options );\n  merge_text_nodes( html );\n  return html;\n};\n\n// For Spidermonkey based engines\nfunction mk_block_toSource() {\n  return \"Markdown.mk_block( \" +\n          uneval(this.toString()) +\n          \", \" +\n          uneval(this.trailing) +\n          \", \" +\n          uneval(this.lineNumber) +\n          \" )\";\n}\n\n// node\nfunction mk_block_inspect() {\n  var util = require(\"util\");\n  return \"Markdown.mk_block( \" +\n          util.inspect(this.toString()) +\n          \", \" +\n          util.inspect(this.trailing) +\n          \", \" +\n          util.inspect(this.lineNumber) +\n          \" )\";\n\n}\n\nvar mk_block = Markdown.mk_block = function(block, trail, line) {\n  // Be helpful for default case in tests.\n  if ( arguments.length == 1 ) trail = \"\\n\\n\";\n\n  var s = new String(block);\n  s.trailing = trail;\n  // To make it clear its not just a string\n  s.inspect = mk_block_inspect;\n  s.toSource = mk_block_toSource;\n\n  if ( line != undefined )\n    s.lineNumber = line;\n\n  return s;\n};\n\nfunction count_lines( str ) {\n  var n = 0, i = -1;\n  while ( ( i = str.indexOf(\"\\n\", i + 1) ) !== -1 ) n++;\n  return n;\n}\n\n// Internal - split source into rough blocks\nMarkdown.prototype.split_blocks = function splitBlocks( input, startLine ) {\n  input = input.replace(/(\\r\\n|\\n|\\r)/g, \"\\n\");\n  // [\\s\\S] matches _anything_ (newline or space)\n  // [^] is equivalent but doesn't work in IEs.\n  var re = /([\\s\\S]+?)($|\\n#|\\n(?:\\s*\\n|$)+)/g,\n      blocks = [],\n      m;\n\n  var line_no = 1;\n\n  if ( ( m = /^(\\s*\\n)/.exec(input) ) != null ) {\n    // skip (but count) leading blank lines\n    line_no += count_lines( m[0] );\n    re.lastIndex = m[0].length;\n  }\n\n  while ( ( m = re.exec(input) ) !== null ) {\n    if (m[2] == \"\\n#\") {\n      m[2] = \"\\n\";\n      re.lastIndex--;\n    }\n    blocks.push( mk_block( m[1], m[2], line_no ) );\n    line_no += count_lines( m[0] );\n  }\n\n  return blocks;\n};\n\n/**\n *  Markdown#processBlock( block, next ) -> undefined | [ JsonML, ... ]\n *  - block (String): the block to process\n *  - next (Array): the following blocks\n *\n * Process `block` and return an array of JsonML nodes representing `block`.\n *\n * It does this by asking each block level function in the dialect to process\n * the block until one can. Succesful handling is indicated by returning an\n * array (with zero or more JsonML nodes), failure by a false value.\n *\n * Blocks handlers are responsible for calling [[Markdown#processInline]]\n * themselves as appropriate.\n *\n * If the blocks were split incorrectly or adjacent blocks need collapsing you\n * can adjust `next` in place using shift/splice etc.\n *\n * If any of this default behaviour is not right for the dialect, you can\n * define a `__call__` method on the dialect that will get invoked to handle\n * the block processing.\n */\nMarkdown.prototype.processBlock = function processBlock( block, next ) {\n  var cbs = this.dialect.block,\n      ord = cbs.__order__;\n\n  if ( \"__call__\" in cbs ) {\n    return cbs.__call__.call(this, block, next);\n  }\n\n  for ( var i = 0; i < ord.length; i++ ) {\n    //D:this.debug( \"Testing\", ord[i] );\n    var res = cbs[ ord[i] ].call( this, block, next );\n    if ( res ) {\n      //D:this.debug(\"  matched\");\n      if ( !isArray(res) || ( res.length > 0 && !( isArray(res[0]) ) ) )\n        this.debug(ord[i], \"didn't return a proper array\");\n      //D:this.debug( \"\" );\n      return res;\n    }\n  }\n\n  // Uhoh! no match! Should we throw an error?\n  return [];\n};\n\nMarkdown.prototype.processInline = function processInline( block ) {\n  return this.dialect.inline.__call__.call( this, String( block ) );\n};\n\n/**\n *  Markdown#toTree( source ) -> JsonML\n *  - source (String): markdown source to parse\n *\n *  Parse `source` into a JsonML tree representing the markdown document.\n **/\n// custom_tree means set this.tree to `custom_tree` and restore old value on return\nMarkdown.prototype.toTree = function toTree( source, custom_root ) {\n  var blocks = source instanceof Array ? source : this.split_blocks( source );\n\n  // Make tree a member variable so its easier to mess with in extensions\n  var old_tree = this.tree;\n  try {\n    this.tree = custom_root || this.tree || [ \"markdown\" ];\n\n    blocks:\n    while ( blocks.length ) {\n      var b = this.processBlock( blocks.shift(), blocks );\n\n      // Reference blocks and the like won't return any content\n      if ( !b.length ) continue blocks;\n\n      this.tree.push.apply( this.tree, b );\n    }\n    return this.tree;\n  }\n  finally {\n    if ( custom_root ) {\n      this.tree = old_tree;\n    }\n  }\n};\n\n// Noop by default\nMarkdown.prototype.debug = function () {\n  var args = Array.prototype.slice.call( arguments);\n  args.unshift(this.debug_indent);\n  if ( typeof print !== \"undefined\" )\n      print.apply( print, args );\n  if ( typeof console !== \"undefined\" && typeof console.log !== \"undefined\" )\n      console.log.apply( null, args );\n}\n\nMarkdown.prototype.loop_re_over_block = function( re, block, cb ) {\n  // Dont use /g regexps with this\n  var m,\n      b = block.valueOf();\n\n  while ( b.length && (m = re.exec(b) ) != null ) {\n    b = b.substr( m[0].length );\n    cb.call(this, m);\n  }\n  return b;\n};\n\n/**\n * Markdown.dialects\n *\n * Namespace of built-in dialects.\n **/\nMarkdown.dialects = {};\n\n/**\n * Markdown.dialects.Gruber\n *\n * The default dialect that follows the rules set out by John Gruber's\n * markdown.pl as closely as possible. Well actually we follow the behaviour of\n * that script which in some places is not exactly what the syntax web page\n * says.\n **/\nMarkdown.dialects.Gruber = {\n  block: {\n    atxHeader: function atxHeader( block, next ) {\n      var m = block.match( /^(#{1,6})\\s*(.*?)\\s*#*\\s*(?:\\n|$)/ );\n\n      if ( !m ) return undefined;\n\n      var header = [ \"header\", { level: m[ 1 ].length } ];\n      Array.prototype.push.apply(header, this.processInline(m[ 2 ]));\n\n      if ( m[0].length < block.length )\n        next.unshift( mk_block( block.substr( m[0].length ), block.trailing, block.lineNumber + 2 ) );\n\n      return [ header ];\n    },\n\n    setextHeader: function setextHeader( block, next ) {\n      var m = block.match( /^(.*)\\n([-=])\\2\\2+(?:\\n|$)/ );\n\n      if ( !m ) return undefined;\n\n      var level = ( m[ 2 ] === \"=\" ) ? 1 : 2;\n      var header = [ \"header\", { level : level }, m[ 1 ] ];\n\n      if ( m[0].length < block.length )\n        next.unshift( mk_block( block.substr( m[0].length ), block.trailing, block.lineNumber + 2 ) );\n\n      return [ header ];\n    },\n\n    code: function code( block, next ) {\n      // |    Foo\n      // |bar\n      // should be a code block followed by a paragraph. Fun\n      //\n      // There might also be adjacent code block to merge.\n\n      var ret = [],\n          re = /^(?: {0,3}\\t| {4})(.*)\\n?/,\n          lines;\n\n      // 4 spaces + content\n      if ( !block.match( re ) ) return undefined;\n\n      block_search:\n      do {\n        // Now pull out the rest of the lines\n        var b = this.loop_re_over_block(\n                  re, block.valueOf(), function( m ) { ret.push( m[1] ); } );\n\n        if ( b.length ) {\n          // Case alluded to in first comment. push it back on as a new block\n          next.unshift( mk_block(b, block.trailing) );\n          break block_search;\n        }\n        else if ( next.length ) {\n          // Check the next block - it might be code too\n          if ( !next[0].match( re ) ) break block_search;\n\n          // Pull how how many blanks lines follow - minus two to account for .join\n          ret.push ( block.trailing.replace(/[^\\n]/g, \"\").substring(2) );\n\n          block = next.shift();\n        }\n        else {\n          break block_search;\n        }\n      } while ( true );\n\n      return [ [ \"code_block\", ret.join(\"\\n\") ] ];\n    },\n\n    horizRule: function horizRule( block, next ) {\n      // this needs to find any hr in the block to handle abutting blocks\n      var m = block.match( /^(?:([\\s\\S]*?)\\n)?[ \\t]*([-_*])(?:[ \\t]*\\2){2,}[ \\t]*(?:\\n([\\s\\S]*))?$/ );\n\n      if ( !m ) {\n        return undefined;\n      }\n\n      var jsonml = [ [ \"hr\" ] ];\n\n      // if there's a leading abutting block, process it\n      if ( m[ 1 ] ) {\n        jsonml.unshift.apply( jsonml, this.processBlock( m[ 1 ], [] ) );\n      }\n\n      // if there's a trailing abutting block, stick it into next\n      if ( m[ 3 ] ) {\n        next.unshift( mk_block( m[ 3 ] ) );\n      }\n\n      return jsonml;\n    },\n\n    // There are two types of lists. Tight and loose. Tight lists have no whitespace\n    // between the items (and result in text just in the <li>) and loose lists,\n    // which have an empty line between list items, resulting in (one or more)\n    // paragraphs inside the <li>.\n    //\n    // There are all sorts weird edge cases about the original markdown.pl's\n    // handling of lists:\n    //\n    // * Nested lists are supposed to be indented by four chars per level. But\n    //   if they aren't, you can get a nested list by indenting by less than\n    //   four so long as the indent doesn't match an indent of an existing list\n    //   item in the 'nest stack'.\n    //\n    // * The type of the list (bullet or number) is controlled just by the\n    //    first item at the indent. Subsequent changes are ignored unless they\n    //    are for nested lists\n    //\n    lists: (function( ) {\n      // Use a closure to hide a few variables.\n      var any_list = \"[*+-]|\\\\d+\\\\.\",\n          bullet_list = /[*+-]/,\n          number_list = /\\d+\\./,\n          // Capture leading indent as it matters for determining nested lists.\n          is_list_re = new RegExp( \"^( {0,3})(\" + any_list + \")[ \\t]+\" ),\n          indent_re = \"(?: {0,3}\\\\t| {4})\";\n\n      // TODO: Cache this regexp for certain depths.\n      // Create a regexp suitable for matching an li for a given stack depth\n      function regex_for_depth( depth ) {\n\n        return new RegExp(\n          // m[1] = indent, m[2] = list_type\n          \"(?:^(\" + indent_re + \"{0,\" + depth + \"} {0,3})(\" + any_list + \")\\\\s+)|\" +\n          // m[3] = cont\n          \"(^\" + indent_re + \"{0,\" + (depth-1) + \"}[ ]{0,4})\"\n        );\n      }\n      function expand_tab( input ) {\n        return input.replace( / {0,3}\\t/g, \"    \" );\n      }\n\n      // Add inline content `inline` to `li`. inline comes from processInline\n      // so is an array of content\n      function add(li, loose, inline, nl) {\n        if ( loose ) {\n          li.push( [ \"para\" ].concat(inline) );\n          return;\n        }\n        // Hmmm, should this be any block level element or just paras?\n        var add_to = li[li.length -1] instanceof Array && li[li.length - 1][0] == \"para\"\n                   ? li[li.length -1]\n                   : li;\n\n        // If there is already some content in this list, add the new line in\n        if ( nl && li.length > 1 ) inline.unshift(nl);\n\n        for ( var i = 0; i < inline.length; i++ ) {\n          var what = inline[i],\n              is_str = typeof what == \"string\";\n          if ( is_str && add_to.length > 1 && typeof add_to[add_to.length-1] == \"string\" ) {\n            add_to[ add_to.length-1 ] += what;\n          }\n          else {\n            add_to.push( what );\n          }\n        }\n      }\n\n      // contained means have an indent greater than the current one. On\n      // *every* line in the block\n      function get_contained_blocks( depth, blocks ) {\n\n        var re = new RegExp( \"^(\" + indent_re + \"{\" + depth + \"}.*?\\\\n?)*$\" ),\n            replace = new RegExp(\"^\" + indent_re + \"{\" + depth + \"}\", \"gm\"),\n            ret = [];\n\n        while ( blocks.length > 0 ) {\n          if ( re.exec( blocks[0] ) ) {\n            var b = blocks.shift(),\n                // Now remove that indent\n                x = b.replace( replace, \"\");\n\n            ret.push( mk_block( x, b.trailing, b.lineNumber ) );\n          }\n          else {\n            break;\n          }\n        }\n        return ret;\n      }\n\n      // passed to stack.forEach to turn list items up the stack into paras\n      function paragraphify(s, i, stack) {\n        var list = s.list;\n        var last_li = list[list.length-1];\n\n        if ( last_li[1] instanceof Array && last_li[1][0] == \"para\" ) {\n          return;\n        }\n        if ( i + 1 == stack.length ) {\n          // Last stack frame\n          // Keep the same array, but replace the contents\n          last_li.push( [\"para\"].concat( last_li.splice(1, last_li.length - 1) ) );\n        }\n        else {\n          var sublist = last_li.pop();\n          last_li.push( [\"para\"].concat( last_li.splice(1, last_li.length - 1) ), sublist );\n        }\n      }\n\n      // The matcher function\n      return function( block, next ) {\n        var m = block.match( is_list_re );\n        if ( !m ) return undefined;\n\n        function make_list( m ) {\n          var list = bullet_list.exec( m[2] )\n                   ? [\"bulletlist\"]\n                   : [\"numberlist\"];\n\n          stack.push( { list: list, indent: m[1] } );\n          return list;\n        }\n\n\n        var stack = [], // Stack of lists for nesting.\n            list = make_list( m ),\n            last_li,\n            loose = false,\n            ret = [ stack[0].list ],\n            i;\n\n        // Loop to search over block looking for inner block elements and loose lists\n        loose_search:\n        while ( true ) {\n          // Split into lines preserving new lines at end of line\n          var lines = block.split( /(?=\\n)/ );\n\n          // We have to grab all lines for a li and call processInline on them\n          // once as there are some inline things that can span lines.\n          var li_accumulate = \"\";\n\n          // Loop over the lines in this block looking for tight lists.\n          tight_search:\n          for ( var line_no = 0; line_no < lines.length; line_no++ ) {\n            var nl = \"\",\n                l = lines[line_no].replace(/^\\n/, function(n) { nl = n; return \"\"; });\n\n            // TODO: really should cache this\n            var line_re = regex_for_depth( stack.length );\n\n            m = l.match( line_re );\n            //print( \"line:\", uneval(l), \"\\nline match:\", uneval(m) );\n\n            // We have a list item\n            if ( m[1] !== undefined ) {\n              // Process the previous list item, if any\n              if ( li_accumulate.length ) {\n                add( last_li, loose, this.processInline( li_accumulate ), nl );\n                // Loose mode will have been dealt with. Reset it\n                loose = false;\n                li_accumulate = \"\";\n              }\n\n              m[1] = expand_tab( m[1] );\n              var wanted_depth = Math.floor(m[1].length/4)+1;\n              //print( \"want:\", wanted_depth, \"stack:\", stack.length);\n              if ( wanted_depth > stack.length ) {\n                // Deep enough for a nested list outright\n                //print ( \"new nested list\" );\n                list = make_list( m );\n                last_li.push( list );\n                last_li = list[1] = [ \"listitem\" ];\n              }\n              else {\n                // We aren't deep enough to be strictly a new level. This is\n                // where Md.pl goes nuts. If the indent matches a level in the\n                // stack, put it there, else put it one deeper then the\n                // wanted_depth deserves.\n                var found = false;\n                for ( i = 0; i < stack.length; i++ ) {\n                  if ( stack[ i ].indent != m[1] ) continue;\n                  list = stack[ i ].list;\n                  stack.splice( i+1, stack.length - (i+1) );\n                  found = true;\n                  break;\n                }\n\n                if (!found) {\n                  //print(\"not found. l:\", uneval(l));\n                  wanted_depth++;\n                  if ( wanted_depth <= stack.length ) {\n                    stack.splice(wanted_depth, stack.length - wanted_depth);\n                    //print(\"Desired depth now\", wanted_depth, \"stack:\", stack.length);\n                    list = stack[wanted_depth-1].list;\n                    //print(\"list:\", uneval(list) );\n                  }\n                  else {\n                    //print (\"made new stack for messy indent\");\n                    list = make_list(m);\n                    last_li.push(list);\n                  }\n                }\n\n                //print( uneval(list), \"last\", list === stack[stack.length-1].list );\n                last_li = [ \"listitem\" ];\n                list.push(last_li);\n              } // end depth of shenegains\n              nl = \"\";\n            }\n\n            // Add content\n            if ( l.length > m[0].length ) {\n              li_accumulate += nl + l.substr( m[0].length );\n            }\n          } // tight_search\n\n          if ( li_accumulate.length ) {\n            add( last_li, loose, this.processInline( li_accumulate ), nl );\n            // Loose mode will have been dealt with. Reset it\n            loose = false;\n            li_accumulate = \"\";\n          }\n\n          // Look at the next block - we might have a loose list. Or an extra\n          // paragraph for the current li\n          var contained = get_contained_blocks( stack.length, next );\n\n          // Deal with code blocks or properly nested lists\n          if ( contained.length > 0 ) {\n            // Make sure all listitems up the stack are paragraphs\n            forEach( stack, paragraphify, this);\n\n            last_li.push.apply( last_li, this.toTree( contained, [] ) );\n          }\n\n          var next_block = next[0] && next[0].valueOf() || \"\";\n\n          if ( next_block.match(is_list_re) || next_block.match( /^ / ) ) {\n            block = next.shift();\n\n            // Check for an HR following a list: features/lists/hr_abutting\n            var hr = this.dialect.block.horizRule( block, next );\n\n            if ( hr ) {\n              ret.push.apply(ret, hr);\n              break;\n            }\n\n            // Make sure all listitems up the stack are paragraphs\n            forEach( stack, paragraphify, this);\n\n            loose = true;\n            continue loose_search;\n          }\n          break;\n        } // loose_search\n\n        return ret;\n      };\n    })(),\n\n    blockquote: function blockquote( block, next ) {\n      if ( !block.match( /^>/m ) )\n        return undefined;\n\n      var jsonml = [];\n\n      // separate out the leading abutting block, if any. I.e. in this case:\n      //\n      //  a\n      //  > b\n      //\n      if ( block[ 0 ] != \">\" ) {\n        var lines = block.split( /\\n/ ),\n            prev = [],\n            line_no = block.lineNumber;\n\n        // keep shifting lines until you find a crotchet\n        while ( lines.length && lines[ 0 ][ 0 ] != \">\" ) {\n            prev.push( lines.shift() );\n            line_no++;\n        }\n\n        var abutting = mk_block( prev.join( \"\\n\" ), \"\\n\", block.lineNumber );\n        jsonml.push.apply( jsonml, this.processBlock( abutting, [] ) );\n        // reassemble new block of just block quotes!\n        block = mk_block( lines.join( \"\\n\" ), block.trailing, line_no );\n      }\n\n\n      // if the next block is also a blockquote merge it in\n      while ( next.length && next[ 0 ][ 0 ] == \">\" ) {\n        var b = next.shift();\n        block = mk_block( block + block.trailing + b, b.trailing, block.lineNumber );\n      }\n\n      // Strip off the leading \"> \" and re-process as a block.\n      var input = block.replace( /^> ?/gm, \"\" ),\n          old_tree = this.tree,\n          processedBlock = this.toTree( input, [ \"blockquote\" ] ),\n          attr = extract_attr( processedBlock );\n\n      // If any link references were found get rid of them\n      if ( attr && attr.references ) {\n        delete attr.references;\n        // And then remove the attribute object if it's empty\n        if ( isEmpty( attr ) ) {\n          processedBlock.splice( 1, 1 );\n        }\n      }\n\n      jsonml.push( processedBlock );\n      return jsonml;\n    },\n\n    referenceDefn: function referenceDefn( block, next) {\n      var re = /^\\s*\\[(.*?)\\]:\\s*(\\S+)(?:\\s+(?:(['\"])(.*?)\\3|\\((.*?)\\)))?\\n?/;\n      // interesting matches are [ , ref_id, url, , title, title ]\n\n      if ( !block.match(re) )\n        return undefined;\n\n      // make an attribute node if it doesn't exist\n      if ( !extract_attr( this.tree ) ) {\n        this.tree.splice( 1, 0, {} );\n      }\n\n      var attrs = extract_attr( this.tree );\n\n      // make a references hash if it doesn't exist\n      if ( attrs.references === undefined ) {\n        attrs.references = {};\n      }\n\n      var b = this.loop_re_over_block(re, block, function( m ) {\n\n        if ( m[2] && m[2][0] == \"<\" && m[2][m[2].length-1] == \">\" )\n          m[2] = m[2].substring( 1, m[2].length - 1 );\n\n        var ref = attrs.references[ m[1].toLowerCase() ] = {\n          href: m[2]\n        };\n\n        if ( m[4] !== undefined )\n          ref.title = m[4];\n        else if ( m[5] !== undefined )\n          ref.title = m[5];\n\n      } );\n\n      if ( b.length )\n        next.unshift( mk_block( b, block.trailing ) );\n\n      return [];\n    },\n\n    para: function para( block, next ) {\n      // everything's a para!\n      return [ [\"para\"].concat( this.processInline( block ) ) ];\n    }\n  }\n};\n\nMarkdown.dialects.Gruber.inline = {\n\n    __oneElement__: function oneElement( text, patterns_or_re, previous_nodes ) {\n      var m,\n          res,\n          lastIndex = 0;\n\n      patterns_or_re = patterns_or_re || this.dialect.inline.__patterns__;\n      var re = new RegExp( \"([\\\\s\\\\S]*?)(\" + (patterns_or_re.source || patterns_or_re) + \")\" );\n\n      m = re.exec( text );\n      if (!m) {\n        // Just boring text\n        return [ text.length, text ];\n      }\n      else if ( m[1] ) {\n        // Some un-interesting text matched. Return that first\n        return [ m[1].length, m[1] ];\n      }\n\n      var res;\n      if ( m[2] in this.dialect.inline ) {\n        res = this.dialect.inline[ m[2] ].call(\n                  this,\n                  text.substr( m.index ), m, previous_nodes || [] );\n      }\n      // Default for now to make dev easier. just slurp special and output it.\n      res = res || [ m[2].length, m[2] ];\n      return res;\n    },\n\n    __call__: function inline( text, patterns ) {\n\n      var out = [],\n          res;\n\n      function add(x) {\n        //D:self.debug(\"  adding output\", uneval(x));\n        if ( typeof x == \"string\" && typeof out[out.length-1] == \"string\" )\n          out[ out.length-1 ] += x;\n        else\n          out.push(x);\n      }\n\n      while ( text.length > 0 ) {\n        res = this.dialect.inline.__oneElement__.call(this, text, patterns, out );\n        text = text.substr( res.shift() );\n        forEach(res, add )\n      }\n\n      return out;\n    },\n\n    // These characters are intersting elsewhere, so have rules for them so that\n    // chunks of plain text blocks don't include them\n    \"]\": function () {},\n    \"}\": function () {},\n\n    __escape__ : /^\\\\[\\\\`\\*_{}\\[\\]()#\\+.!\\-]/,\n\n    \"\\\\\": function escaped( text ) {\n      // [ length of input processed, node/children to add... ]\n      // Only esacape: \\ ` * _ { } [ ] ( ) # * + - . !\n      if ( this.dialect.inline.__escape__.exec( text ) )\n        return [ 2, text.charAt( 1 ) ];\n      else\n        // Not an esacpe\n        return [ 1, \"\\\\\" ];\n    },\n\n    \"![\": function image( text ) {\n\n      // Unlike images, alt text is plain text only. no other elements are\n      // allowed in there\n\n      // ![Alt text](/path/to/img.jpg \"Optional title\")\n      //      1          2            3       4         <--- captures\n      var m = text.match( /^!\\[(.*?)\\][ \\t]*\\([ \\t]*([^\")]*?)(?:[ \\t]+([\"'])(.*?)\\3)?[ \\t]*\\)/ );\n\n      if ( m ) {\n        if ( m[2] && m[2][0] == \"<\" && m[2][m[2].length-1] == \">\" )\n          m[2] = m[2].substring( 1, m[2].length - 1 );\n\n        m[2] = this.dialect.inline.__call__.call( this, m[2], /\\\\/ )[0];\n\n        var attrs = { alt: m[1], href: m[2] || \"\" };\n        if ( m[4] !== undefined)\n          attrs.title = m[4];\n\n        return [ m[0].length, [ \"img\", attrs ] ];\n      }\n\n      // ![Alt text][id]\n      m = text.match( /^!\\[(.*?)\\][ \\t]*\\[(.*?)\\]/ );\n\n      if ( m ) {\n        // We can't check if the reference is known here as it likely wont be\n        // found till after. Check it in md tree->hmtl tree conversion\n        return [ m[0].length, [ \"img_ref\", { alt: m[1], ref: m[2].toLowerCase(), original: m[0] } ] ];\n      }\n\n      // Just consume the '!['\n      return [ 2, \"![\" ];\n    },\n\n    \"[\": function link( text ) {\n\n      var orig = String(text);\n      // Inline content is possible inside `link text`\n      var res = Markdown.DialectHelpers.inline_until_char.call( this, text.substr(1), \"]\" );\n\n      // No closing ']' found. Just consume the [\n      if ( !res ) return [ 1, \"[\" ];\n\n      var consumed = 1 + res[ 0 ],\n          children = res[ 1 ],\n          link,\n          attrs;\n\n      // At this point the first [...] has been parsed. See what follows to find\n      // out which kind of link we are (reference or direct url)\n      text = text.substr( consumed );\n\n      // [link text](/path/to/img.jpg \"Optional title\")\n      //                 1            2       3         <--- captures\n      // This will capture up to the last paren in the block. We then pull\n      // back based on if there a matching ones in the url\n      //    ([here](/url/(test))\n      // The parens have to be balanced\n      var m = text.match( /^\\s*\\([ \\t]*([^\"']*)(?:[ \\t]+([\"'])(.*?)\\2)?[ \\t]*\\)/ );\n      if ( m ) {\n        var url = m[1];\n        consumed += m[0].length;\n\n        if ( url && url[0] == \"<\" && url[url.length-1] == \">\" )\n          url = url.substring( 1, url.length - 1 );\n\n        // If there is a title we don't have to worry about parens in the url\n        if ( !m[3] ) {\n          var open_parens = 1; // One open that isn't in the capture\n          for ( var len = 0; len < url.length; len++ ) {\n            switch ( url[len] ) {\n            case \"(\":\n              open_parens++;\n              break;\n            case \")\":\n              if ( --open_parens == 0) {\n                consumed -= url.length - len;\n                url = url.substring(0, len);\n              }\n              break;\n            }\n          }\n        }\n\n        // Process escapes only\n        url = this.dialect.inline.__call__.call( this, url, /\\\\/ )[0];\n\n        attrs = { href: url || \"\" };\n        if ( m[3] !== undefined)\n          attrs.title = m[3];\n\n        link = [ \"link\", attrs ].concat( children );\n        return [ consumed, link ];\n      }\n\n      // [Alt text][id]\n      // [Alt text] [id]\n      m = text.match( /^\\s*\\[(.*?)\\]/ );\n\n      if ( m ) {\n\n        consumed += m[ 0 ].length;\n\n        // [links][] uses links as its reference\n        attrs = { ref: ( m[ 1 ] || String(children) ).toLowerCase(),  original: orig.substr( 0, consumed ) };\n\n        link = [ \"link_ref\", attrs ].concat( children );\n\n        // We can't check if the reference is known here as it likely wont be\n        // found till after. Check it in md tree->hmtl tree conversion.\n        // Store the original so that conversion can revert if the ref isn't found.\n        return [ consumed, link ];\n      }\n\n      // [id]\n      // Only if id is plain (no formatting.)\n      if ( children.length == 1 && typeof children[0] == \"string\" ) {\n\n        attrs = { ref: children[0].toLowerCase(),  original: orig.substr( 0, consumed ) };\n        link = [ \"link_ref\", attrs, children[0] ];\n        return [ consumed, link ];\n      }\n\n      // Just consume the \"[\"\n      return [ 1, \"[\" ];\n    },\n\n\n    \"<\": function autoLink( text ) {\n      var m;\n\n      if ( ( m = text.match( /^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\\.[a-zA-Z]+))>/ ) ) != null ) {\n        if ( m[3] ) {\n          return [ m[0].length, [ \"link\", { href: \"mailto:\" + m[3] }, m[3] ] ];\n\n        }\n        else if ( m[2] == \"mailto\" ) {\n          return [ m[0].length, [ \"link\", { href: m[1] }, m[1].substr(\"mailto:\".length ) ] ];\n        }\n        else\n          return [ m[0].length, [ \"link\", { href: m[1] }, m[1] ] ];\n      }\n\n      return [ 1, \"<\" ];\n    },\n\n    \"`\": function inlineCode( text ) {\n      // Inline code block. as many backticks as you like to start it\n      // Always skip over the opening ticks.\n      var m = text.match( /(`+)(([\\s\\S]*?)\\1)/ );\n\n      if ( m && m[2] )\n        return [ m[1].length + m[2].length, [ \"inlinecode\", m[3] ] ];\n      else {\n        // TODO: No matching end code found - warn!\n        return [ 1, \"`\" ];\n      }\n    },\n\n    \"  \\n\": function lineBreak( text ) {\n      return [ 3, [ \"linebreak\" ] ];\n    }\n\n};\n\n// Meta Helper/generator method for em and strong handling\nfunction strong_em( tag, md ) {\n\n  var state_slot = tag + \"_state\",\n      other_slot = tag == \"strong\" ? \"em_state\" : \"strong_state\";\n\n  function CloseTag(len) {\n    this.len_after = len;\n    this.name = \"close_\" + md;\n  }\n\n  return function ( text, orig_match ) {\n\n    if ( this[state_slot][0] == md ) {\n      // Most recent em is of this type\n      //D:this.debug(\"closing\", md);\n      this[state_slot].shift();\n\n      // \"Consume\" everything to go back to the recrusion in the else-block below\n      return[ text.length, new CloseTag(text.length-md.length) ];\n    }\n    else {\n      // Store a clone of the em/strong states\n      var other = this[other_slot].slice(),\n          state = this[state_slot].slice();\n\n      this[state_slot].unshift(md);\n\n      //D:this.debug_indent += \"  \";\n\n      // Recurse\n      var res = this.processInline( text.substr( md.length ) );\n      //D:this.debug_indent = this.debug_indent.substr(2);\n\n      var last = res[res.length - 1];\n\n      //D:this.debug(\"processInline from\", tag + \": \", uneval( res ) );\n\n      var check = this[state_slot].shift();\n      if ( last instanceof CloseTag ) {\n        res.pop();\n        // We matched! Huzzah.\n        var consumed = text.length - last.len_after;\n        return [ consumed, [ tag ].concat(res) ];\n      }\n      else {\n        // Restore the state of the other kind. We might have mistakenly closed it.\n        this[other_slot] = other;\n        this[state_slot] = state;\n\n        // We can't reuse the processed result as it could have wrong parsing contexts in it.\n        return [ md.length, md ];\n      }\n    }\n  }; // End returned function\n}\n\nMarkdown.dialects.Gruber.inline[\"**\"] = strong_em(\"strong\", \"**\");\nMarkdown.dialects.Gruber.inline[\"__\"] = strong_em(\"strong\", \"__\");\nMarkdown.dialects.Gruber.inline[\"*\"]  = strong_em(\"em\", \"*\");\nMarkdown.dialects.Gruber.inline[\"_\"]  = strong_em(\"em\", \"_\");\n\n\n// Build default order from insertion order.\nMarkdown.buildBlockOrder = function(d) {\n  var ord = [];\n  for ( var i in d ) {\n    if ( i == \"__order__\" || i == \"__call__\" ) continue;\n    ord.push( i );\n  }\n  d.__order__ = ord;\n};\n\n// Build patterns for inline matcher\nMarkdown.buildInlinePatterns = function(d) {\n  var patterns = [];\n\n  for ( var i in d ) {\n    // __foo__ is reserved and not a pattern\n    if ( i.match( /^__.*__$/) ) continue;\n    var l = i.replace( /([\\\\.*+?|()\\[\\]{}])/g, \"\\\\$1\" )\n             .replace( /\\n/, \"\\\\n\" );\n    patterns.push( i.length == 1 ? l : \"(?:\" + l + \")\" );\n  }\n\n  patterns = patterns.join(\"|\");\n  d.__patterns__ = patterns;\n  //print(\"patterns:\", uneval( patterns ) );\n\n  var fn = d.__call__;\n  d.__call__ = function(text, pattern) {\n    if ( pattern != undefined ) {\n      return fn.call(this, text, pattern);\n    }\n    else\n    {\n      return fn.call(this, text, patterns);\n    }\n  };\n};\n\nMarkdown.DialectHelpers = {};\nMarkdown.DialectHelpers.inline_until_char = function( text, want ) {\n  var consumed = 0,\n      nodes = [];\n\n  while ( true ) {\n    if ( text.charAt( consumed ) == want ) {\n      // Found the character we were looking for\n      consumed++;\n      return [ consumed, nodes ];\n    }\n\n    if ( consumed >= text.length ) {\n      // No closing char found. Abort.\n      return null;\n    }\n\n    var res = this.dialect.inline.__oneElement__.call(this, text.substr( consumed ) );\n    consumed += res[ 0 ];\n    // Add any returned nodes.\n    nodes.push.apply( nodes, res.slice( 1 ) );\n  }\n}\n\n// Helper function to make sub-classing a dialect easier\nMarkdown.subclassDialect = function( d ) {\n  function Block() {}\n  Block.prototype = d.block;\n  function Inline() {}\n  Inline.prototype = d.inline;\n\n  return { block: new Block(), inline: new Inline() };\n};\n\nMarkdown.buildBlockOrder ( Markdown.dialects.Gruber.block );\nMarkdown.buildInlinePatterns( Markdown.dialects.Gruber.inline );\n\nMarkdown.dialects.Maruku = Markdown.subclassDialect( Markdown.dialects.Gruber );\n\nMarkdown.dialects.Maruku.processMetaHash = function processMetaHash( meta_string ) {\n  var meta = split_meta_hash( meta_string ),\n      attr = {};\n\n  for ( var i = 0; i < meta.length; ++i ) {\n    // id: #foo\n    if ( /^#/.test( meta[ i ] ) ) {\n      attr.id = meta[ i ].substring( 1 );\n    }\n    // class: .foo\n    else if ( /^\\./.test( meta[ i ] ) ) {\n      // if class already exists, append the new one\n      if ( attr[\"class\"] ) {\n        attr[\"class\"] = attr[\"class\"] + meta[ i ].replace( /./, \" \" );\n      }\n      else {\n        attr[\"class\"] = meta[ i ].substring( 1 );\n      }\n    }\n    // attribute: foo=bar\n    else if ( /\\=/.test( meta[ i ] ) ) {\n      var s = meta[ i ].split( /\\=/ );\n      attr[ s[ 0 ] ] = s[ 1 ];\n    }\n  }\n\n  return attr;\n}\n\nfunction split_meta_hash( meta_string ) {\n  var meta = meta_string.split( \"\" ),\n      parts = [ \"\" ],\n      in_quotes = false;\n\n  while ( meta.length ) {\n    var letter = meta.shift();\n    switch ( letter ) {\n      case \" \" :\n        // if we're in a quoted section, keep it\n        if ( in_quotes ) {\n          parts[ parts.length - 1 ] += letter;\n        }\n        // otherwise make a new part\n        else {\n          parts.push( \"\" );\n        }\n        break;\n      case \"'\" :\n      case '\"' :\n        // reverse the quotes and move straight on\n        in_quotes = !in_quotes;\n        break;\n      case \"\\\\\" :\n        // shift off the next letter to be used straight away.\n        // it was escaped so we'll keep it whatever it is\n        letter = meta.shift();\n      default :\n        parts[ parts.length - 1 ] += letter;\n        break;\n    }\n  }\n\n  return parts;\n}\n\nMarkdown.dialects.Maruku.block.document_meta = function document_meta( block, next ) {\n  // we're only interested in the first block\n  if ( block.lineNumber > 1 ) return undefined;\n\n  // document_meta blocks consist of one or more lines of `Key: Value\\n`\n  if ( ! block.match( /^(?:\\w+:.*\\n)*\\w+:.*$/ ) ) return undefined;\n\n  // make an attribute node if it doesn't exist\n  if ( !extract_attr( this.tree ) ) {\n    this.tree.splice( 1, 0, {} );\n  }\n\n  var pairs = block.split( /\\n/ );\n  for ( p in pairs ) {\n    var m = pairs[ p ].match( /(\\w+):\\s*(.*)$/ ),\n        key = m[ 1 ].toLowerCase(),\n        value = m[ 2 ];\n\n    this.tree[ 1 ][ key ] = value;\n  }\n\n  // document_meta produces no content!\n  return [];\n};\n\nMarkdown.dialects.Maruku.block.block_meta = function block_meta( block, next ) {\n  // check if the last line of the block is an meta hash\n  var m = block.match( /(^|\\n) {0,3}\\{:\\s*((?:\\\\\\}|[^\\}])*)\\s*\\}$/ );\n  if ( !m ) return undefined;\n\n  // process the meta hash\n  var attr = this.dialect.processMetaHash( m[ 2 ] );\n\n  var hash;\n\n  // if we matched ^ then we need to apply meta to the previous block\n  if ( m[ 1 ] === \"\" ) {\n    var node = this.tree[ this.tree.length - 1 ];\n    hash = extract_attr( node );\n\n    // if the node is a string (rather than JsonML), bail\n    if ( typeof node === \"string\" ) return undefined;\n\n    // create the attribute hash if it doesn't exist\n    if ( !hash ) {\n      hash = {};\n      node.splice( 1, 0, hash );\n    }\n\n    // add the attributes in\n    for ( a in attr ) {\n      hash[ a ] = attr[ a ];\n    }\n\n    // return nothing so the meta hash is removed\n    return [];\n  }\n\n  // pull the meta hash off the block and process what's left\n  var b = block.replace( /\\n.*$/, \"\" ),\n      result = this.processBlock( b, [] );\n\n  // get or make the attributes hash\n  hash = extract_attr( result[ 0 ] );\n  if ( !hash ) {\n    hash = {};\n    result[ 0 ].splice( 1, 0, hash );\n  }\n\n  // attach the attributes to the block\n  for ( a in attr ) {\n    hash[ a ] = attr[ a ];\n  }\n\n  return result;\n};\n\nMarkdown.dialects.Maruku.block.definition_list = function definition_list( block, next ) {\n  // one or more terms followed by one or more definitions, in a single block\n  var tight = /^((?:[^\\s:].*\\n)+):\\s+([\\s\\S]+)$/,\n      list = [ \"dl\" ],\n      i, m;\n\n  // see if we're dealing with a tight or loose block\n  if ( ( m = block.match( tight ) ) ) {\n    // pull subsequent tight DL blocks out of `next`\n    var blocks = [ block ];\n    while ( next.length && tight.exec( next[ 0 ] ) ) {\n      blocks.push( next.shift() );\n    }\n\n    for ( var b = 0; b < blocks.length; ++b ) {\n      var m = blocks[ b ].match( tight ),\n          terms = m[ 1 ].replace( /\\n$/, \"\" ).split( /\\n/ ),\n          defns = m[ 2 ].split( /\\n:\\s+/ );\n\n      // print( uneval( m ) );\n\n      for ( i = 0; i < terms.length; ++i ) {\n        list.push( [ \"dt\", terms[ i ] ] );\n      }\n\n      for ( i = 0; i < defns.length; ++i ) {\n        // run inline processing over the definition\n        list.push( [ \"dd\" ].concat( this.processInline( defns[ i ].replace( /(\\n)\\s+/, \"$1\" ) ) ) );\n      }\n    }\n  }\n  else {\n    return undefined;\n  }\n\n  return [ list ];\n};\n\n// splits on unescaped instances of @ch. If @ch is not a character the result\n// can be unpredictable\n\nMarkdown.dialects.Maruku.block.table = function table (block, next) {\n\n    var _split_on_unescaped = function(s, ch) {\n        ch = ch || '\\\\s';\n        if (ch.match(/^[\\\\|\\[\\]{}?*.+^$]$/)) { ch = '\\\\' + ch; }\n        var res = [ ],\n            r = new RegExp('^((?:\\\\\\\\.|[^\\\\\\\\' + ch + '])*)' + ch + '(.*)'),\n            m;\n        while(m = s.match(r)) {\n            res.push(m[1]);\n            s = m[2];\n        }\n        res.push(s);\n        return res;\n    }\n\n    var leading_pipe = /^ {0,3}\\|(.+)\\n {0,3}\\|\\s*([\\-:]+[\\-| :]*)\\n((?:\\s*\\|.*(?:\\n|$))*)(?=\\n|$)/,\n        // find at least an unescaped pipe in each line\n        no_leading_pipe = /^ {0,3}(\\S(?:\\\\.|[^\\\\|])*\\|.*)\\n {0,3}([\\-:]+\\s*\\|[\\-| :]*)\\n((?:(?:\\\\.|[^\\\\|])*\\|.*(?:\\n|$))*)(?=\\n|$)/,\n        i, m;\n    if (m = block.match(leading_pipe)) {\n        // remove leading pipes in contents\n        // (header and horizontal rule already have the leading pipe left out)\n        m[3] = m[3].replace(/^\\s*\\|/gm, '');\n    } else if (! ( m = block.match(no_leading_pipe))) {\n        return undefined;\n    }\n\n    var table = [ \"table\", [ \"thead\", [ \"tr\" ] ], [ \"tbody\" ] ];\n\n    // remove trailing pipes, then split on pipes\n    // (no escaped pipes are allowed in horizontal rule)\n    m[2] = m[2].replace(/\\|\\s*$/, '').split('|');\n\n    // process alignment\n    var html_attrs = [ ];\n    forEach (m[2], function (s) {\n        if (s.match(/^\\s*-+:\\s*$/))       html_attrs.push({align: \"right\"});\n        else if (s.match(/^\\s*:-+\\s*$/))  html_attrs.push({align: \"left\"});\n        else if (s.match(/^\\s*:-+:\\s*$/)) html_attrs.push({align: \"center\"});\n        else                              html_attrs.push({});\n    });\n\n    // now for the header, avoid escaped pipes\n    m[1] = _split_on_unescaped(m[1].replace(/\\|\\s*$/, ''), '|');\n    for (i = 0; i < m[1].length; i++) {\n        table[1][1].push(['th', html_attrs[i] || {}].concat(\n            this.processInline(m[1][i].trim())));\n    }\n\n    // now for body contents\n    forEach (m[3].replace(/\\|\\s*$/mg, '').split('\\n'), function (row) {\n        var html_row = ['tr'];\n        row = _split_on_unescaped(row, '|');\n        for (i = 0; i < row.length; i++) {\n            html_row.push(['td', html_attrs[i] || {}].concat(this.processInline(row[i].trim())));\n        }\n        table[2].push(html_row);\n    }, this);\n\n    return [table];\n}\n\nMarkdown.dialects.Maruku.inline[ \"{:\" ] = function inline_meta( text, matches, out ) {\n  if ( !out.length ) {\n    return [ 2, \"{:\" ];\n  }\n\n  // get the preceeding element\n  var before = out[ out.length - 1 ];\n\n  if ( typeof before === \"string\" ) {\n    return [ 2, \"{:\" ];\n  }\n\n  // match a meta hash\n  var m = text.match( /^\\{:\\s*((?:\\\\\\}|[^\\}])*)\\s*\\}/ );\n\n  // no match, false alarm\n  if ( !m ) {\n    return [ 2, \"{:\" ];\n  }\n\n  // attach the attributes to the preceeding element\n  var meta = this.dialect.processMetaHash( m[ 1 ] ),\n      attr = extract_attr( before );\n\n  if ( !attr ) {\n    attr = {};\n    before.splice( 1, 0, attr );\n  }\n\n  for ( var k in meta ) {\n    attr[ k ] = meta[ k ];\n  }\n\n  // cut out the string and replace it with nothing\n  return [ m[ 0 ].length, \"\" ];\n};\n\nMarkdown.dialects.Maruku.inline.__escape__ = /^\\\\[\\\\`\\*_{}\\[\\]()#\\+.!\\-|:]/;\n\nMarkdown.buildBlockOrder ( Markdown.dialects.Maruku.block );\nMarkdown.buildInlinePatterns( Markdown.dialects.Maruku.inline );\n\nvar isArray = Array.isArray || function(obj) {\n  return Object.prototype.toString.call(obj) == \"[object Array]\";\n};\n\nvar forEach;\n// Don't mess with Array.prototype. Its not friendly\nif ( Array.prototype.forEach ) {\n  forEach = function( arr, cb, thisp ) {\n    return arr.forEach( cb, thisp );\n  };\n}\nelse {\n  forEach = function(arr, cb, thisp) {\n    for (var i = 0; i < arr.length; i++) {\n      cb.call(thisp || arr, arr[i], i, arr);\n    }\n  }\n}\n\nvar isEmpty = function( obj ) {\n  for ( var key in obj ) {\n    if ( hasOwnProperty.call( obj, key ) ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction extract_attr( jsonml ) {\n  return isArray(jsonml)\n      && jsonml.length > 1\n      && typeof jsonml[ 1 ] === \"object\"\n      && !( isArray(jsonml[ 1 ]) )\n      ? jsonml[ 1 ]\n      : undefined;\n}\n\n\n\n/**\n *  renderJsonML( jsonml[, options] ) -> String\n *  - jsonml (Array): JsonML array to render to XML\n *  - options (Object): options\n *\n *  Converts the given JsonML into well-formed XML.\n *\n *  The options currently understood are:\n *\n *  - root (Boolean): wether or not the root node should be included in the\n *    output, or just its children. The default `false` is to not include the\n *    root itself.\n */\nexpose.renderJsonML = function( jsonml, options ) {\n  options = options || {};\n  // include the root element in the rendered output?\n  options.root = options.root || false;\n\n  var content = [];\n\n  if ( options.root ) {\n    content.push( render_tree( jsonml ) );\n  }\n  else {\n    jsonml.shift(); // get rid of the tag\n    if ( jsonml.length && typeof jsonml[ 0 ] === \"object\" && !( jsonml[ 0 ] instanceof Array ) ) {\n      jsonml.shift(); // get rid of the attributes\n    }\n\n    while ( jsonml.length ) {\n      content.push( render_tree( jsonml.shift() ) );\n    }\n  }\n\n  return content.join( \"\\n\\n\" );\n};\n\nfunction escapeHTML( text ) {\n  return text.replace( /&/g, \"&amp;\" )\n             .replace( /</g, \"&lt;\" )\n             .replace( />/g, \"&gt;\" )\n             .replace( /\"/g, \"&quot;\" )\n             .replace( /'/g, \"&#39;\" );\n}\n\nfunction render_tree( jsonml ) {\n  // basic case\n  if ( typeof jsonml === \"string\" ) {\n    return escapeHTML( jsonml );\n  }\n\n  var tag = jsonml.shift(),\n      attributes = {},\n      content = [];\n\n  if ( jsonml.length && typeof jsonml[ 0 ] === \"object\" && !( jsonml[ 0 ] instanceof Array ) ) {\n    attributes = jsonml.shift();\n  }\n\n  while ( jsonml.length ) {\n    content.push( render_tree( jsonml.shift() ) );\n  }\n\n  var tag_attrs = \"\";\n  for ( var a in attributes ) {\n    tag_attrs += \" \" + a + '=\"' + escapeHTML( attributes[ a ] ) + '\"';\n  }\n\n  // be careful about adding whitespace here for inline elements\n  if ( tag == \"img\" || tag == \"br\" || tag == \"hr\" ) {\n    return \"<\"+ tag + tag_attrs + \"/>\";\n  }\n  else {\n    return \"<\"+ tag + tag_attrs + \">\" + content.join( \"\" ) + \"</\" + tag + \">\";\n  }\n}\n\nfunction convert_tree_to_html( tree, references, options ) {\n  var i;\n  options = options || {};\n\n  // shallow clone\n  var jsonml = tree.slice( 0 );\n\n  if ( typeof options.preprocessTreeNode === \"function\" ) {\n      jsonml = options.preprocessTreeNode(jsonml, references);\n  }\n\n  // Clone attributes if they exist\n  var attrs = extract_attr( jsonml );\n  if ( attrs ) {\n    jsonml[ 1 ] = {};\n    for ( i in attrs ) {\n      jsonml[ 1 ][ i ] = attrs[ i ];\n    }\n    attrs = jsonml[ 1 ];\n  }\n\n  // basic case\n  if ( typeof jsonml === \"string\" ) {\n    return jsonml;\n  }\n\n  // convert this node\n  switch ( jsonml[ 0 ] ) {\n    case \"header\":\n      jsonml[ 0 ] = \"h\" + jsonml[ 1 ].level;\n      delete jsonml[ 1 ].level;\n      break;\n    case \"bulletlist\":\n      jsonml[ 0 ] = \"ul\";\n      break;\n    case \"numberlist\":\n      jsonml[ 0 ] = \"ol\";\n      break;\n    case \"listitem\":\n      jsonml[ 0 ] = \"li\";\n      break;\n    case \"para\":\n      jsonml[ 0 ] = \"p\";\n      break;\n    case \"markdown\":\n      jsonml[ 0 ] = \"html\";\n      if ( attrs ) delete attrs.references;\n      break;\n    case \"code_block\":\n      jsonml[ 0 ] = \"pre\";\n      i = attrs ? 2 : 1;\n      var code = [ \"code\" ];\n      code.push.apply( code, jsonml.splice( i, jsonml.length - i ) );\n      jsonml[ i ] = code;\n      break;\n    case \"inlinecode\":\n      jsonml[ 0 ] = \"code\";\n      break;\n    case \"img\":\n      jsonml[ 1 ].src = jsonml[ 1 ].href;\n      delete jsonml[ 1 ].href;\n      break;\n    case \"linebreak\":\n      jsonml[ 0 ] = \"br\";\n    break;\n    case \"link\":\n      jsonml[ 0 ] = \"a\";\n      break;\n    case \"link_ref\":\n      jsonml[ 0 ] = \"a\";\n\n      // grab this ref and clean up the attribute node\n      var ref = references[ attrs.ref ];\n\n      // if the reference exists, make the link\n      if ( ref ) {\n        delete attrs.ref;\n\n        // add in the href and title, if present\n        attrs.href = ref.href;\n        if ( ref.title ) {\n          attrs.title = ref.title;\n        }\n\n        // get rid of the unneeded original text\n        delete attrs.original;\n      }\n      // the reference doesn't exist, so revert to plain text\n      else {\n        return attrs.original;\n      }\n      break;\n    case \"img_ref\":\n      jsonml[ 0 ] = \"img\";\n\n      // grab this ref and clean up the attribute node\n      var ref = references[ attrs.ref ];\n\n      // if the reference exists, make the link\n      if ( ref ) {\n        delete attrs.ref;\n\n        // add in the href and title, if present\n        attrs.src = ref.href;\n        if ( ref.title ) {\n          attrs.title = ref.title;\n        }\n\n        // get rid of the unneeded original text\n        delete attrs.original;\n      }\n      // the reference doesn't exist, so revert to plain text\n      else {\n        return attrs.original;\n      }\n      break;\n  }\n\n  // convert all the children\n  i = 1;\n\n  // deal with the attribute node, if it exists\n  if ( attrs ) {\n    // if there are keys, skip over it\n    for ( var key in jsonml[ 1 ] ) {\n        i = 2;\n        break;\n    }\n    // if there aren't, remove it\n    if ( i === 1 ) {\n      jsonml.splice( i, 1 );\n    }\n  }\n\n  for ( ; i < jsonml.length; ++i ) {\n    jsonml[ i ] = convert_tree_to_html( jsonml[ i ], references, options );\n  }\n\n  return jsonml;\n}\n\n\n// merges adjacent text nodes into a single node\nfunction merge_text_nodes( jsonml ) {\n  // skip the tag name and attribute hash\n  var i = extract_attr( jsonml ) ? 2 : 1;\n\n  while ( i < jsonml.length ) {\n    // if it's a string check the next item too\n    if ( typeof jsonml[ i ] === \"string\" ) {\n      if ( i + 1 < jsonml.length && typeof jsonml[ i + 1 ] === \"string\" ) {\n        // merge the second string into the first and remove it\n        jsonml[ i ] += jsonml.splice( i + 1, 1 )[ 0 ];\n      }\n      else {\n        ++i;\n      }\n    }\n    // if it's not a string recurse\n    else {\n      merge_text_nodes( jsonml[ i ] );\n      ++i;\n    }\n  }\n}\n\n} )( (function() {\n  if ( typeof exports === \"undefined\" ) {\n    window.markdown = {};\n    return window.markdown;\n  }\n  else {\n    return exports;\n  }\n} )() );\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\n(function () {\n    try {\n        cachedSetTimeout = setTimeout;\n    } catch (e) {\n        cachedSetTimeout = function () {\n            throw new Error('setTimeout is not defined');\n        }\n    }\n    try {\n        cachedClearTimeout = clearTimeout;\n    } catch (e) {\n        cachedClearTimeout = function () {\n            throw new Error('clearTimeout is not defined');\n        }\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n"]}